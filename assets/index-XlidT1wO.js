var e,t,s,r,n,a,i,o,l,c,d,u,h,m,p,f,g,x,v,y,b,w,j,_,N,k,S,C,E,T,R,O,A,P,I,M,D,$,L,U,F,B,z,q,W,H,K,V,G,Z,J,Y,Q,X,ee,te,se,re,ne,ae,ie,oe,le,ce,de,ue,he,me,pe,fe,ge=Object.defineProperty,xe=e=>{throw TypeError(e)},ve=(e,t,s)=>((e,t,s)=>t in e?ge(e,t,{enumerable:!0,configurable:!0,writable:!0,value:s}):e[t]=s)(e,"symbol"!=typeof t?t+"":t,s),ye=(e,t,s)=>t.has(e)||xe("Cannot "+s),be=(e,t,s)=>(ye(e,t,"read from private field"),s?s.call(e):t.get(e)),we=(e,t,s)=>t.has(e)?xe("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,s),je=(e,t,s,r)=>(ye(e,t,"write to private field"),r?r.call(e,s):t.set(e,s),s),_e=(e,t,s)=>(ye(e,t,"access private method"),s),Ne=(e,t,s,r)=>({set _(r){je(e,t,r,s)},get _(){return be(e,t,r)}});import{c as ke,a as Se,u as Ce,j as Ee,B as Te,P as Re,V as Oe,b as Ae,d as Pe,e as Ie,f as Me,R as De,g as $e,h as Le,i as Ue,k as Fe,A as Be,D as ze,C as qe,l as We,m as He,n as Ke,S as Ve,_ as Ge,t as Ze,o as Je,O as Ye,p as Qe,q as Xe,T as et,r as tt,s as st,v as rt,w as nt,x as at,y as it,z as ot,E as lt,L as ct,F as dt,G as ut,H as ht,I as mt,J as pt,K as ft,M as gt,N as xt,Q as vt,U as yt,W as bt,X as wt,Y as jt,Z as _t,$ as Nt,a0 as kt,a1 as St,a2 as Ct,a3 as Et,a4 as Tt,a5 as Rt,a6 as Ot,a7 as At,a8 as Pt,a9 as It,aa as Mt,ab as Dt,ac as $t,ad as Lt}from"./ui-vendor-CzUrEKA-.js";import{a as Ut,g as Ft,R as Bt,r as zt,b as qt,d as Wt,u as Ht,L as Kt,e as Vt,f as Gt,h as Zt,i as Jt,j as Yt,H as Qt}from"./react-vendor-DztFrUc7.js";function Xt(e,t){for(var s=0;s<t.length;s++){const r=t[s];if("string"!=typeof r&&!Array.isArray(r))for(const t in r)if("default"!==t&&!(t in e)){const s=Object.getOwnPropertyDescriptor(r,t);s&&Object.defineProperty(e,t,s.get?s:{enumerable:!0,get:()=>r[t]})}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}!function(){const e=document.createElement("link").relList;if(!(e&&e.supports&&e.supports("modulepreload"))){for(const e of document.querySelectorAll('link[rel="modulepreload"]'))t(e);new MutationObserver(e=>{for(const s of e)if("childList"===s.type)for(const e of s.addedNodes)"LINK"===e.tagName&&"modulepreload"===e.rel&&t(e)}).observe(document,{childList:!0,subtree:!0})}function t(e){if(e.ep)return;e.ep=!0;const t=function(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerPolicy&&(t.referrerPolicy=e.referrerPolicy),"use-credentials"===e.crossOrigin?t.credentials="include":"anonymous"===e.crossOrigin?t.credentials="omit":t.credentials="same-origin",t}(e);fetch(e.href,t)}}();var es=Ut;fe=es.createRoot,es.hydrateRoot;var ts="undefined"!=typeof Element,ss="function"==typeof Map,rs="function"==typeof Set,ns="function"==typeof ArrayBuffer&&!!ArrayBuffer.isView;function as(e,t){if(e===t)return!0;if(e&&t&&"object"==typeof e&&"object"==typeof t){if(e.constructor!==t.constructor)return!1;var s,r,n,a;if(Array.isArray(e)){if((s=e.length)!=t.length)return!1;for(r=s;0!==r--;)if(!as(e[r],t[r]))return!1;return!0}if(ss&&e instanceof Map&&t instanceof Map){if(e.size!==t.size)return!1;for(a=e.entries();!(r=a.next()).done;)if(!t.has(r.value[0]))return!1;for(a=e.entries();!(r=a.next()).done;)if(!as(r.value[1],t.get(r.value[0])))return!1;return!0}if(rs&&e instanceof Set&&t instanceof Set){if(e.size!==t.size)return!1;for(a=e.entries();!(r=a.next()).done;)if(!t.has(r.value[0]))return!1;return!0}if(ns&&ArrayBuffer.isView(e)&&ArrayBuffer.isView(t)){if((s=e.length)!=t.length)return!1;for(r=s;0!==r--;)if(e[r]!==t[r])return!1;return!0}if(e.constructor===RegExp)return e.source===t.source&&e.flags===t.flags;if(e.valueOf!==Object.prototype.valueOf&&"function"==typeof e.valueOf&&"function"==typeof t.valueOf)return e.valueOf()===t.valueOf();if(e.toString!==Object.prototype.toString&&"function"==typeof e.toString&&"function"==typeof t.toString)return e.toString()===t.toString();if((s=(n=Object.keys(e)).length)!==Object.keys(t).length)return!1;for(r=s;0!==r--;)if(!Object.prototype.hasOwnProperty.call(t,n[r]))return!1;if(ts&&e instanceof Element)return!1;for(r=s;0!==r--;)if(("_owner"!==n[r]&&"__v"!==n[r]&&"__o"!==n[r]||!e.$$typeof)&&!as(e[n[r]],t[n[r]]))return!1;return!0}return e!=e&&t!=t}const is=Ft(function(e,t){try{return as(e,t)}catch(s){if((s.message||"").match(/stack|recursion/i))return!1;throw s}});const os=Ft(function(e,t,s,r,n,a,i,o){if(!e){var l;if(void 0===t)l=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var c=[s,r,n,a,i,o],d=0;(l=new Error(t.replace(/%s/g,function(){return c[d++]}))).name="Invariant Violation"}throw l.framesToPop=1,l}});const ls=Ft(function(e,t,s,r){var n=s?s.call(r,e,t):void 0;if(void 0!==n)return!!n;if(e===t)return!0;if("object"!=typeof e||!e||"object"!=typeof t||!t)return!1;var a=Object.keys(e),i=Object.keys(t);if(a.length!==i.length)return!1;for(var o=Object.prototype.hasOwnProperty.bind(t),l=0;l<a.length;l++){var c=a[l];if(!o(c))return!1;var d=e[c],u=t[c];if(!1===(n=s?s.call(r,d,u,c):void 0)||void 0===n&&d!==u)return!1}return!0});var cs=(e=>(e.BASE="base",e.BODY="body",e.HEAD="head",e.HTML="html",e.LINK="link",e.META="meta",e.NOSCRIPT="noscript",e.SCRIPT="script",e.STYLE="style",e.TITLE="title",e.FRAGMENT="Symbol(react.fragment)",e))(cs||{}),ds={rel:["amphtml","canonical","alternate"]},us={type:["application/ld+json"]},hs={charset:"",name:["generator","robots","description"],property:["og:type","og:title","og:url","og:image","og:image:alt","og:description","twitter:url","twitter:title","twitter:description","twitter:image","twitter:image:alt","twitter:card","twitter:site"]},ms=Object.values(cs),ps={accesskey:"accessKey",charset:"charSet",class:"className",contenteditable:"contentEditable",contextmenu:"contextMenu","http-equiv":"httpEquiv",itemprop:"itemProp",tabindex:"tabIndex"},fs=Object.entries(ps).reduce((e,[t,s])=>(e[s]=t,e),{}),gs="data-rh",xs="defaultTitle",vs="defer",ys="encodeSpecialCharacters",bs="onChangeClientState",ws="titleTemplate",js="prioritizeSeoTags",_s=(e,t)=>{for(let s=e.length-1;s>=0;s-=1){const r=e[s];if(Object.prototype.hasOwnProperty.call(r,t))return r[t]}return null},Ns=e=>{let t=_s(e,"title");const s=_s(e,ws);if(Array.isArray(t)&&(t=t.join("")),s&&t)return s.replace(/%s/g,()=>t);const r=_s(e,xs);return t||r||void 0},ks=e=>_s(e,bs)||(()=>{}),Ss=(e,t)=>t.filter(t=>void 0!==t[e]).map(t=>t[e]).reduce((e,t)=>({...e,...t}),{}),Cs=(e,t)=>t.filter(e=>void 0!==e.base).map(e=>e.base).reverse().reduce((t,s)=>{if(!t.length){const r=Object.keys(s);for(let n=0;n<r.length;n+=1){const a=r[n].toLowerCase();if(-1!==e.indexOf(a)&&s[a])return t.concat(s)}}return t},[]),Es=(e,t,s)=>{const r={};return s.filter(t=>!!Array.isArray(t[e])||(void 0!==t[e]&&(t[e],console&&console.warn),!1)).map(t=>t[e]).reverse().reduce((e,s)=>{const n={};s.filter(e=>{let s;const a=Object.keys(e);for(let r=0;r<a.length;r+=1){const n=a[r],i=n.toLowerCase();-1===t.indexOf(i)||"rel"===s&&"canonical"===e[s].toLowerCase()||"rel"===i&&"stylesheet"===e[i].toLowerCase()||(s=i),-1===t.indexOf(n)||"innerHTML"!==n&&"cssText"!==n&&"itemprop"!==n||(s=n)}if(!s||!e[s])return!1;const i=e[s].toLowerCase();return r[s]||(r[s]={}),n[s]||(n[s]={}),!r[s][i]&&(n[s][i]=!0,!0)}).reverse().forEach(t=>e.push(t));const a=Object.keys(n);for(let t=0;t<a.length;t+=1){const e=a[t],s={...r[e],...n[e]};r[e]=s}return e},[]).reverse()},Ts=(e,t)=>{if(Array.isArray(e)&&e.length)for(let s=0;s<e.length;s+=1){if(e[s][t])return!0}return!1},Rs=e=>Array.isArray(e)?e.join(""):e,Os=(e,t)=>Array.isArray(e)?e.reduce((e,s)=>(((e,t)=>{const s=Object.keys(e);for(let r=0;r<s.length;r+=1)if(t[s[r]]&&t[s[r]].includes(e[s[r]]))return!0;return!1})(s,t)?e.priority.push(s):e.default.push(s),e),{priority:[],default:[]}):{default:e,priority:[]},As=(e,t)=>({...e,[t]:void 0}),Ps=["noscript","script","style"],Is=(e,t=!0)=>!1===t?String(e):String(e).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;"),Ms=e=>Object.keys(e).reduce((t,s)=>{const r=void 0!==e[s]?`${s}="${e[s]}"`:`${s}`;return t?`${t} ${r}`:r},""),Ds=(e,t={})=>Object.keys(e).reduce((t,s)=>(t[ps[s]||s]=e[s],t),t),$s=(e,t)=>t.map((t,s)=>{const r={key:s,[gs]:!0};return Object.keys(t).forEach(e=>{const s=ps[e]||e;if("innerHTML"===s||"cssText"===s){const e=t.innerHTML||t.cssText;r.dangerouslySetInnerHTML={__html:e}}else r[s]=t[e]}),Bt.createElement(e,r)}),Ls=(e,t,s=!0)=>{switch(e){case"title":return{toComponent:()=>((e,t,s)=>{const r=Ds(s,{key:t,[gs]:!0});return[Bt.createElement("title",r,t)]})(0,t.title,t.titleAttributes),toString:()=>((e,t,s,r)=>{const n=Ms(s),a=Rs(t);return n?`<${e} ${gs}="true" ${n}>${Is(a,r)}</${e}>`:`<${e} ${gs}="true">${Is(a,r)}</${e}>`})(e,t.title,t.titleAttributes,s)};case"bodyAttributes":case"htmlAttributes":return{toComponent:()=>Ds(t),toString:()=>Ms(t)};default:return{toComponent:()=>$s(e,t),toString:()=>((e,t,s=!0)=>t.reduce((t,r)=>{const n=r,a=Object.keys(n).filter(e=>!("innerHTML"===e||"cssText"===e)).reduce((e,t)=>{const r=void 0===n[t]?t:`${t}="${Is(n[t],s)}"`;return e?`${e} ${r}`:r},""),i=n.innerHTML||n.cssText||"",o=-1===Ps.indexOf(e);return`${t}<${e} ${gs}="true" ${a}${o?"/>":`>${i}</${e}>`}`},""))(e,t,s)}}},Us=e=>{const{baseTag:t,bodyAttributes:s,encode:r=!0,htmlAttributes:n,noscriptTags:a,styleTags:i,title:o="",titleAttributes:l,prioritizeSeoTags:c}=e;let{linkTags:d,metaTags:u,scriptTags:h}=e,m={toComponent:()=>{},toString:()=>""};return c&&({priorityMethods:m,linkTags:d,metaTags:u,scriptTags:h}=(({metaTags:e,linkTags:t,scriptTags:s,encode:r})=>{const n=Os(e,hs),a=Os(t,ds),i=Os(s,us);return{priorityMethods:{toComponent:()=>[...$s("meta",n.priority),...$s("link",a.priority),...$s("script",i.priority)],toString:()=>`${Ls("meta",n.priority,r)} ${Ls("link",a.priority,r)} ${Ls("script",i.priority,r)}`},metaTags:n.default,linkTags:a.default,scriptTags:i.default}})(e)),{priority:m,base:Ls("base",t,r),bodyAttributes:Ls("bodyAttributes",s,r),htmlAttributes:Ls("htmlAttributes",n,r),link:Ls("link",d,r),meta:Ls("meta",u,r),noscript:Ls("noscript",a,r),script:Ls("script",h,r),style:Ls("style",i,r),title:Ls("title",{title:o,titleAttributes:l},r)}},Fs=[],Bs=!("undefined"==typeof window||!window.document||!window.document.createElement),zs=class{constructor(e,t){ve(this,"instances",[]),ve(this,"canUseDOM",Bs),ve(this,"context"),ve(this,"value",{setHelmet:e=>{this.context.helmet=e},helmetInstances:{get:()=>this.canUseDOM?Fs:this.instances,add:e=>{(this.canUseDOM?Fs:this.instances).push(e)},remove:e=>{const t=(this.canUseDOM?Fs:this.instances).indexOf(e);(this.canUseDOM?Fs:this.instances).splice(t,1)}}}),this.context=e,this.canUseDOM=t||!1,t||(e.helmet=Us({baseTag:[],bodyAttributes:{},encodeSpecialCharacters:!0,htmlAttributes:{},linkTags:[],metaTags:[],noscriptTags:[],scriptTags:[],styleTags:[],title:"",titleAttributes:{}}))}},qs=Bt.createContext({}),Ws=(e=class extends zt.Component{constructor(t){super(t),ve(this,"helmetData"),this.helmetData=new zs(this.props.context||{},e.canUseDOM)}render(){return Bt.createElement(qs.Provider,{value:this.helmetData.value},this.props.children)}},ve(e,"canUseDOM",Bs),e),Hs=(e,t)=>{const s=document.head||document.querySelector("head"),r=s.querySelectorAll(`${e}[${gs}]`),n=[].slice.call(r),a=[];let i;return t&&t.length&&t.forEach(t=>{const s=document.createElement(e);for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))if("innerHTML"===e)s.innerHTML=t.innerHTML;else if("cssText"===e)s.styleSheet?s.styleSheet.cssText=t.cssText:s.appendChild(document.createTextNode(t.cssText));else{const r=e,n=void 0===t[r]?"":t[r];s.setAttribute(e,n)}s.setAttribute(gs,"true"),n.some((e,t)=>(i=t,s.isEqualNode(e)))?n.splice(i,1):a.push(s)}),n.forEach(e=>{var t;return null==(t=e.parentNode)?void 0:t.removeChild(e)}),a.forEach(e=>s.appendChild(e)),{oldTags:n,newTags:a}},Ks=(e,t)=>{const s=document.getElementsByTagName(e)[0];if(!s)return;const r=s.getAttribute(gs),n=r?r.split(","):[],a=[...n],i=Object.keys(t);for(const o of i){const e=t[o]||"";s.getAttribute(o)!==e&&s.setAttribute(o,e),-1===n.indexOf(o)&&n.push(o);const r=a.indexOf(o);-1!==r&&a.splice(r,1)}for(let o=a.length-1;o>=0;o-=1)s.removeAttribute(a[o]);n.length===a.length?s.removeAttribute(gs):s.getAttribute(gs)!==i.join(",")&&s.setAttribute(gs,i.join(","))},Vs=(e,t)=>{const{baseTag:s,bodyAttributes:r,htmlAttributes:n,linkTags:a,metaTags:i,noscriptTags:o,onChangeClientState:l,scriptTags:c,styleTags:d,title:u,titleAttributes:h}=e;Ks("body",r),Ks("html",n),((e,t)=>{void 0!==e&&document.title!==e&&(document.title=Rs(e)),Ks("title",t)})(u,h);const m={baseTag:Hs("base",s),linkTags:Hs("link",a),metaTags:Hs("meta",i),noscriptTags:Hs("noscript",o),scriptTags:Hs("script",c),styleTags:Hs("style",d)},p={},f={};Object.keys(m).forEach(e=>{const{newTags:t,oldTags:s}=m[e];t.length&&(p[e]=t),s.length&&(f[e]=m[e].oldTags)}),t&&t(),l(e,p,f)},Gs=null,Zs=e=>{Gs&&cancelAnimationFrame(Gs),e.defer?Gs=requestAnimationFrame(()=>{Vs(e,()=>{Gs=null})}):(Vs(e),Gs=null)},Js=class extends zt.Component{constructor(){super(...arguments),ve(this,"rendered",!1)}shouldComponentUpdate(e){return!ls(e,this.props)}componentDidUpdate(){this.emitChange()}componentWillUnmount(){const{helmetInstances:e}=this.props.context;e.remove(this),this.emitChange()}emitChange(){const{helmetInstances:e,setHelmet:t}=this.props.context;let s=null;const r=(n=e.get().map(e=>{const t={...e.props};return delete t.context,t}),{baseTag:Cs(["href"],n),bodyAttributes:Ss("bodyAttributes",n),defer:_s(n,vs),encode:_s(n,ys),htmlAttributes:Ss("htmlAttributes",n),linkTags:Es("link",["rel","href"],n),metaTags:Es("meta",["name","charset","http-equiv","property","itemprop"],n),noscriptTags:Es("noscript",["innerHTML"],n),onChangeClientState:ks(n),scriptTags:Es("script",["src","innerHTML"],n),styleTags:Es("style",["cssText"],n),title:Ns(n),titleAttributes:Ss("titleAttributes",n),prioritizeSeoTags:Ts(n,js)});var n;Ws.canUseDOM?Zs(r):Us&&(s=Us(r)),t(s)}init(){if(this.rendered)return;this.rendered=!0;const{helmetInstances:e}=this.props.context;e.add(this),this.emitChange()}render(){return this.init(),null}},Ys=(t=class extends zt.Component{shouldComponentUpdate(e){return!is(As(this.props,"helmetData"),As(e,"helmetData"))}mapNestedChildrenToProps(e,t){if(!t)return null;switch(e.type){case"script":case"noscript":return{innerHTML:t};case"style":return{cssText:t};default:throw new Error(`<${e.type} /> elements are self-closing and can not contain children. Refer to our API for more information.`)}}flattenArrayTypeChildren(e,t,s,r){return{...t,[e.type]:[...t[e.type]||[],{...s,...this.mapNestedChildrenToProps(e,r)}]}}mapObjectTypeChildren(e,t,s,r){switch(e.type){case"title":return{...t,[e.type]:r,titleAttributes:{...s}};case"body":return{...t,bodyAttributes:{...s}};case"html":return{...t,htmlAttributes:{...s}};default:return{...t,[e.type]:{...s}}}}mapArrayTypeChildrenToProps(e,t){let s={...t};return Object.keys(e).forEach(t=>{s={...s,[t]:e[t]}}),s}warnOnInvalidChildren(e,t){return os(ms.some(t=>e.type===t),"function"==typeof e.type?"You may be attempting to nest <Helmet> components within each other, which is not allowed. Refer to our API for more information.":`Only elements types ${ms.join(", ")} are allowed. Helmet does not support rendering <${e.type}> elements. Refer to our API for more information.`),os(!t||"string"==typeof t||Array.isArray(t)&&!t.some(e=>"string"!=typeof e),`Helmet expects a string as a child of <${e.type}>. Did you forget to wrap your children in braces? ( <${e.type}>{\`\`}</${e.type}> ) Refer to our API for more information.`),!0}mapChildrenToProps(e,t){let s={};return Bt.Children.forEach(e,e=>{if(!e||!e.props)return;const{children:r,...n}=e.props,a=Object.keys(n).reduce((e,t)=>(e[fs[t]||t]=n[t],e),{});let{type:i}=e;switch("symbol"==typeof i?i=i.toString():this.warnOnInvalidChildren(e,r),i){case"Symbol(react.fragment)":t=this.mapChildrenToProps(r,t);break;case"link":case"meta":case"noscript":case"script":case"style":s=this.flattenArrayTypeChildren(e,s,a,r);break;default:t=this.mapObjectTypeChildren(e,t,a,r)}}),this.mapArrayTypeChildrenToProps(s,t)}render(){const{children:e,...t}=this.props;let s={...t},{helmetData:r}=t;if(e&&(s=this.mapChildrenToProps(e,s)),r&&!(r instanceof zs)){r=new zs(r.context,!0),delete s.helmetData}return r?Bt.createElement(Js,{...s,context:r.value}):Bt.createElement(qs.Consumer,null,e=>Bt.createElement(Js,{...s,context:e}))}},ve(t,"defaultProps",{defer:!0,encodeSpecialCharacters:!0,prioritizeSeoTags:!1}),t);let Qs=0;const Xs=new Map,er=e=>{if(Xs.has(e))return;const t=setTimeout(()=>{Xs.delete(e),nr({type:"REMOVE_TOAST",toastId:e})},1e6);Xs.set(e,t)},tr=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,1)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(e=>e.id===t.toast.id?{...e,...t.toast}:e)};case"DISMISS_TOAST":{const{toastId:s}=t;return s?er(s):e.toasts.forEach(e=>{er(e.id)}),{...e,toasts:e.toasts.map(e=>e.id===s||void 0===s?{...e,open:!1}:e)}}case"REMOVE_TOAST":return void 0===t.toastId?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(e=>e.id!==t.toastId)}}},sr=[];let rr={toasts:[]};function nr(e){rr=tr(rr,e),sr.forEach(e=>{e(rr)})}function ar({...e}){const t=(Qs=(Qs+1)%Number.MAX_SAFE_INTEGER,Qs.toString()),s=()=>nr({type:"DISMISS_TOAST",toastId:t});return nr({type:"ADD_TOAST",toast:{...e,id:t,open:!0,onOpenChange:e=>{e||s()}}}),{id:t,dismiss:s,update:e=>nr({type:"UPDATE_TOAST",toast:{...e,id:t}})}}function ir(){const[e,t]=zt.useState(rr);return zt.useEffect(()=>(sr.push(t),()=>{const e=sr.indexOf(t);e>-1&&sr.splice(e,1)}),[e]),{...e,toast:ar,dismiss:e=>nr({type:"DISMISS_TOAST",toastId:e})}}var or="ToastProvider",[lr,cr,dr]=ke("Toast"),[ur,hr]=Se("Toast",[dr]),[mr,pr]=ur(or),fr=e=>{const{__scopeToast:t,label:s="Notification",duration:r=5e3,swipeDirection:n="right",swipeThreshold:a=50,children:i}=e,[o,l]=zt.useState(null),[c,d]=zt.useState(0),u=zt.useRef(!1),h=zt.useRef(!1);return s.trim(),Ee.jsx(lr.Provider,{scope:t,children:Ee.jsx(mr,{scope:t,label:s,duration:r,swipeDirection:n,swipeThreshold:a,toastCount:c,viewport:o,onViewportChange:l,onToastAdd:zt.useCallback(()=>d(e=>e+1),[]),onToastRemove:zt.useCallback(()=>d(e=>e-1),[]),isFocusedToastEscapeKeyDownRef:u,isClosePausedRef:h,children:i})})};fr.displayName=or;var gr="ToastViewport",xr=["F8"],vr="toast.viewportPause",yr="toast.viewportResume",br=zt.forwardRef((e,t)=>{const{__scopeToast:s,hotkey:r=xr,label:n="Notifications ({hotkey})",...a}=e,i=pr(gr,s),o=cr(s),l=zt.useRef(null),c=zt.useRef(null),d=zt.useRef(null),u=zt.useRef(null),h=Ce(t,u,i.onViewportChange),m=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),p=i.toastCount>0;zt.useEffect(()=>{const e=e=>{var t;0!==r.length&&r.every(t=>e[t]||e.code===t)&&(null==(t=u.current)||t.focus())};return document.addEventListener("keydown",e),()=>document.removeEventListener("keydown",e)},[r]),zt.useEffect(()=>{const e=l.current,t=u.current;if(p&&e&&t){const s=()=>{if(!i.isClosePausedRef.current){const e=new CustomEvent(vr);t.dispatchEvent(e),i.isClosePausedRef.current=!0}},r=()=>{if(i.isClosePausedRef.current){const e=new CustomEvent(yr);t.dispatchEvent(e),i.isClosePausedRef.current=!1}},n=t=>{!e.contains(t.relatedTarget)&&r()},a=()=>{e.contains(document.activeElement)||r()};return e.addEventListener("focusin",s),e.addEventListener("focusout",n),e.addEventListener("pointermove",s),e.addEventListener("pointerleave",a),window.addEventListener("blur",s),window.addEventListener("focus",r),()=>{e.removeEventListener("focusin",s),e.removeEventListener("focusout",n),e.removeEventListener("pointermove",s),e.removeEventListener("pointerleave",a),window.removeEventListener("blur",s),window.removeEventListener("focus",r)}}},[p,i.isClosePausedRef]);const f=zt.useCallback(({tabbingDirection:e})=>{const t=o().map(t=>{const s=t.ref.current,r=[s,...Lr(s)];return"forwards"===e?r:r.reverse()});return("forwards"===e?t.reverse():t).flat()},[o]);return zt.useEffect(()=>{const e=u.current;if(e){const t=t=>{var s,r,n;const a=t.altKey||t.ctrlKey||t.metaKey;if("Tab"===t.key&&!a){const a=document.activeElement,i=t.shiftKey;if(t.target===e&&i)return void(null==(s=c.current)||s.focus());const o=f({tabbingDirection:i?"backwards":"forwards"}),l=o.findIndex(e=>e===a);Ur(o.slice(l+1))?t.preventDefault():i?null==(r=c.current)||r.focus():null==(n=d.current)||n.focus()}};return e.addEventListener("keydown",t),()=>e.removeEventListener("keydown",t)}},[o,f]),Ee.jsxs(Te,{ref:l,role:"region","aria-label":n.replace("{hotkey}",m),tabIndex:-1,style:{pointerEvents:p?void 0:"none"},children:[p&&Ee.jsx(jr,{ref:c,onFocusFromOutsideViewport:()=>{Ur(f({tabbingDirection:"forwards"}))}}),Ee.jsx(lr.Slot,{scope:s,children:Ee.jsx(Re.ol,{tabIndex:-1,...a,ref:h})}),p&&Ee.jsx(jr,{ref:d,onFocusFromOutsideViewport:()=>{Ur(f({tabbingDirection:"backwards"}))}})]})});br.displayName=gr;var wr="ToastFocusProxy",jr=zt.forwardRef((e,t)=>{const{__scopeToast:s,onFocusFromOutsideViewport:r,...n}=e,a=pr(wr,s);return Ee.jsx(Oe,{"aria-hidden":!0,tabIndex:0,...n,ref:t,style:{position:"fixed"},onFocus:e=>{var t;const s=e.relatedTarget;!(null==(t=a.viewport)?void 0:t.contains(s))&&r()}})});jr.displayName=wr;var _r="Toast",Nr=zt.forwardRef((e,t)=>{const{forceMount:s,open:r,defaultOpen:n,onOpenChange:a,...i}=e,[o,l]=Ae({prop:r,defaultProp:n??!0,onChange:a,caller:_r});return Ee.jsx(Pe,{present:s||o,children:Ee.jsx(Cr,{open:o,...i,ref:t,onClose:()=>l(!1),onPause:Ie(e.onPause),onResume:Ie(e.onResume),onSwipeStart:Me(e.onSwipeStart,e=>{e.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:Me(e.onSwipeMove,e=>{const{x:t,y:s}=e.detail.delta;e.currentTarget.setAttribute("data-swipe","move"),e.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${t}px`),e.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${s}px`)}),onSwipeCancel:Me(e.onSwipeCancel,e=>{e.currentTarget.setAttribute("data-swipe","cancel"),e.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),e.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),e.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),e.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:Me(e.onSwipeEnd,e=>{const{x:t,y:s}=e.detail.delta;e.currentTarget.setAttribute("data-swipe","end"),e.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),e.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),e.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${t}px`),e.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${s}px`),l(!1)})})})});Nr.displayName=_r;var[kr,Sr]=ur(_r,{onClose(){}}),Cr=zt.forwardRef((e,t)=>{const{__scopeToast:s,type:r="foreground",duration:n,open:a,onClose:i,onEscapeKeyDown:o,onPause:l,onResume:c,onSwipeStart:d,onSwipeMove:u,onSwipeCancel:h,onSwipeEnd:m,...p}=e,f=pr(_r,s),[g,x]=zt.useState(null),v=Ce(t,e=>x(e)),y=zt.useRef(null),b=zt.useRef(null),w=n||f.duration,j=zt.useRef(0),_=zt.useRef(w),N=zt.useRef(0),{onToastAdd:k,onToastRemove:S}=f,C=Ie(()=>{var e;(null==g?void 0:g.contains(document.activeElement))&&(null==(e=f.viewport)||e.focus()),i()}),E=zt.useCallback(e=>{e&&e!==1/0&&(window.clearTimeout(N.current),j.current=(new Date).getTime(),N.current=window.setTimeout(C,e))},[C]);zt.useEffect(()=>{const e=f.viewport;if(e){const t=()=>{E(_.current),null==c||c()},s=()=>{const e=(new Date).getTime()-j.current;_.current=_.current-e,window.clearTimeout(N.current),null==l||l()};return e.addEventListener(vr,s),e.addEventListener(yr,t),()=>{e.removeEventListener(vr,s),e.removeEventListener(yr,t)}}},[f.viewport,w,l,c,E]),zt.useEffect(()=>{a&&!f.isClosePausedRef.current&&E(w)},[a,w,f.isClosePausedRef,E]),zt.useEffect(()=>(k(),()=>S()),[k,S]);const T=zt.useMemo(()=>g?Mr(g):null,[g]);return f.viewport?Ee.jsxs(Ee.Fragment,{children:[T&&Ee.jsx(Er,{__scopeToast:s,role:"status","aria-live":"foreground"===r?"assertive":"polite","aria-atomic":!0,children:T}),Ee.jsx(kr,{scope:s,onClose:C,children:Ut.createPortal(Ee.jsx(lr.ItemSlot,{scope:s,children:Ee.jsx(De,{asChild:!0,onEscapeKeyDown:Me(o,()=>{f.isFocusedToastEscapeKeyDownRef.current||C(),f.isFocusedToastEscapeKeyDownRef.current=!1}),children:Ee.jsx(Re.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":a?"open":"closed","data-swipe-direction":f.swipeDirection,...p,ref:v,style:{userSelect:"none",touchAction:"none",...e.style},onKeyDown:Me(e.onKeyDown,e=>{"Escape"===e.key&&(null==o||o(e.nativeEvent),e.nativeEvent.defaultPrevented||(f.isFocusedToastEscapeKeyDownRef.current=!0,C()))}),onPointerDown:Me(e.onPointerDown,e=>{0===e.button&&(y.current={x:e.clientX,y:e.clientY})}),onPointerMove:Me(e.onPointerMove,e=>{if(!y.current)return;const t=e.clientX-y.current.x,s=e.clientY-y.current.y,r=Boolean(b.current),n=["left","right"].includes(f.swipeDirection),a=["left","up"].includes(f.swipeDirection)?Math.min:Math.max,i=n?a(0,t):0,o=n?0:a(0,s),l="touch"===e.pointerType?10:2,c={x:i,y:o},h={originalEvent:e,delta:c};r?(b.current=c,Dr("toast.swipeMove",u,h,{discrete:!1})):$r(c,f.swipeDirection,l)?(b.current=c,Dr("toast.swipeStart",d,h,{discrete:!1}),e.target.setPointerCapture(e.pointerId)):(Math.abs(t)>l||Math.abs(s)>l)&&(y.current=null)}),onPointerUp:Me(e.onPointerUp,e=>{const t=b.current,s=e.target;if(s.hasPointerCapture(e.pointerId)&&s.releasePointerCapture(e.pointerId),b.current=null,y.current=null,t){const s=e.currentTarget,r={originalEvent:e,delta:t};$r(t,f.swipeDirection,f.swipeThreshold)?Dr("toast.swipeEnd",m,r,{discrete:!0}):Dr("toast.swipeCancel",h,r,{discrete:!0}),s.addEventListener("click",e=>e.preventDefault(),{once:!0})}})})})}),f.viewport)})]}):null}),Er=e=>{const{__scopeToast:t,children:s,...r}=e,n=pr(_r,t),[a,i]=zt.useState(!1),[o,l]=zt.useState(!1);return function(e=()=>{}){const t=Ie(e);Le(()=>{let e=0,s=0;return e=window.requestAnimationFrame(()=>s=window.requestAnimationFrame(t)),()=>{window.cancelAnimationFrame(e),window.cancelAnimationFrame(s)}},[t])}(()=>i(!0)),zt.useEffect(()=>{const e=window.setTimeout(()=>l(!0),1e3);return()=>window.clearTimeout(e)},[]),o?null:Ee.jsx($e,{asChild:!0,children:Ee.jsx(Oe,{...r,children:a&&Ee.jsxs(Ee.Fragment,{children:[n.label," ",s]})})})},Tr=zt.forwardRef((e,t)=>{const{__scopeToast:s,...r}=e;return Ee.jsx(Re.div,{...r,ref:t})});Tr.displayName="ToastTitle";var Rr=zt.forwardRef((e,t)=>{const{__scopeToast:s,...r}=e;return Ee.jsx(Re.div,{...r,ref:t})});Rr.displayName="ToastDescription";var Or=zt.forwardRef((e,t)=>{const{altText:s,...r}=e;return s.trim()?Ee.jsx(Ir,{altText:s,asChild:!0,children:Ee.jsx(Pr,{...r,ref:t})}):null});Or.displayName="ToastAction";var Ar="ToastClose",Pr=zt.forwardRef((e,t)=>{const{__scopeToast:s,...r}=e,n=Sr(Ar,s);return Ee.jsx(Ir,{asChild:!0,children:Ee.jsx(Re.button,{type:"button",...r,ref:t,onClick:Me(e.onClick,n.onClose)})})});Pr.displayName=Ar;var Ir=zt.forwardRef((e,t)=>{const{__scopeToast:s,altText:r,...n}=e;return Ee.jsx(Re.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":r||void 0,...n,ref:t})});function Mr(e){const t=[];return Array.from(e.childNodes).forEach(e=>{if(e.nodeType===e.TEXT_NODE&&e.textContent&&t.push(e.textContent),function(e){return e.nodeType===e.ELEMENT_NODE}(e)){const s=e.ariaHidden||e.hidden||"none"===e.style.display,r=""===e.dataset.radixToastAnnounceExclude;if(!s)if(r){const s=e.dataset.radixToastAnnounceAlt;s&&t.push(s)}else t.push(...Mr(e))}}),t}function Dr(e,t,s,{discrete:r}){const n=s.originalEvent.currentTarget,a=new CustomEvent(e,{bubbles:!0,cancelable:!0,detail:s});t&&n.addEventListener(e,t,{once:!0}),r?Ue(n,a):n.dispatchEvent(a)}var $r=(e,t,s=0)=>{const r=Math.abs(e.x),n=Math.abs(e.y),a=r>n;return"left"===t||"right"===t?a&&r>s:!a&&n>s};function Lr(e){const t=[],s=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:e=>{const t="INPUT"===e.tagName&&"hidden"===e.type;return e.disabled||e.hidden||t?NodeFilter.FILTER_SKIP:e.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;s.nextNode();)t.push(s.currentNode);return t}function Ur(e){const t=document.activeElement;return e.some(e=>e===t||(e.focus(),document.activeElement!==t))}var Fr=fr,Br=br,zr=Nr,qr=Tr,Wr=Rr,Hr=Or,Kr=Pr;function Vr(e){var t,s,r="";if("string"==typeof e||"number"==typeof e)r+=e;else if("object"==typeof e)if(Array.isArray(e)){var n=e.length;for(t=0;t<n;t++)e[t]&&(s=Vr(e[t]))&&(r&&(r+=" "),r+=s)}else for(s in e)e[s]&&(r&&(r+=" "),r+=s);return r}function Gr(){for(var e,t,s=0,r="",n=arguments.length;s<n;s++)(e=arguments[s])&&(t=Vr(e))&&(r&&(r+=" "),r+=t);return r}const Zr=e=>"boolean"==typeof e?`${e}`:0===e?"0":e,Jr=Gr,Yr=(e,t)=>s=>{var r;if(null==(null==t?void 0:t.variants))return Jr(e,null==s?void 0:s.class,null==s?void 0:s.className);const{variants:n,defaultVariants:a}=t,i=Object.keys(n).map(e=>{const t=null==s?void 0:s[e],r=null==a?void 0:a[e];if(null===t)return null;const i=Zr(t)||Zr(r);return n[e][i]}),o=s&&Object.entries(s).reduce((e,t)=>{let[s,r]=t;return void 0===r||(e[s]=r),e},{}),l=null==t||null===(r=t.compoundVariants)||void 0===r?void 0:r.reduce((e,t)=>{let{class:s,className:r,...n}=t;return Object.entries(n).every(e=>{let[t,s]=e;return Array.isArray(s)?s.includes({...a,...o}[t]):{...a,...o}[t]===s})?[...e,s,r]:e},[]);return Jr(e,i,l,null==s?void 0:s.class,null==s?void 0:s.className)},Qr=(...e)=>e.filter((e,t,s)=>Boolean(e)&&""!==e.trim()&&s.indexOf(e)===t).join(" ").trim();
/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */
var Xr={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};
/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const en=zt.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:s=2,absoluteStrokeWidth:r,className:n="",children:a,iconNode:i,...o},l)=>zt.createElement("svg",{ref:l,...Xr,width:t,height:t,stroke:e,strokeWidth:r?24*Number(s)/Number(t):s,className:Qr("lucide",n),...o},[...i.map(([e,t])=>zt.createElement(e,t)),...Array.isArray(a)?a:[a]])),tn=(e,t)=>{const s=zt.forwardRef(({className:s,...r},n)=>{return zt.createElement(en,{ref:n,iconNode:t,className:Qr(`lucide-${a=e,a.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase()}`,s),...r});var a});return s.displayName=`${e}`,s},sn=tn("Activity",[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]]),rn=tn("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]),nn=tn("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]),an=tn("Award",[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]]),on=tn("BookOpen",[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]]),ln=tn("Brain",[["path",{d:"M12 5a3 3 0 1 0-5.997.125 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588A4 4 0 1 0 12 18Z",key:"l5xja"}],["path",{d:"M12 5a3 3 0 1 1 5.997.125 4 4 0 0 1 2.526 5.77 4 4 0 0 1-.556 6.588A4 4 0 1 1 12 18Z",key:"ep3f8r"}],["path",{d:"M15 13a4.5 4.5 0 0 1-3-4 4.5 4.5 0 0 1-3 4",key:"1p4c4q"}],["path",{d:"M17.599 6.5a3 3 0 0 0 .399-1.375",key:"tmeiqw"}],["path",{d:"M6.003 5.125A3 3 0 0 0 6.401 6.5",key:"105sqy"}],["path",{d:"M3.477 10.896a4 4 0 0 1 .585-.396",key:"ql3yin"}],["path",{d:"M19.938 10.5a4 4 0 0 1 .585.396",key:"1qfode"}],["path",{d:"M6 18a4 4 0 0 1-1.967-.516",key:"2e4loj"}],["path",{d:"M19.967 17.484A4 4 0 0 1 18 18",key:"159ez6"}]]),cn=tn("Building",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]]),dn=tn("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]),un=tn("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]),hn=tn("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]),mn=tn("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]),pn=tn("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]),fn=tn("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]),gn=tn("CircleCheck",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]),xn=tn("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]),vn=tn("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]),yn=tn("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]),bn=tn("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]),wn=tn("Dot",[["circle",{cx:"12.1",cy:"12.1",r:"1",key:"18d7e5"}]]),jn=tn("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]),_n=tn("Facebook",[["path",{d:"M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z",key:"1jg4f8"}]]),Nn=tn("FileCheck",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"m9 15 2 2 4-4",key:"1grp1n"}]]),kn=tn("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]),Sn=tn("File",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}]]),Cn=tn("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]),En=tn("Instagram",[["rect",{width:"20",height:"20",x:"2",y:"2",rx:"5",ry:"5",key:"2e1cvw"}],["path",{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z",key:"9exkf1"}],["line",{x1:"17.5",x2:"17.51",y1:"6.5",y2:"6.5",key:"r4j83e"}]]),Tn=tn("Link2",[["path",{d:"M9 17H7A5 5 0 0 1 7 7h2",key:"8i5ue5"}],["path",{d:"M15 7h2a5 5 0 1 1 0 10h-2",key:"1b9ql8"}],["line",{x1:"8",x2:"16",y1:"12",y2:"12",key:"1jonct"}]]),Rn=tn("Link",[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]]),On=tn("Linkedin",[["path",{d:"M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-2-2 2 2 0 0 0-2 2v7h-4v-7a6 6 0 0 1 6-6z",key:"c2jq9f"}],["rect",{width:"4",height:"12",x:"2",y:"9",key:"mk3on5"}],["circle",{cx:"4",cy:"4",r:"2",key:"bt5ra8"}]]),An=tn("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]),Pn=tn("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]),In=tn("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]),Mn=tn("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]),Dn=tn("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]),$n=tn("Pencil",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]]),Ln=tn("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]),Un=tn("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]),Fn=tn("Share2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]),Bn=tn("Star",[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]]),zn=tn("Tag",[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]]),qn=tn("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]),Wn=tn("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]),Hn=tn("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]),Kn=tn("Twitter",[["path",{d:"M22 4s-.7 2.1-2 3.4c1.6 10-9.4 17.3-18 11.6 2.2.1 4.4-.6 6-2C3 15.5.5 9.6 3 5c2.2 2.6 5.6 4.1 9 4-.9-4.2 4-6.6 7-3.8 1.1 0 3-1.2 3-1.2z",key:"pff0z6"}]]),Vn=tn("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]),Gn=tn("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]),Zn=tn("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]),Jn=tn("Video",[["path",{d:"m16 13 5.223 3.482a.5.5 0 0 0 .777-.416V7.87a.5.5 0 0 0-.752-.432L16 10.5",key:"ftymec"}],["rect",{x:"2",y:"6",width:"14",height:"12",rx:"2",key:"158x01"}]]),Yn=tn("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),Qn=e=>{const t=sa(e),{conflictingClassGroups:s,conflictingClassGroupModifiers:r}=e;return{getClassGroupId:e=>{const s=e.split("-");return""===s[0]&&1!==s.length&&s.shift(),Xn(s,t)||ta(e)},getConflictingClassGroupIds:(e,t)=>{const n=s[e]||[];return t&&r[e]?[...n,...r[e]]:n}}},Xn=(e,t)=>{var s;if(0===e.length)return t.classGroupId;const r=e[0],n=t.nextPart.get(r),a=n?Xn(e.slice(1),n):void 0;if(a)return a;if(0===t.validators.length)return;const i=e.join("-");return null==(s=t.validators.find(({validator:e})=>e(i)))?void 0:s.classGroupId},ea=/^\[(.+)\]$/,ta=e=>{if(ea.test(e)){const t=ea.exec(e)[1],s=null==t?void 0:t.substring(0,t.indexOf(":"));if(s)return"arbitrary.."+s}},sa=e=>{const{theme:t,prefix:s}=e,r={nextPart:new Map,validators:[]};return ia(Object.entries(e.classGroups),s).forEach(([e,s])=>{ra(s,r,e,t)}),r},ra=(e,t,s,r)=>{e.forEach(e=>{if("string"==typeof e){return void((""===e?t:na(t,e)).classGroupId=s)}if("function"==typeof e)return aa(e)?void ra(e(r),t,s,r):void t.validators.push({validator:e,classGroupId:s});Object.entries(e).forEach(([e,n])=>{ra(n,na(t,e),s,r)})})},na=(e,t)=>{let s=e;return t.split("-").forEach(e=>{s.nextPart.has(e)||s.nextPart.set(e,{nextPart:new Map,validators:[]}),s=s.nextPart.get(e)}),s},aa=e=>e.isThemeGetter,ia=(e,t)=>t?e.map(([e,s])=>[e,s.map(e=>"string"==typeof e?t+e:"object"==typeof e?Object.fromEntries(Object.entries(e).map(([e,s])=>[t+e,s])):e)]):e,oa=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,s=new Map,r=new Map;const n=(n,a)=>{s.set(n,a),t++,t>e&&(t=0,r=s,s=new Map)};return{get(e){let t=s.get(e);return void 0!==t?t:void 0!==(t=r.get(e))?(n(e,t),t):void 0},set(e,t){s.has(e)?s.set(e,t):n(e,t)}}},la=e=>{const{separator:t,experimentalParseClassName:s}=e,r=1===t.length,n=t[0],a=t.length,i=e=>{const s=[];let i,o=0,l=0;for(let u=0;u<e.length;u++){let c=e[u];if(0===o){if(c===n&&(r||e.slice(u,u+a)===t)){s.push(e.slice(l,u)),l=u+a;continue}if("/"===c){i=u;continue}}"["===c?o++:"]"===c&&o--}const c=0===s.length?e:e.substring(l),d=c.startsWith("!");return{modifiers:s,hasImportantModifier:d,baseClassName:d?c.substring(1):c,maybePostfixModifierPosition:i&&i>l?i-l:void 0}};return s?e=>s({className:e,parseClassName:i}):i},ca=e=>{if(e.length<=1)return e;const t=[];let s=[];return e.forEach(e=>{"["===e[0]?(t.push(...s.sort(),e),s=[]):s.push(e)}),t.push(...s.sort()),t},da=/\s+/;
/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */function ua(){let e,t,s=0,r="";for(;s<arguments.length;)(e=arguments[s++])&&(t=ha(e))&&(r&&(r+=" "),r+=t);return r}const ha=e=>{if("string"==typeof e)return e;let t,s="";for(let r=0;r<e.length;r++)e[r]&&(t=ha(e[r]))&&(s&&(s+=" "),s+=t);return s};function ma(e,...t){let s,r,n,a=function(o){const l=t.reduce((e,t)=>t(e),e());return s=(e=>({cache:oa(e.cacheSize),parseClassName:la(e),...Qn(e)}))(l),r=s.cache.get,n=s.cache.set,a=i,i(o)};function i(e){const t=r(e);if(t)return t;const a=((e,t)=>{const{parseClassName:s,getClassGroupId:r,getConflictingClassGroupIds:n}=t,a=[],i=e.trim().split(da);let o="";for(let l=i.length-1;l>=0;l-=1){const e=i[l],{modifiers:t,hasImportantModifier:c,baseClassName:d,maybePostfixModifierPosition:u}=s(e);let h=Boolean(u),m=r(h?d.substring(0,u):d);if(!m){if(!h){o=e+(o.length>0?" "+o:o);continue}if(m=r(d),!m){o=e+(o.length>0?" "+o:o);continue}h=!1}const p=ca(t).join(":"),f=c?p+"!":p,g=f+m;if(a.includes(g))continue;a.push(g);const x=n(m,h);for(let s=0;s<x.length;++s){const e=x[s];a.push(f+e)}o=e+(o.length>0?" "+o:o)}return o})(e,s);return n(e,a),a}return function(){return a(ua.apply(null,arguments))}}const pa=e=>{const t=t=>t[e]||[];return t.isThemeGetter=!0,t},fa=/^\[(?:([a-z-]+):)?(.+)\]$/i,ga=/^\d+\/\d+$/,xa=new Set(["px","full","screen"]),va=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,ya=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,ba=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,wa=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,ja=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,_a=e=>ka(e)||xa.has(e)||ga.test(e),Na=e=>La(e,"length",Ua),ka=e=>Boolean(e)&&!Number.isNaN(Number(e)),Sa=e=>La(e,"number",ka),Ca=e=>Boolean(e)&&Number.isInteger(Number(e)),Ea=e=>e.endsWith("%")&&ka(e.slice(0,-1)),Ta=e=>fa.test(e),Ra=e=>va.test(e),Oa=new Set(["length","size","percentage"]),Aa=e=>La(e,Oa,Fa),Pa=e=>La(e,"position",Fa),Ia=new Set(["image","url"]),Ma=e=>La(e,Ia,za),Da=e=>La(e,"",Ba),$a=()=>!0,La=(e,t,s)=>{const r=fa.exec(e);return!!r&&(r[1]?"string"==typeof t?r[1]===t:t.has(r[1]):s(r[2]))},Ua=e=>ya.test(e)&&!ba.test(e),Fa=()=>!1,Ba=e=>wa.test(e),za=e=>ja.test(e),qa=ma(()=>{const e=pa("colors"),t=pa("spacing"),s=pa("blur"),r=pa("brightness"),n=pa("borderColor"),a=pa("borderRadius"),i=pa("borderSpacing"),o=pa("borderWidth"),l=pa("contrast"),c=pa("grayscale"),d=pa("hueRotate"),u=pa("invert"),h=pa("gap"),m=pa("gradientColorStops"),p=pa("gradientColorStopPositions"),f=pa("inset"),g=pa("margin"),x=pa("opacity"),v=pa("padding"),y=pa("saturate"),b=pa("scale"),w=pa("sepia"),j=pa("skew"),_=pa("space"),N=pa("translate"),k=()=>["auto",Ta,t],S=()=>[Ta,t],C=()=>["",_a,Na],E=()=>["auto",ka,Ta],T=()=>["","0",Ta],R=()=>[ka,Ta];return{cacheSize:500,separator:":",theme:{colors:[$a],spacing:[_a,Na],blur:["none","",Ra,Ta],brightness:R(),borderColor:[e],borderRadius:["none","","full",Ra,Ta],borderSpacing:S(),borderWidth:C(),contrast:R(),grayscale:T(),hueRotate:R(),invert:T(),gap:S(),gradientColorStops:[e],gradientColorStopPositions:[Ea,Na],inset:k(),margin:k(),opacity:R(),padding:S(),saturate:R(),scale:R(),sepia:T(),skew:R(),space:S(),translate:S()},classGroups:{aspect:[{aspect:["auto","square","video",Ta]}],container:["container"],columns:[{columns:[Ra]}],"break-after":[{"break-after":["auto","avoid","all","avoid-page","page","left","right","column"]}],"break-before":[{"break-before":["auto","avoid","all","avoid-page","page","left","right","column"]}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top",Ta]}],overflow:[{overflow:["auto","hidden","clip","visible","scroll"]}],"overflow-x":[{"overflow-x":["auto","hidden","clip","visible","scroll"]}],"overflow-y":[{"overflow-y":["auto","hidden","clip","visible","scroll"]}],overscroll:[{overscroll:["auto","contain","none"]}],"overscroll-x":[{"overscroll-x":["auto","contain","none"]}],"overscroll-y":[{"overscroll-y":["auto","contain","none"]}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[f]}],"inset-x":[{"inset-x":[f]}],"inset-y":[{"inset-y":[f]}],start:[{start:[f]}],end:[{end:[f]}],top:[{top:[f]}],right:[{right:[f]}],bottom:[{bottom:[f]}],left:[{left:[f]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Ca,Ta]}],basis:[{basis:k()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",Ta]}],grow:[{grow:T()}],shrink:[{shrink:T()}],order:[{order:["first","last","none",Ca,Ta]}],"grid-cols":[{"grid-cols":[$a]}],"col-start-end":[{col:["auto",{span:["full",Ca,Ta]},Ta]}],"col-start":[{"col-start":E()}],"col-end":[{"col-end":E()}],"grid-rows":[{"grid-rows":[$a]}],"row-start-end":[{row:["auto",{span:[Ca,Ta]},Ta]}],"row-start":[{"row-start":E()}],"row-end":[{"row-end":E()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",Ta]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",Ta]}],gap:[{gap:[h]}],"gap-x":[{"gap-x":[h]}],"gap-y":[{"gap-y":[h]}],"justify-content":[{justify:["normal","start","end","center","between","around","evenly","stretch"]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal","start","end","center","between","around","evenly","stretch","baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":["start","end","center","between","around","evenly","stretch","baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[v]}],px:[{px:[v]}],py:[{py:[v]}],ps:[{ps:[v]}],pe:[{pe:[v]}],pt:[{pt:[v]}],pr:[{pr:[v]}],pb:[{pb:[v]}],pl:[{pl:[v]}],m:[{m:[g]}],mx:[{mx:[g]}],my:[{my:[g]}],ms:[{ms:[g]}],me:[{me:[g]}],mt:[{mt:[g]}],mr:[{mr:[g]}],mb:[{mb:[g]}],ml:[{ml:[g]}],"space-x":[{"space-x":[_]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[_]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",Ta,t]}],"min-w":[{"min-w":[Ta,t,"min","max","fit"]}],"max-w":[{"max-w":[Ta,t,"none","full","min","max","fit","prose",{screen:[Ra]},Ra]}],h:[{h:[Ta,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[Ta,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[Ta,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[Ta,t,"auto","min","max","fit"]}],"font-size":[{text:["base",Ra,Na]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",Sa]}],"font-family":[{font:[$a]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",Ta]}],"line-clamp":[{"line-clamp":["none",ka,Sa]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",_a,Ta]}],"list-image":[{"list-image":["none",Ta]}],"list-style-type":[{list:["none","disc","decimal",Ta]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[x]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[x]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:["solid","dashed","dotted","double","none","wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",_a,Na]}],"underline-offset":[{"underline-offset":["auto",_a,Ta]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:S()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Ta]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Ta]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[x]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top",Pa]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",Aa]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},Ma]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[p]}],"gradient-via-pos":[{via:[p]}],"gradient-to-pos":[{to:[p]}],"gradient-from":[{from:[m]}],"gradient-via":[{via:[m]}],"gradient-to":[{to:[m]}],rounded:[{rounded:[a]}],"rounded-s":[{"rounded-s":[a]}],"rounded-e":[{"rounded-e":[a]}],"rounded-t":[{"rounded-t":[a]}],"rounded-r":[{"rounded-r":[a]}],"rounded-b":[{"rounded-b":[a]}],"rounded-l":[{"rounded-l":[a]}],"rounded-ss":[{"rounded-ss":[a]}],"rounded-se":[{"rounded-se":[a]}],"rounded-ee":[{"rounded-ee":[a]}],"rounded-es":[{"rounded-es":[a]}],"rounded-tl":[{"rounded-tl":[a]}],"rounded-tr":[{"rounded-tr":[a]}],"rounded-br":[{"rounded-br":[a]}],"rounded-bl":[{"rounded-bl":[a]}],"border-w":[{border:[o]}],"border-w-x":[{"border-x":[o]}],"border-w-y":[{"border-y":[o]}],"border-w-s":[{"border-s":[o]}],"border-w-e":[{"border-e":[o]}],"border-w-t":[{"border-t":[o]}],"border-w-r":[{"border-r":[o]}],"border-w-b":[{"border-b":[o]}],"border-w-l":[{"border-l":[o]}],"border-opacity":[{"border-opacity":[x]}],"border-style":[{border:["solid","dashed","dotted","double","none","hidden"]}],"divide-x":[{"divide-x":[o]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[o]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[x]}],"divide-style":[{divide:["solid","dashed","dotted","double","none"]}],"border-color":[{border:[n]}],"border-color-x":[{"border-x":[n]}],"border-color-y":[{"border-y":[n]}],"border-color-s":[{"border-s":[n]}],"border-color-e":[{"border-e":[n]}],"border-color-t":[{"border-t":[n]}],"border-color-r":[{"border-r":[n]}],"border-color-b":[{"border-b":[n]}],"border-color-l":[{"border-l":[n]}],"divide-color":[{divide:[n]}],"outline-style":[{outline:["","solid","dashed","dotted","double","none"]}],"outline-offset":[{"outline-offset":[_a,Ta]}],"outline-w":[{outline:[_a,Na]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:C()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[x]}],"ring-offset-w":[{"ring-offset":[_a,Na]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",Ra,Da]}],"shadow-color":[{shadow:[$a]}],opacity:[{opacity:[x]}],"mix-blend":[{"mix-blend":["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity","plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"]}],filter:[{filter:["","none"]}],blur:[{blur:[s]}],brightness:[{brightness:[r]}],contrast:[{contrast:[l]}],"drop-shadow":[{"drop-shadow":["","none",Ra,Ta]}],grayscale:[{grayscale:[c]}],"hue-rotate":[{"hue-rotate":[d]}],invert:[{invert:[u]}],saturate:[{saturate:[y]}],sepia:[{sepia:[w]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[s]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[l]}],"backdrop-grayscale":[{"backdrop-grayscale":[c]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[d]}],"backdrop-invert":[{"backdrop-invert":[u]}],"backdrop-opacity":[{"backdrop-opacity":[x]}],"backdrop-saturate":[{"backdrop-saturate":[y]}],"backdrop-sepia":[{"backdrop-sepia":[w]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[i]}],"border-spacing-x":[{"border-spacing-x":[i]}],"border-spacing-y":[{"border-spacing-y":[i]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",Ta]}],duration:[{duration:R()}],ease:[{ease:["linear","in","out","in-out",Ta]}],delay:[{delay:R()}],animate:[{animate:["none","spin","ping","pulse","bounce",Ta]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[b]}],"scale-x":[{"scale-x":[b]}],"scale-y":[{"scale-y":[b]}],rotate:[{rotate:[Ca,Ta]}],"translate-x":[{"translate-x":[N]}],"translate-y":[{"translate-y":[N]}],"skew-x":[{"skew-x":[j]}],"skew-y":[{"skew-y":[j]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",Ta]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Ta]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":S()}],"scroll-mx":[{"scroll-mx":S()}],"scroll-my":[{"scroll-my":S()}],"scroll-ms":[{"scroll-ms":S()}],"scroll-me":[{"scroll-me":S()}],"scroll-mt":[{"scroll-mt":S()}],"scroll-mr":[{"scroll-mr":S()}],"scroll-mb":[{"scroll-mb":S()}],"scroll-ml":[{"scroll-ml":S()}],"scroll-p":[{"scroll-p":S()}],"scroll-px":[{"scroll-px":S()}],"scroll-py":[{"scroll-py":S()}],"scroll-ps":[{"scroll-ps":S()}],"scroll-pe":[{"scroll-pe":S()}],"scroll-pt":[{"scroll-pt":S()}],"scroll-pr":[{"scroll-pr":S()}],"scroll-pb":[{"scroll-pb":S()}],"scroll-pl":[{"scroll-pl":S()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Ta]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[_a,Na,Sa]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}});function Wa(...e){return qa(Gr(e))}const Ha=Fr,Ka=zt.forwardRef(({className:e,...t},s)=>Ee.jsx(Br,{ref:s,className:Wa("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",e),...t}));Ka.displayName=Br.displayName;const Va=Yr("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),Ga=zt.forwardRef(({className:e,variant:t,...s},r)=>Ee.jsx(zr,{ref:r,className:Wa(Va({variant:t}),e),...s}));Ga.displayName=zr.displayName;zt.forwardRef(({className:e,...t},s)=>Ee.jsx(Hr,{ref:s,className:Wa("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors group-[.destructive]:border-muted/40 hover:bg-secondary group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 group-[.destructive]:focus:ring-destructive disabled:pointer-events-none disabled:opacity-50",e),...t})).displayName=Hr.displayName;const Za=zt.forwardRef(({className:e,...t},s)=>Ee.jsx(Kr,{ref:s,className:Wa("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity group-hover:opacity-100 group-[.destructive]:text-red-300 hover:text-foreground group-[.destructive]:hover:text-red-50 focus:opacity-100 focus:outline-none focus:ring-2 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",e),"toast-close":"",...t,children:Ee.jsx(Yn,{className:"h-4 w-4"})}));Za.displayName=Kr.displayName;const Ja=zt.forwardRef(({className:e,...t},s)=>Ee.jsx(qr,{ref:s,className:Wa("text-sm font-semibold",e),...t}));Ja.displayName=qr.displayName;const Ya=zt.forwardRef(({className:e,...t},s)=>Ee.jsx(Wr,{ref:s,className:Wa("text-sm opacity-90",e),...t}));function Qa(){const{toasts:e}=ir();return Ee.jsxs(Ha,{children:[e.map(function({id:e,title:t,description:s,action:r,...n}){return Ee.jsxs(Ga,{...n,children:[Ee.jsxs("div",{className:"grid gap-1",children:[t&&Ee.jsx(Ja,{children:t}),s&&Ee.jsx(Ya,{children:s})]}),r,Ee.jsx(Za,{})]},e)}),Ee.jsx(Ka,{})]})}Ya.displayName=Wr.displayName;var Xa=["light","dark"],ei=zt.createContext(void 0),ti={setTheme:e=>{},themes:[]};zt.memo(({forcedTheme:e,storageKey:t,attribute:s,enableSystem:r,enableColorScheme:n,defaultTheme:a,value:i,attrs:o,nonce:l})=>{let c="system"===a,d="class"===s?`var d=document.documentElement,c=d.classList;c.remove(${o.map(e=>`'${e}'`).join(",")});`:`var d=document.documentElement,n='${s}',s='setAttribute';`,u=n?Xa.includes(a)&&a?`if(e==='light'||e==='dark'||!e)d.style.colorScheme=e||'${a}'`:"if(e==='light'||e==='dark')d.style.colorScheme=e":"",h=(e,t=!1,r=!0)=>{let a=i?i[e]:e,o=t?e+"|| ''":`'${a}'`,l="";return n&&r&&!t&&Xa.includes(e)&&(l+=`d.style.colorScheme = '${e}';`),"class"===s?l+=t||a?`c.add(${o})`:"null":a&&(l+=`d[s](n,${o})`),l},m=e?`!function(){${d}${h(e)}}()`:r?`!function(){try{${d}var e=localStorage.getItem('${t}');if('system'===e||(!e&&${c})){var t='(prefers-color-scheme: dark)',m=window.matchMedia(t);if(m.media!==t||m.matches){${h("dark")}}else{${h("light")}}}else if(e){${i?`var x=${JSON.stringify(i)};`:""}${h(i?"x[e]":"e",!0)}}${c?"":"else{"+h(a,!1,!1)+"}"}${u}}catch(e){}}()`:`!function(){try{${d}var e=localStorage.getItem('${t}');if(e){${i?`var x=${JSON.stringify(i)};`:""}${h(i?"x[e]":"e",!0)}}else{${h(a,!1,!1)};}${u}}catch(t){}}();`;return zt.createElement("script",{nonce:l,dangerouslySetInnerHTML:{__html:m}})});var si=Array(12).fill(0),ri=({visible:e,className:t})=>Bt.createElement("div",{className:["sonner-loading-wrapper",t].filter(Boolean).join(" "),"data-visible":e},Bt.createElement("div",{className:"sonner-spinner"},si.map((e,t)=>Bt.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${t}`})))),ni=Bt.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},Bt.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),ai=Bt.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},Bt.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),ii=Bt.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},Bt.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),oi=Bt.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},Bt.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),li=Bt.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},Bt.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),Bt.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),ci=1,di=new class{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{let t=this.subscribers.indexOf(e);this.subscribers.splice(t,1)}),this.publish=e=>{this.subscribers.forEach(t=>t(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var t;let{message:s,...r}=e,n="number"==typeof(null==e?void 0:e.id)||(null==(t=e.id)?void 0:t.length)>0?e.id:ci++,a=this.toasts.find(e=>e.id===n),i=void 0===e.dismissible||e.dismissible;return this.dismissedToasts.has(n)&&this.dismissedToasts.delete(n),a?this.toasts=this.toasts.map(t=>t.id===n?(this.publish({...t,...e,id:n,title:s}),{...t,...e,id:n,dismissible:i,title:s}):t):this.addToast({title:s,...r,dismissible:i,id:n}),n},this.dismiss=e=>(this.dismissedToasts.add(e),e||this.toasts.forEach(e=>{this.subscribers.forEach(t=>t({id:e.id,dismiss:!0}))}),this.subscribers.forEach(t=>t({id:e,dismiss:!0})),e),this.message=(e,t)=>this.create({...t,message:e}),this.error=(e,t)=>this.create({...t,message:e,type:"error"}),this.success=(e,t)=>this.create({...t,type:"success",message:e}),this.info=(e,t)=>this.create({...t,type:"info",message:e}),this.warning=(e,t)=>this.create({...t,type:"warning",message:e}),this.loading=(e,t)=>this.create({...t,type:"loading",message:e}),this.promise=(e,t)=>{if(!t)return;let s;void 0!==t.loading&&(s=this.create({...t,promise:e,type:"loading",message:t.loading,description:"function"!=typeof t.description?t.description:void 0}));let r,n=e instanceof Promise?e:e(),a=void 0!==s,i=n.then(async e=>{if(r=["resolve",e],Bt.isValidElement(e))a=!1,this.create({id:s,type:"default",message:e});else if(ui(e)&&!e.ok){a=!1;let r="function"==typeof t.error?await t.error(`HTTP error! status: ${e.status}`):t.error,n="function"==typeof t.description?await t.description(`HTTP error! status: ${e.status}`):t.description;this.create({id:s,type:"error",message:r,description:n})}else if(void 0!==t.success){a=!1;let r="function"==typeof t.success?await t.success(e):t.success,n="function"==typeof t.description?await t.description(e):t.description;this.create({id:s,type:"success",message:r,description:n})}}).catch(async e=>{if(r=["reject",e],void 0!==t.error){a=!1;let r="function"==typeof t.error?await t.error(e):t.error,n="function"==typeof t.description?await t.description(e):t.description;this.create({id:s,type:"error",message:r,description:n})}}).finally(()=>{var e;a&&(this.dismiss(s),s=void 0),null==(e=t.finally)||e.call(t)}),o=()=>new Promise((e,t)=>i.then(()=>"reject"===r[0]?t(r[1]):e(r[1])).catch(t));return"string"!=typeof s&&"number"!=typeof s?{unwrap:o}:Object.assign(s,{unwrap:o})},this.custom=(e,t)=>{let s=(null==t?void 0:t.id)||ci++;return this.create({jsx:e(s),id:s,...t}),s},this.getActiveToasts=()=>this.toasts.filter(e=>!this.dismissedToasts.has(e.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}},ui=e=>e&&"object"==typeof e&&"ok"in e&&"boolean"==typeof e.ok&&"status"in e&&"number"==typeof e.status,hi=(e,t)=>{let s=(null==t?void 0:t.id)||ci++;return di.addToast({title:e,...t,id:s}),s};function mi(e){return void 0!==e.label}Object.assign(hi,{success:di.success,info:di.info,warning:di.warning,error:di.error,custom:di.custom,message:di.message,promise:di.promise,dismiss:di.dismiss,loading:di.loading},{getHistory:()=>di.toasts,getToasts:()=>di.getActiveToasts()}),function(e,{insertAt:t}={}){if("undefined"==typeof document)return;let s=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css","top"===t&&s.firstChild?s.insertBefore(r,s.firstChild):s.appendChild(r),r.styleSheet?r.styleSheet.cssText=e:r.appendChild(document.createTextNode(e))}(':where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999;transition:transform .4s ease}:where([data-sonner-toaster][data-lifted="true"]){transform:translateY(-10px)}@media (hover: none) and (pointer: coarse){:where([data-sonner-toaster][data-lifted="true"]){transform:none}}:where([data-sonner-toaster][data-x-position="right"]){right:var(--offset-right)}:where([data-sonner-toaster][data-x-position="left"]){left:var(--offset-left)}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:var(--offset-top)}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:var(--offset-bottom)}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast] [data-close-button]{background:var(--gray1)}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:-50%;right:-50%;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y, 0px)) translate(var(--swipe-amount-x, 0px));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-bg-hover: hsl(0, 0%, 12%);--normal-border: hsl(0, 0%, 20%);--normal-border-hover: hsl(0, 0%, 25%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}\n');var pi=3,fi=14;function gi(...e){return e.filter(Boolean).join(" ")}var xi=e=>{var t,s,r,n,a,i,o,l,c,d,u;let{invert:h,toast:m,unstyled:p,interacting:f,setHeights:g,visibleToasts:x,heights:v,index:y,toasts:b,expanded:w,removeToast:j,defaultRichColors:_,closeButton:N,style:k,cancelButtonStyle:S,actionButtonStyle:C,className:E="",descriptionClassName:T="",duration:R,position:O,gap:A,loadingIcon:P,expandByDefault:I,classNames:M,icons:D,closeButtonAriaLabel:$="Close toast",pauseWhenPageIsHidden:L}=e,[U,F]=Bt.useState(null),[B,z]=Bt.useState(null),[q,W]=Bt.useState(!1),[H,K]=Bt.useState(!1),[V,G]=Bt.useState(!1),[Z,J]=Bt.useState(!1),[Y,Q]=Bt.useState(!1),[X,ee]=Bt.useState(0),[te,se]=Bt.useState(0),re=Bt.useRef(m.duration||R||4e3),ne=Bt.useRef(null),ae=Bt.useRef(null),ie=0===y,oe=y+1<=x,le=m.type,ce=!1!==m.dismissible,de=m.className||"",ue=m.descriptionClassName||"",he=Bt.useMemo(()=>v.findIndex(e=>e.toastId===m.id)||0,[v,m.id]),me=Bt.useMemo(()=>{var e;return null!=(e=m.closeButton)?e:N},[m.closeButton,N]),pe=Bt.useMemo(()=>m.duration||R||4e3,[m.duration,R]),fe=Bt.useRef(0),ge=Bt.useRef(0),xe=Bt.useRef(0),ve=Bt.useRef(null),[ye,be]=O.split("-"),we=Bt.useMemo(()=>v.reduce((e,t,s)=>s>=he?e:e+t.height,0),[v,he]),je=(()=>{let[e,t]=Bt.useState(document.hidden);return Bt.useEffect(()=>{let e=()=>{t(document.hidden)};return document.addEventListener("visibilitychange",e),()=>window.removeEventListener("visibilitychange",e)},[]),e})(),_e=m.invert||h,Ne="loading"===le;ge.current=Bt.useMemo(()=>he*A+we,[he,we]),Bt.useEffect(()=>{re.current=pe},[pe]),Bt.useEffect(()=>{W(!0)},[]),Bt.useEffect(()=>{let e=ae.current;if(e){let t=e.getBoundingClientRect().height;return se(t),g(e=>[{toastId:m.id,height:t,position:m.position},...e]),()=>g(e=>e.filter(e=>e.toastId!==m.id))}},[g,m.id]),Bt.useLayoutEffect(()=>{if(!q)return;let e=ae.current,t=e.style.height;e.style.height="auto";let s=e.getBoundingClientRect().height;e.style.height=t,se(s),g(e=>e.find(e=>e.toastId===m.id)?e.map(e=>e.toastId===m.id?{...e,height:s}:e):[{toastId:m.id,height:s,position:m.position},...e])},[q,m.title,m.description,g,m.id]);let ke=Bt.useCallback(()=>{K(!0),ee(ge.current),g(e=>e.filter(e=>e.toastId!==m.id)),setTimeout(()=>{j(m)},200)},[m,j,g,ge]);return Bt.useEffect(()=>{if(m.promise&&"loading"===le||m.duration===1/0||"loading"===m.type)return;let e;return w||f||L&&je?(()=>{if(xe.current<fe.current){let e=(new Date).getTime()-fe.current;re.current=re.current-e}xe.current=(new Date).getTime()})():re.current!==1/0&&(fe.current=(new Date).getTime(),e=setTimeout(()=>{var e;null==(e=m.onAutoClose)||e.call(m,m),ke()},re.current)),()=>clearTimeout(e)},[w,f,m,le,L,je,ke]),Bt.useEffect(()=>{m.delete&&ke()},[ke,m.delete]),Bt.createElement("li",{tabIndex:0,ref:ae,className:gi(E,de,null==M?void 0:M.toast,null==(t=null==m?void 0:m.classNames)?void 0:t.toast,null==M?void 0:M.default,null==M?void 0:M[le],null==(s=null==m?void 0:m.classNames)?void 0:s[le]),"data-sonner-toast":"","data-rich-colors":null!=(r=m.richColors)?r:_,"data-styled":!(m.jsx||m.unstyled||p),"data-mounted":q,"data-promise":!!m.promise,"data-swiped":Y,"data-removed":H,"data-visible":oe,"data-y-position":ye,"data-x-position":be,"data-index":y,"data-front":ie,"data-swiping":V,"data-dismissible":ce,"data-type":le,"data-invert":_e,"data-swipe-out":Z,"data-swipe-direction":B,"data-expanded":!!(w||I&&q),style:{"--index":y,"--toasts-before":y,"--z-index":b.length-y,"--offset":`${H?X:ge.current}px`,"--initial-height":I?"auto":`${te}px`,...k,...m.style},onDragEnd:()=>{G(!1),F(null),ve.current=null},onPointerDown:e=>{Ne||!ce||(ne.current=new Date,ee(ge.current),e.target.setPointerCapture(e.pointerId),"BUTTON"!==e.target.tagName&&(G(!0),ve.current={x:e.clientX,y:e.clientY}))},onPointerUp:()=>{var e,t,s,r;if(Z||!ce)return;ve.current=null;let n=Number((null==(e=ae.current)?void 0:e.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),a=Number((null==(t=ae.current)?void 0:t.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),i=(new Date).getTime()-(null==(s=ne.current)?void 0:s.getTime()),o="x"===U?n:a,l=Math.abs(o)/i;if(Math.abs(o)>=20||l>.11)return ee(ge.current),null==(r=m.onDismiss)||r.call(m,m),z("x"===U?n>0?"right":"left":a>0?"down":"up"),ke(),J(!0),void Q(!1);G(!1),F(null)},onPointerMove:t=>{var s,r,n,a;if(!ve.current||!ce||(null==(s=window.getSelection())?void 0:s.toString().length)>0)return;let i=t.clientY-ve.current.y,o=t.clientX-ve.current.x,l=null!=(r=e.swipeDirections)?r:function(e){let[t,s]=e.split("-"),r=[];return t&&r.push(t),s&&r.push(s),r}(O);!U&&(Math.abs(o)>1||Math.abs(i)>1)&&F(Math.abs(o)>Math.abs(i)?"x":"y");let c={x:0,y:0};"y"===U?(l.includes("top")||l.includes("bottom"))&&(l.includes("top")&&i<0||l.includes("bottom")&&i>0)&&(c.y=i):"x"===U&&(l.includes("left")||l.includes("right"))&&(l.includes("left")&&o<0||l.includes("right")&&o>0)&&(c.x=o),(Math.abs(c.x)>0||Math.abs(c.y)>0)&&Q(!0),null==(n=ae.current)||n.style.setProperty("--swipe-amount-x",`${c.x}px`),null==(a=ae.current)||a.style.setProperty("--swipe-amount-y",`${c.y}px`)}},me&&!m.jsx?Bt.createElement("button",{"aria-label":$,"data-disabled":Ne,"data-close-button":!0,onClick:Ne||!ce?()=>{}:()=>{var e;ke(),null==(e=m.onDismiss)||e.call(m,m)},className:gi(null==M?void 0:M.closeButton,null==(n=null==m?void 0:m.classNames)?void 0:n.closeButton)},null!=(a=null==D?void 0:D.close)?a:li):null,m.jsx||zt.isValidElement(m.title)?m.jsx?m.jsx:"function"==typeof m.title?m.title():m.title:Bt.createElement(Bt.Fragment,null,le||m.icon||m.promise?Bt.createElement("div",{"data-icon":"",className:gi(null==M?void 0:M.icon,null==(i=null==m?void 0:m.classNames)?void 0:i.icon)},m.promise||"loading"===m.type&&!m.icon?m.icon||(null!=D&&D.loading?Bt.createElement("div",{className:gi(null==M?void 0:M.loader,null==(Se=null==m?void 0:m.classNames)?void 0:Se.loader,"sonner-loader"),"data-visible":"loading"===le},D.loading):P?Bt.createElement("div",{className:gi(null==M?void 0:M.loader,null==(Ce=null==m?void 0:m.classNames)?void 0:Ce.loader,"sonner-loader"),"data-visible":"loading"===le},P):Bt.createElement(ri,{className:gi(null==M?void 0:M.loader,null==(Ee=null==m?void 0:m.classNames)?void 0:Ee.loader),visible:"loading"===le})):null,"loading"!==m.type?m.icon||(null==D?void 0:D[le])||(e=>{switch(e){case"success":return ni;case"info":return ii;case"warning":return ai;case"error":return oi;default:return null}})(le):null):null,Bt.createElement("div",{"data-content":"",className:gi(null==M?void 0:M.content,null==(o=null==m?void 0:m.classNames)?void 0:o.content)},Bt.createElement("div",{"data-title":"",className:gi(null==M?void 0:M.title,null==(l=null==m?void 0:m.classNames)?void 0:l.title)},"function"==typeof m.title?m.title():m.title),m.description?Bt.createElement("div",{"data-description":"",className:gi(T,ue,null==M?void 0:M.description,null==(c=null==m?void 0:m.classNames)?void 0:c.description)},"function"==typeof m.description?m.description():m.description):null),zt.isValidElement(m.cancel)?m.cancel:m.cancel&&mi(m.cancel)?Bt.createElement("button",{"data-button":!0,"data-cancel":!0,style:m.cancelButtonStyle||S,onClick:e=>{var t,s;mi(m.cancel)&&ce&&(null==(s=(t=m.cancel).onClick)||s.call(t,e),ke())},className:gi(null==M?void 0:M.cancelButton,null==(d=null==m?void 0:m.classNames)?void 0:d.cancelButton)},m.cancel.label):null,zt.isValidElement(m.action)?m.action:m.action&&mi(m.action)?Bt.createElement("button",{"data-button":!0,"data-action":!0,style:m.actionButtonStyle||C,onClick:e=>{var t,s;mi(m.action)&&(null==(s=(t=m.action).onClick)||s.call(t,e),!e.defaultPrevented&&ke())},className:gi(null==M?void 0:M.actionButton,null==(u=null==m?void 0:m.classNames)?void 0:u.actionButton)},m.action.label):null));var Se,Ce,Ee};function vi(){if("undefined"==typeof window||"undefined"==typeof document)return"ltr";let e=document.documentElement.getAttribute("dir");return"auto"!==e&&e?e:window.getComputedStyle(document.documentElement).direction}function yi(e,t){let s={};return[e,t].forEach((e,t)=>{let r=1===t,n=r?"--mobile-offset":"--offset",a=r?"16px":"32px";function i(e){["top","right","bottom","left"].forEach(t=>{s[`${n}-${t}`]="number"==typeof e?`${e}px`:e})}"number"==typeof e||"string"==typeof e?i(e):"object"==typeof e?["top","right","bottom","left"].forEach(t=>{void 0===e[t]?s[`${n}-${t}`]=a:s[`${n}-${t}`]="number"==typeof e[t]?`${e[t]}px`:e[t]}):i(a)}),s}var bi=zt.forwardRef(function(e,t){let{invert:s,position:r="bottom-right",hotkey:n=["altKey","KeyT"],expand:a,closeButton:i,className:o,offset:l,mobileOffset:c,theme:d="light",richColors:u,duration:h,style:m,visibleToasts:p=pi,toastOptions:f,dir:g=vi(),gap:x=fi,loadingIcon:v,icons:y,containerAriaLabel:b="Notifications",pauseWhenPageIsHidden:w}=e,[j,_]=Bt.useState([]),N=Bt.useMemo(()=>Array.from(new Set([r].concat(j.filter(e=>e.position).map(e=>e.position)))),[j,r]),[k,S]=Bt.useState([]),[C,E]=Bt.useState(!1),[T,R]=Bt.useState(!1),[O,A]=Bt.useState("system"!==d?d:"undefined"!=typeof window&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),P=Bt.useRef(null),I=n.join("+").replace(/Key/g,"").replace(/Digit/g,""),M=Bt.useRef(null),D=Bt.useRef(!1),$=Bt.useCallback(e=>{_(t=>{var s;return null!=(s=t.find(t=>t.id===e.id))&&s.delete||di.dismiss(e.id),t.filter(({id:t})=>t!==e.id)})},[]);return Bt.useEffect(()=>di.subscribe(e=>{e.dismiss?_(t=>t.map(t=>t.id===e.id?{...t,delete:!0}:t)):setTimeout(()=>{qt.flushSync(()=>{_(t=>{let s=t.findIndex(t=>t.id===e.id);return-1!==s?[...t.slice(0,s),{...t[s],...e},...t.slice(s+1)]:[e,...t]})})})}),[]),Bt.useEffect(()=>{if("system"!==d)return void A(d);if("system"===d&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?A("dark"):A("light")),"undefined"==typeof window)return;let e=window.matchMedia("(prefers-color-scheme: dark)");try{e.addEventListener("change",({matches:e})=>{A(e?"dark":"light")})}catch(t){e.addListener(({matches:e})=>{try{A(e?"dark":"light")}catch(t){}})}},[d]),Bt.useEffect(()=>{j.length<=1&&E(!1)},[j]),Bt.useEffect(()=>{let e=e=>{var t,s;n.every(t=>e[t]||e.code===t)&&(E(!0),null==(t=P.current)||t.focus()),"Escape"===e.code&&(document.activeElement===P.current||null!=(s=P.current)&&s.contains(document.activeElement))&&E(!1)};return document.addEventListener("keydown",e),()=>document.removeEventListener("keydown",e)},[n]),Bt.useEffect(()=>{if(P.current)return()=>{M.current&&(M.current.focus({preventScroll:!0}),M.current=null,D.current=!1)}},[P.current]),Bt.createElement("section",{ref:t,"aria-label":`${b} ${I}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},N.map((t,r)=>{var n;let[d,b]=t.split("-");return j.length?Bt.createElement("ol",{key:t,dir:"auto"===g?vi():g,tabIndex:-1,ref:P,className:o,"data-sonner-toaster":!0,"data-theme":O,"data-y-position":d,"data-lifted":C&&j.length>1&&!a,"data-x-position":b,style:{"--front-toast-height":`${(null==(n=k[0])?void 0:n.height)||0}px`,"--width":"356px","--gap":`${x}px`,...m,...yi(l,c)},onBlur:e=>{D.current&&!e.currentTarget.contains(e.relatedTarget)&&(D.current=!1,M.current&&(M.current.focus({preventScroll:!0}),M.current=null))},onFocus:e=>{e.target instanceof HTMLElement&&"false"===e.target.dataset.dismissible||D.current||(D.current=!0,M.current=e.relatedTarget)},onMouseEnter:()=>E(!0),onMouseMove:()=>E(!0),onMouseLeave:()=>{T||E(!1)},onDragEnd:()=>E(!1),onPointerDown:e=>{e.target instanceof HTMLElement&&"false"===e.target.dataset.dismissible||R(!0)},onPointerUp:()=>R(!1)},j.filter(e=>!e.position&&0===r||e.position===t).map((r,n)=>{var o,l;return Bt.createElement(xi,{key:r.id,icons:y,index:n,toast:r,defaultRichColors:u,duration:null!=(o=null==f?void 0:f.duration)?o:h,className:null==f?void 0:f.className,descriptionClassName:null==f?void 0:f.descriptionClassName,invert:s,visibleToasts:p,closeButton:null!=(l=null==f?void 0:f.closeButton)?l:i,interacting:T,position:t,style:null==f?void 0:f.style,unstyled:null==f?void 0:f.unstyled,classNames:null==f?void 0:f.classNames,cancelButtonStyle:null==f?void 0:f.cancelButtonStyle,actionButtonStyle:null==f?void 0:f.actionButtonStyle,removeToast:$,toasts:j.filter(e=>e.position==r.position),heights:k.filter(e=>e.position==r.position),setHeights:S,expandByDefault:a,gap:x,loadingIcon:v,expanded:C,pauseWhenPageIsHidden:w,swipeDirections:e.swipeDirections})})):null}))});const wi=({...e})=>{const{theme:t="system"}=null!=(s=zt.useContext(ei))?s:ti;var s;return Ee.jsx(bi,{theme:t,className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...e})};var[ji,_i]=Se("Tooltip",[Fe]),Ni=Fe(),ki="TooltipProvider",Si=700,Ci="tooltip.open",[Ei,Ti]=ji(ki),Ri=e=>{const{__scopeTooltip:t,delayDuration:s=Si,skipDelayDuration:r=300,disableHoverableContent:n=!1,children:a}=e,i=zt.useRef(!0),o=zt.useRef(!1),l=zt.useRef(0);return zt.useEffect(()=>{const e=l.current;return()=>window.clearTimeout(e)},[]),Ee.jsx(Ei,{scope:t,isOpenDelayedRef:i,delayDuration:s,onOpen:zt.useCallback(()=>{window.clearTimeout(l.current),i.current=!1},[]),onClose:zt.useCallback(()=>{window.clearTimeout(l.current),l.current=window.setTimeout(()=>i.current=!0,r)},[r]),isPointerInTransitRef:o,onPointerInTransitChange:zt.useCallback(e=>{o.current=e},[]),disableHoverableContent:n,children:a})};Ri.displayName=ki;var Oi="Tooltip",[Ai,Pi]=ji(Oi),Ii="TooltipTrigger";zt.forwardRef((e,t)=>{const{__scopeTooltip:s,...r}=e,n=Pi(Ii,s),a=Ti(Ii,s),i=Ni(s),o=zt.useRef(null),l=Ce(t,o,n.onTriggerChange),c=zt.useRef(!1),d=zt.useRef(!1),u=zt.useCallback(()=>c.current=!1,[]);return zt.useEffect(()=>()=>document.removeEventListener("pointerup",u),[u]),Ee.jsx(Be,{asChild:!0,...i,children:Ee.jsx(Re.button,{"aria-describedby":n.open?n.contentId:void 0,"data-state":n.stateAttribute,...r,ref:l,onPointerMove:Me(e.onPointerMove,e=>{"touch"!==e.pointerType&&(d.current||a.isPointerInTransitRef.current||(n.onTriggerEnter(),d.current=!0))}),onPointerLeave:Me(e.onPointerLeave,()=>{n.onTriggerLeave(),d.current=!1}),onPointerDown:Me(e.onPointerDown,()=>{n.open&&n.onClose(),c.current=!0,document.addEventListener("pointerup",u,{once:!0})}),onFocus:Me(e.onFocus,()=>{c.current||n.onOpen()}),onBlur:Me(e.onBlur,n.onClose),onClick:Me(e.onClick,n.onClose)})})}).displayName=Ii;var[Mi,Di]=ji("TooltipPortal",{forceMount:void 0}),$i="TooltipContent",Li=zt.forwardRef((e,t)=>{const s=Di($i,e.__scopeTooltip),{forceMount:r=s.forceMount,side:n="top",...a}=e,i=Pi($i,e.__scopeTooltip);return Ee.jsx(Pe,{present:r||i.open,children:i.disableHoverableContent?Ee.jsx(qi,{side:n,...a,ref:t}):Ee.jsx(Ui,{side:n,...a,ref:t})})}),Ui=zt.forwardRef((e,t)=>{const s=Pi($i,e.__scopeTooltip),r=Ti($i,e.__scopeTooltip),n=zt.useRef(null),a=Ce(t,n),[i,o]=zt.useState(null),{trigger:l,onClose:c}=s,d=n.current,{onPointerInTransitChange:u}=r,h=zt.useCallback(()=>{o(null),u(!1)},[u]),m=zt.useCallback((e,t)=>{const s=e.currentTarget,r={x:e.clientX,y:e.clientY},n=function(e,t,s=5){const r=[];switch(t){case"top":r.push({x:e.x-s,y:e.y+s},{x:e.x+s,y:e.y+s});break;case"bottom":r.push({x:e.x-s,y:e.y-s},{x:e.x+s,y:e.y-s});break;case"left":r.push({x:e.x+s,y:e.y-s},{x:e.x+s,y:e.y+s});break;case"right":r.push({x:e.x-s,y:e.y-s},{x:e.x-s,y:e.y+s})}return r}(r,function(e,t){const s=Math.abs(t.top-e.y),r=Math.abs(t.bottom-e.y),n=Math.abs(t.right-e.x),a=Math.abs(t.left-e.x);switch(Math.min(s,r,n,a)){case a:return"left";case n:return"right";case s:return"top";case r:return"bottom";default:throw new Error("unreachable")}}(r,s.getBoundingClientRect())),a=function(e){const t=e.slice();return t.sort((e,t)=>e.x<t.x?-1:e.x>t.x?1:e.y<t.y?-1:e.y>t.y?1:0),function(e){if(e.length<=1)return e.slice();const t=[];for(let r=0;r<e.length;r++){const s=e[r];for(;t.length>=2;){const e=t[t.length-1],r=t[t.length-2];if(!((e.x-r.x)*(s.y-r.y)>=(e.y-r.y)*(s.x-r.x)))break;t.pop()}t.push(s)}t.pop();const s=[];for(let r=e.length-1;r>=0;r--){const t=e[r];for(;s.length>=2;){const e=s[s.length-1],r=s[s.length-2];if(!((e.x-r.x)*(t.y-r.y)>=(e.y-r.y)*(t.x-r.x)))break;s.pop()}s.push(t)}return s.pop(),1===t.length&&1===s.length&&t[0].x===s[0].x&&t[0].y===s[0].y?t:t.concat(s)}(t)}([...n,...function(e){const{top:t,right:s,bottom:r,left:n}=e;return[{x:n,y:t},{x:s,y:t},{x:s,y:r},{x:n,y:r}]}(t.getBoundingClientRect())]);o(a),u(!0)},[u]);return zt.useEffect(()=>()=>h(),[h]),zt.useEffect(()=>{if(l&&d){const e=e=>m(e,d),t=e=>m(e,l);return l.addEventListener("pointerleave",e),d.addEventListener("pointerleave",t),()=>{l.removeEventListener("pointerleave",e),d.removeEventListener("pointerleave",t)}}},[l,d,m,h]),zt.useEffect(()=>{if(i){const e=e=>{const t=e.target,s={x:e.clientX,y:e.clientY},r=(null==l?void 0:l.contains(t))||(null==d?void 0:d.contains(t)),n=!function(e,t){const{x:s,y:r}=e;let n=!1;for(let a=0,i=t.length-1;a<t.length;i=a++){const e=t[a],o=t[i],l=e.x,c=e.y,d=o.x,u=o.y;c>r!=u>r&&s<(d-l)*(r-c)/(u-c)+l&&(n=!n)}return n}(s,i);r?h():n&&(h(),c())};return document.addEventListener("pointermove",e),()=>document.removeEventListener("pointermove",e)}},[l,d,i,c,h]),Ee.jsx(qi,{...e,ref:a})}),[Fi,Bi]=ji(Oi,{isInside:!1}),zi=Ke("TooltipContent"),qi=zt.forwardRef((e,t)=>{const{__scopeTooltip:s,children:r,"aria-label":n,onEscapeKeyDown:a,onPointerDownOutside:i,...o}=e,l=Pi($i,s),c=Ni(s),{onClose:d}=l;return zt.useEffect(()=>(document.addEventListener(Ci,d),()=>document.removeEventListener(Ci,d)),[d]),zt.useEffect(()=>{if(l.trigger){const e=e=>{const t=e.target;(null==t?void 0:t.contains(l.trigger))&&d()};return window.addEventListener("scroll",e,{capture:!0}),()=>window.removeEventListener("scroll",e,{capture:!0})}},[l.trigger,d]),Ee.jsx(ze,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:a,onPointerDownOutside:i,onFocusOutside:e=>e.preventDefault(),onDismiss:d,children:Ee.jsxs(qe,{"data-state":l.stateAttribute,...c,...o,ref:t,style:{...o.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[Ee.jsx(zi,{children:r}),Ee.jsx(Fi,{scope:s,isInside:!0,children:Ee.jsx(We,{id:l.contentId,role:"tooltip",children:n||r})})]})})});Li.displayName=$i;var Wi="TooltipArrow";zt.forwardRef((e,t)=>{const{__scopeTooltip:s,...r}=e,n=Ni(s);return Bi(Wi,s).isInside?null:Ee.jsx(He,{...n,...r,ref:t})}).displayName=Wi;var Hi=Li;const Ki=Ri;zt.forwardRef(({className:e,sideOffset:t=4,...s},r)=>Ee.jsx(Hi,{ref:r,sideOffset:t,className:Wa("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...s})).displayName=Hi.displayName;var Vi=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},Gi="undefined"==typeof window||"Deno"in globalThis;function Zi(){}function Ji(e){return"number"==typeof e&&e>=0&&e!==1/0}function Yi(e,t){return Math.max(e+(t||0)-Date.now(),0)}function Qi(e,t){return"function"==typeof e?e(t):e}function Xi(e,t){return"function"==typeof e?e(t):e}function eo(e,t){const{type:s="all",exact:r,fetchStatus:n,predicate:a,queryKey:i,stale:o}=e;if(i)if(r){if(t.queryHash!==so(i,t.options))return!1}else if(!no(t.queryKey,i))return!1;if("all"!==s){const e=t.isActive();if("active"===s&&!e)return!1;if("inactive"===s&&e)return!1}return("boolean"!=typeof o||t.isStale()===o)&&((!n||n===t.state.fetchStatus)&&!(a&&!a(t)))}function to(e,t){const{exact:s,status:r,predicate:n,mutationKey:a}=e;if(a){if(!t.options.mutationKey)return!1;if(s){if(ro(t.options.mutationKey)!==ro(a))return!1}else if(!no(t.options.mutationKey,a))return!1}return(!r||t.state.status===r)&&!(n&&!n(t))}function so(e,t){return((null==t?void 0:t.queryKeyHashFn)||ro)(e)}function ro(e){return JSON.stringify(e,(e,t)=>lo(t)?Object.keys(t).sort().reduce((e,s)=>(e[s]=t[s],e),{}):t)}function no(e,t){return e===t||typeof e==typeof t&&(!(!e||!t||"object"!=typeof e||"object"!=typeof t)&&Object.keys(t).every(s=>no(e[s],t[s])))}function ao(e,t){if(e===t)return e;const s=oo(e)&&oo(t);if(s||lo(e)&&lo(t)){const r=s?e:Object.keys(e),n=r.length,a=s?t:Object.keys(t),i=a.length,o=s?[]:{},l=new Set(r);let c=0;for(let d=0;d<i;d++){const r=s?d:a[d];(!s&&l.has(r)||s)&&void 0===e[r]&&void 0===t[r]?(o[r]=void 0,c++):(o[r]=ao(e[r],t[r]),o[r]===e[r]&&void 0!==e[r]&&c++)}return n===i&&c===n?e:o}return t}function io(e,t){if(!t||Object.keys(e).length!==Object.keys(t).length)return!1;for(const s in e)if(e[s]!==t[s])return!1;return!0}function oo(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function lo(e){if(!co(e))return!1;const t=e.constructor;if(void 0===t)return!0;const s=t.prototype;return!!co(s)&&(!!s.hasOwnProperty("isPrototypeOf")&&Object.getPrototypeOf(e)===Object.prototype)}function co(e){return"[object Object]"===Object.prototype.toString.call(e)}function uo(e,t,s){return"function"==typeof s.structuralSharing?s.structuralSharing(e,t):!1!==s.structuralSharing?ao(e,t):t}function ho(e,t,s=0){const r=[...e,t];return s&&r.length>s?r.slice(1):r}function mo(e,t,s=0){const r=[t,...e];return s&&r.length>s?r.slice(0,-1):r}var po=Symbol();function fo(e,t){return!e.queryFn&&(null==t?void 0:t.initialPromise)?()=>t.initialPromise:e.queryFn&&e.queryFn!==po?e.queryFn:()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`))}var go=new(a=class extends Vi{constructor(){super(),we(this,s),we(this,r),we(this,n),je(this,n,e=>{if(!Gi&&window.addEventListener){const t=()=>e();return window.addEventListener("visibilitychange",t,!1),()=>{window.removeEventListener("visibilitychange",t)}}})}onSubscribe(){be(this,r)||this.setEventListener(be(this,n))}onUnsubscribe(){var e;this.hasListeners()||(null==(e=be(this,r))||e.call(this),je(this,r,void 0))}setEventListener(e){var t;je(this,n,e),null==(t=be(this,r))||t.call(this),je(this,r,e(e=>{"boolean"==typeof e?this.setFocused(e):this.onFocus()}))}setFocused(e){be(this,s)!==e&&(je(this,s,e),this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(t=>{t(e)})}isFocused(){var e;return"boolean"==typeof be(this,s)?be(this,s):"hidden"!==(null==(e=globalThis.document)?void 0:e.visibilityState)}},s=new WeakMap,r=new WeakMap,n=new WeakMap,a),xo=new(c=class extends Vi{constructor(){super(),we(this,i,!0),we(this,o),we(this,l),je(this,l,e=>{if(!Gi&&window.addEventListener){const t=()=>e(!0),s=()=>e(!1);return window.addEventListener("online",t,!1),window.addEventListener("offline",s,!1),()=>{window.removeEventListener("online",t),window.removeEventListener("offline",s)}}})}onSubscribe(){be(this,o)||this.setEventListener(be(this,l))}onUnsubscribe(){var e;this.hasListeners()||(null==(e=be(this,o))||e.call(this),je(this,o,void 0))}setEventListener(e){var t;je(this,l,e),null==(t=be(this,o))||t.call(this),je(this,o,e(this.setOnline.bind(this)))}setOnline(e){be(this,i)!==e&&(je(this,i,e),this.listeners.forEach(t=>{t(e)}))}isOnline(){return be(this,i)}},i=new WeakMap,o=new WeakMap,l=new WeakMap,c);function vo(){let e,t;const s=new Promise((s,r)=>{e=s,t=r});function r(e){Object.assign(s,e),delete s.resolve,delete s.reject}return s.status="pending",s.catch(()=>{}),s.resolve=t=>{r({status:"fulfilled",value:t}),e(t)},s.reject=e=>{r({status:"rejected",reason:e}),t(e)},s}function yo(e){return Math.min(1e3*2**e,3e4)}function bo(e){return"online"!==(e??"online")||xo.isOnline()}var wo=class extends Error{constructor(e){super("CancelledError"),this.revert=null==e?void 0:e.revert,this.silent=null==e?void 0:e.silent}};function jo(e){return e instanceof wo}function _o(e){let t,s=!1,r=0,n=!1;const a=vo(),i=()=>go.isFocused()&&("always"===e.networkMode||xo.isOnline())&&e.canRun(),o=()=>bo(e.networkMode)&&e.canRun(),l=s=>{var r;n||(n=!0,null==(r=e.onSuccess)||r.call(e,s),null==t||t(),a.resolve(s))},c=s=>{var r;n||(n=!0,null==(r=e.onError)||r.call(e,s),null==t||t(),a.reject(s))},d=()=>new Promise(s=>{var r;t=e=>{(n||i())&&s(e)},null==(r=e.onPause)||r.call(e)}).then(()=>{var s;t=void 0,n||null==(s=e.onContinue)||s.call(e)}),u=()=>{if(n)return;let t;const a=0===r?e.initialPromise:void 0;try{t=a??e.fn()}catch(o){t=Promise.reject(o)}Promise.resolve(t).then(l).catch(t=>{var a;if(n)return;const o=e.retry??(Gi?0:3),l=e.retryDelay??yo,h="function"==typeof l?l(r,t):l,m=!0===o||"number"==typeof o&&r<o||"function"==typeof o&&o(r,t);var p;!s&&m?(r++,null==(a=e.onFail)||a.call(e,r,t),(p=h,new Promise(e=>{setTimeout(e,p)})).then(()=>i()?void 0:d()).then(()=>{s?c(t):u()})):c(t)})};return{promise:a,cancel:t=>{var s;n||(c(new wo(t)),null==(s=e.abort)||s.call(e))},continue:()=>(null==t||t(),a),cancelRetry:()=>{s=!0},continueRetry:()=>{s=!1},canStart:o,start:()=>(o()?u():d().then(u),a)}}var No=e=>setTimeout(e,0);var ko=function(){let e=[],t=0,s=e=>{e()},r=e=>{e()},n=No;const a=r=>{t?e.push(r):n(()=>{s(r)})};return{batch:a=>{let i;t++;try{i=a()}finally{t--,t||(()=>{const t=e;e=[],t.length&&n(()=>{r(()=>{t.forEach(e=>{s(e)})})})})()}return i},batchCalls:e=>(...t)=>{a(()=>{e(...t)})},schedule:a,setNotifyFunction:e=>{s=e},setBatchNotifyFunction:e=>{r=e},setScheduler:e=>{n=e}}}(),So=(u=class{constructor(){we(this,d)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),Ji(this.gcTime)&&je(this,d,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(Gi?1/0:3e5))}clearGcTimeout(){be(this,d)&&(clearTimeout(be(this,d)),je(this,d,void 0))}},d=new WeakMap,u),Co=(w=class extends So{constructor(e){super(),we(this,y),we(this,h),we(this,m),we(this,p),we(this,f),we(this,g),we(this,x),we(this,v),je(this,v,!1),je(this,x,e.defaultOptions),this.setOptions(e.options),this.observers=[],je(this,f,e.client),je(this,p,be(this,f).getQueryCache()),this.queryKey=e.queryKey,this.queryHash=e.queryHash,je(this,h,function(e){const t="function"==typeof e.initialData?e.initialData():e.initialData,s=void 0!==t,r=s?"function"==typeof e.initialDataUpdatedAt?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:s?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:s?"success":"pending",fetchStatus:"idle"}}(this.options)),this.state=e.state??be(this,h),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var e;return null==(e=be(this,g))?void 0:e.promise}setOptions(e){this.options={...be(this,x),...e},this.updateGcTime(this.options.gcTime)}optionalRemove(){this.observers.length||"idle"!==this.state.fetchStatus||be(this,p).remove(this)}setData(e,t){const s=uo(this.state.data,e,this.options);return _e(this,y,b).call(this,{data:s,type:"success",dataUpdatedAt:null==t?void 0:t.updatedAt,manual:null==t?void 0:t.manual}),s}setState(e,t){_e(this,y,b).call(this,{type:"setState",state:e,setStateOptions:t})}cancel(e){var t,s;const r=null==(t=be(this,g))?void 0:t.promise;return null==(s=be(this,g))||s.cancel(e),r?r.then(Zi).catch(Zi):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(be(this,h))}isActive(){return this.observers.some(e=>!1!==Xi(e.options.enabled,this))}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===po||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0&&this.observers.some(e=>"static"===Qi(e.options.staleTime,this))}isStale(){return this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):void 0===this.state.data||this.state.isInvalidated}isStaleByTime(e=0){return void 0===this.state.data||"static"!==e&&(!!this.state.isInvalidated||!Yi(this.state.dataUpdatedAt,e))}onFocus(){var e;const t=this.observers.find(e=>e.shouldFetchOnWindowFocus());null==t||t.refetch({cancelRefetch:!1}),null==(e=be(this,g))||e.continue()}onOnline(){var e;const t=this.observers.find(e=>e.shouldFetchOnReconnect());null==t||t.refetch({cancelRefetch:!1}),null==(e=be(this,g))||e.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),be(this,p).notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(t=>t!==e),this.observers.length||(be(this,g)&&(be(this,v)?be(this,g).cancel({revert:!0}):be(this,g).cancelRetry()),this.scheduleGc()),be(this,p).notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||_e(this,y,b).call(this,{type:"invalidate"})}fetch(e,t){var s,r,n;if("idle"!==this.state.fetchStatus)if(void 0!==this.state.data&&(null==t?void 0:t.cancelRefetch))this.cancel({silent:!0});else if(be(this,g))return be(this,g).continueRetry(),be(this,g).promise;if(e&&this.setOptions(e),!this.options.queryFn){const e=this.observers.find(e=>e.options.queryFn);e&&this.setOptions(e.options)}const a=new AbortController,i=e=>{Object.defineProperty(e,"signal",{enumerable:!0,get:()=>(je(this,v,!0),a.signal)})},o=()=>{const e=fo(this.options,t),s=(()=>{const e={client:be(this,f),queryKey:this.queryKey,meta:this.meta};return i(e),e})();return je(this,v,!1),this.options.persister?this.options.persister(e,s,this):e(s)},l=(()=>{const e={fetchOptions:t,options:this.options,queryKey:this.queryKey,client:be(this,f),state:this.state,fetchFn:o};return i(e),e})();null==(s=this.options.behavior)||s.onFetch(l,this),je(this,m,this.state),"idle"!==this.state.fetchStatus&&this.state.fetchMeta===(null==(r=l.fetchOptions)?void 0:r.meta)||_e(this,y,b).call(this,{type:"fetch",meta:null==(n=l.fetchOptions)?void 0:n.meta});const c=e=>{var t,s,r,n;jo(e)&&e.silent||_e(this,y,b).call(this,{type:"error",error:e}),jo(e)||(null==(s=(t=be(this,p).config).onError)||s.call(t,e,this),null==(n=(r=be(this,p).config).onSettled)||n.call(r,this.state.data,e,this)),this.scheduleGc()};return je(this,g,_o({initialPromise:null==t?void 0:t.initialPromise,fn:l.fetchFn,abort:a.abort.bind(a),onSuccess:e=>{var t,s,r,n;if(void 0!==e){try{this.setData(e)}catch(a){return void c(a)}null==(s=(t=be(this,p).config).onSuccess)||s.call(t,e,this),null==(n=(r=be(this,p).config).onSettled)||n.call(r,e,this.state.error,this),this.scheduleGc()}else c(new Error(`${this.queryHash} data is undefined`))},onError:c,onFail:(e,t)=>{_e(this,y,b).call(this,{type:"failed",failureCount:e,error:t})},onPause:()=>{_e(this,y,b).call(this,{type:"pause"})},onContinue:()=>{_e(this,y,b).call(this,{type:"continue"})},retry:l.options.retry,retryDelay:l.options.retryDelay,networkMode:l.options.networkMode,canRun:()=>!0})),be(this,g).start()}},h=new WeakMap,m=new WeakMap,p=new WeakMap,f=new WeakMap,g=new WeakMap,x=new WeakMap,v=new WeakMap,y=new WeakSet,b=function(e){this.state=(t=>{switch(e.type){case"failed":return{...t,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...t,fetchStatus:"paused"};case"continue":return{...t,fetchStatus:"fetching"};case"fetch":return{...t,...Eo(t.data,this.options),fetchMeta:e.meta??null};case"success":return je(this,m,void 0),{...t,data:e.data,dataUpdateCount:t.dataUpdateCount+1,dataUpdatedAt:e.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const s=e.error;return jo(s)&&s.revert&&be(this,m)?{...be(this,m),fetchStatus:"idle"}:{...t,error:s,errorUpdateCount:t.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:t.fetchFailureCount+1,fetchFailureReason:s,fetchStatus:"idle",status:"error"};case"invalidate":return{...t,isInvalidated:!0};case"setState":return{...t,...e.state}}})(this.state),ko.batch(()=>{this.observers.forEach(e=>{e.onQueryUpdate()}),be(this,p).notify({query:this,type:"updated",action:e})})},w);function Eo(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:bo(t.networkMode)?"fetching":"paused",...void 0===e&&{error:null,status:"pending"}}}var To=(_=class extends Vi{constructor(e={}){super(),we(this,j),this.config=e,je(this,j,new Map)}build(e,t,s){const r=t.queryKey,n=t.queryHash??so(r,t);let a=this.get(n);return a||(a=new Co({client:e,queryKey:r,queryHash:n,options:e.defaultQueryOptions(t),state:s,defaultOptions:e.getQueryDefaults(r)}),this.add(a)),a}add(e){be(this,j).has(e.queryHash)||(be(this,j).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const t=be(this,j).get(e.queryHash);t&&(e.destroy(),t===e&&be(this,j).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){ko.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return be(this,j).get(e)}getAll(){return[...be(this,j).values()]}find(e){const t={exact:!0,...e};return this.getAll().find(e=>eo(t,e))}findAll(e={}){const t=this.getAll();return Object.keys(e).length>0?t.filter(t=>eo(e,t)):t}notify(e){ko.batch(()=>{this.listeners.forEach(t=>{t(e)})})}onFocus(){ko.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){ko.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},j=new WeakMap,_),Ro=(T=class extends So{constructor(e){super(),we(this,C),we(this,N),we(this,k),we(this,S),this.mutationId=e.mutationId,je(this,k,e.mutationCache),je(this,N,[]),this.state=e.state||{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0},this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){be(this,N).includes(e)||(be(this,N).push(e),this.clearGcTimeout(),be(this,k).notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){je(this,N,be(this,N).filter(t=>t!==e)),this.scheduleGc(),be(this,k).notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){be(this,N).length||("pending"===this.state.status?this.scheduleGc():be(this,k).remove(this))}continue(){var e;return(null==(e=be(this,S))?void 0:e.continue())??this.execute(this.state.variables)}async execute(e){var t,s,r,n,a,i,o,l,c,d,u,h,m,p,f,g,x,v,y,b;const w=()=>{_e(this,C,E).call(this,{type:"continue"})};je(this,S,_o({fn:()=>this.options.mutationFn?this.options.mutationFn(e):Promise.reject(new Error("No mutationFn found")),onFail:(e,t)=>{_e(this,C,E).call(this,{type:"failed",failureCount:e,error:t})},onPause:()=>{_e(this,C,E).call(this,{type:"pause"})},onContinue:w,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>be(this,k).canRun(this)}));const j="pending"===this.state.status,_=!be(this,S).canStart();try{if(j)w();else{_e(this,C,E).call(this,{type:"pending",variables:e,isPaused:_}),await(null==(s=(t=be(this,k).config).onMutate)?void 0:s.call(t,e,this));const a=await(null==(n=(r=this.options).onMutate)?void 0:n.call(r,e));a!==this.state.context&&_e(this,C,E).call(this,{type:"pending",context:a,variables:e,isPaused:_})}const m=await be(this,S).start();return await(null==(i=(a=be(this,k).config).onSuccess)?void 0:i.call(a,m,e,this.state.context,this)),await(null==(l=(o=this.options).onSuccess)?void 0:l.call(o,m,e,this.state.context)),await(null==(d=(c=be(this,k).config).onSettled)?void 0:d.call(c,m,null,this.state.variables,this.state.context,this)),await(null==(h=(u=this.options).onSettled)?void 0:h.call(u,m,null,e,this.state.context)),_e(this,C,E).call(this,{type:"success",data:m}),m}catch(N){try{throw await(null==(p=(m=be(this,k).config).onError)?void 0:p.call(m,N,e,this.state.context,this)),await(null==(g=(f=this.options).onError)?void 0:g.call(f,N,e,this.state.context)),await(null==(v=(x=be(this,k).config).onSettled)?void 0:v.call(x,void 0,N,this.state.variables,this.state.context,this)),await(null==(b=(y=this.options).onSettled)?void 0:b.call(y,void 0,N,e,this.state.context)),N}finally{_e(this,C,E).call(this,{type:"error",error:N})}}finally{be(this,k).runNext(this)}}},N=new WeakMap,k=new WeakMap,S=new WeakMap,C=new WeakSet,E=function(e){this.state=(t=>{switch(e.type){case"failed":return{...t,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...t,isPaused:!0};case"continue":return{...t,isPaused:!1};case"pending":return{...t,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...t,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...t,data:void 0,error:e.error,failureCount:t.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}})(this.state),ko.batch(()=>{be(this,N).forEach(t=>{t.onMutationUpdate(e)}),be(this,k).notify({mutation:this,type:"updated",action:e})})},T);var Oo=(P=class extends Vi{constructor(e={}){super(),we(this,R),we(this,O),we(this,A),this.config=e,je(this,R,new Set),je(this,O,new Map),je(this,A,0)}build(e,t,s){const r=new Ro({mutationCache:this,mutationId:++Ne(this,A)._,options:e.defaultMutationOptions(t),state:s});return this.add(r),r}add(e){be(this,R).add(e);const t=Ao(e);if("string"==typeof t){const s=be(this,O).get(t);s?s.push(e):be(this,O).set(t,[e])}this.notify({type:"added",mutation:e})}remove(e){if(be(this,R).delete(e)){const t=Ao(e);if("string"==typeof t){const s=be(this,O).get(t);if(s)if(s.length>1){const t=s.indexOf(e);-1!==t&&s.splice(t,1)}else s[0]===e&&be(this,O).delete(t)}}this.notify({type:"removed",mutation:e})}canRun(e){const t=Ao(e);if("string"==typeof t){const s=be(this,O).get(t),r=null==s?void 0:s.find(e=>"pending"===e.state.status);return!r||r===e}return!0}runNext(e){var t;const s=Ao(e);if("string"==typeof s){const r=null==(t=be(this,O).get(s))?void 0:t.find(t=>t!==e&&t.state.isPaused);return(null==r?void 0:r.continue())??Promise.resolve()}return Promise.resolve()}clear(){ko.batch(()=>{be(this,R).forEach(e=>{this.notify({type:"removed",mutation:e})}),be(this,R).clear(),be(this,O).clear()})}getAll(){return Array.from(be(this,R))}find(e){const t={exact:!0,...e};return this.getAll().find(e=>to(t,e))}findAll(e={}){return this.getAll().filter(t=>to(e,t))}notify(e){ko.batch(()=>{this.listeners.forEach(t=>{t(e)})})}resumePausedMutations(){const e=this.getAll().filter(e=>e.state.isPaused);return ko.batch(()=>Promise.all(e.map(e=>e.continue().catch(Zi))))}},R=new WeakMap,O=new WeakMap,A=new WeakMap,P);function Ao(e){var t;return null==(t=e.options.scope)?void 0:t.id}function Po(e){return{onFetch:(t,s)=>{var r,n,a,i,o;const l=t.options,c=null==(a=null==(n=null==(r=t.fetchOptions)?void 0:r.meta)?void 0:n.fetchMore)?void 0:a.direction,d=(null==(i=t.state.data)?void 0:i.pages)||[],u=(null==(o=t.state.data)?void 0:o.pageParams)||[];let h={pages:[],pageParams:[]},m=0;const p=async()=>{let s=!1;const r=fo(t.options,t.fetchOptions),n=async(e,n,a)=>{if(s)return Promise.reject();if(null==n&&e.pages.length)return Promise.resolve(e);const i=(()=>{const e={client:t.client,queryKey:t.queryKey,pageParam:n,direction:a?"backward":"forward",meta:t.options.meta};var r;return r=e,Object.defineProperty(r,"signal",{enumerable:!0,get:()=>(t.signal.aborted?s=!0:t.signal.addEventListener("abort",()=>{s=!0}),t.signal)}),e})(),o=await r(i),{maxPages:l}=t.options,c=a?mo:ho;return{pages:c(e.pages,o,l),pageParams:c(e.pageParams,n,l)}};if(c&&d.length){const e="backward"===c,t={pages:d,pageParams:u},s=(e?Mo:Io)(l,t);h=await n(t,s,e)}else{const t=e??d.length;do{const e=0===m?u[0]??l.initialPageParam:Io(l,h);if(m>0&&null==e)break;h=await n(h,e),m++}while(m<t)}return h};t.options.persister?t.fetchFn=()=>{var e,r;return null==(r=(e=t.options).persister)?void 0:r.call(e,p,{client:t.client,queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},s)}:t.fetchFn=p}}}function Io(e,{pages:t,pageParams:s}){const r=t.length-1;return t.length>0?e.getNextPageParam(t[r],t,s[r],s):void 0}function Mo(e,{pages:t,pageParams:s}){var r;return t.length>0?null==(r=e.getPreviousPageParam)?void 0:r.call(e,t[0],t,s[0],s):void 0}var Do=(z=class{constructor(e={}){we(this,I),we(this,M),we(this,D),we(this,$),we(this,L),we(this,U),we(this,F),we(this,B),je(this,I,e.queryCache||new To),je(this,M,e.mutationCache||new Oo),je(this,D,e.defaultOptions||{}),je(this,$,new Map),je(this,L,new Map),je(this,U,0)}mount(){Ne(this,U)._++,1===be(this,U)&&(je(this,F,go.subscribe(async e=>{e&&(await this.resumePausedMutations(),be(this,I).onFocus())})),je(this,B,xo.subscribe(async e=>{e&&(await this.resumePausedMutations(),be(this,I).onOnline())})))}unmount(){var e,t;Ne(this,U)._--,0===be(this,U)&&(null==(e=be(this,F))||e.call(this),je(this,F,void 0),null==(t=be(this,B))||t.call(this),je(this,B,void 0))}isFetching(e){return be(this,I).findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return be(this,M).findAll({...e,status:"pending"}).length}getQueryData(e){var t;const s=this.defaultQueryOptions({queryKey:e});return null==(t=be(this,I).get(s.queryHash))?void 0:t.state.data}ensureQueryData(e){const t=this.defaultQueryOptions(e),s=be(this,I).build(this,t),r=s.state.data;return void 0===r?this.fetchQuery(e):(e.revalidateIfStale&&s.isStaleByTime(Qi(t.staleTime,s))&&this.prefetchQuery(t),Promise.resolve(r))}getQueriesData(e){return be(this,I).findAll(e).map(({queryKey:e,state:t})=>[e,t.data])}setQueryData(e,t,s){const r=this.defaultQueryOptions({queryKey:e}),n=be(this,I).get(r.queryHash),a=function(e,t){return"function"==typeof e?e(t):e}(t,null==n?void 0:n.state.data);if(void 0!==a)return be(this,I).build(this,r).setData(a,{...s,manual:!0})}setQueriesData(e,t,s){return ko.batch(()=>be(this,I).findAll(e).map(({queryKey:e})=>[e,this.setQueryData(e,t,s)]))}getQueryState(e){var t;const s=this.defaultQueryOptions({queryKey:e});return null==(t=be(this,I).get(s.queryHash))?void 0:t.state}removeQueries(e){const t=be(this,I);ko.batch(()=>{t.findAll(e).forEach(e=>{t.remove(e)})})}resetQueries(e,t){const s=be(this,I);return ko.batch(()=>(s.findAll(e).forEach(e=>{e.reset()}),this.refetchQueries({type:"active",...e},t)))}cancelQueries(e,t={}){const s={revert:!0,...t},r=ko.batch(()=>be(this,I).findAll(e).map(e=>e.cancel(s)));return Promise.all(r).then(Zi).catch(Zi)}invalidateQueries(e,t={}){return ko.batch(()=>(be(this,I).findAll(e).forEach(e=>{e.invalidate()}),"none"===(null==e?void 0:e.refetchType)?Promise.resolve():this.refetchQueries({...e,type:(null==e?void 0:e.refetchType)??(null==e?void 0:e.type)??"active"},t)))}refetchQueries(e,t={}){const s={...t,cancelRefetch:t.cancelRefetch??!0},r=ko.batch(()=>be(this,I).findAll(e).filter(e=>!e.isDisabled()&&!e.isStatic()).map(e=>{let t=e.fetch(void 0,s);return s.throwOnError||(t=t.catch(Zi)),"paused"===e.state.fetchStatus?Promise.resolve():t}));return Promise.all(r).then(Zi)}fetchQuery(e){const t=this.defaultQueryOptions(e);void 0===t.retry&&(t.retry=!1);const s=be(this,I).build(this,t);return s.isStaleByTime(Qi(t.staleTime,s))?s.fetch(t):Promise.resolve(s.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(Zi).catch(Zi)}fetchInfiniteQuery(e){return e.behavior=Po(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(Zi).catch(Zi)}ensureInfiniteQueryData(e){return e.behavior=Po(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return xo.isOnline()?be(this,M).resumePausedMutations():Promise.resolve()}getQueryCache(){return be(this,I)}getMutationCache(){return be(this,M)}getDefaultOptions(){return be(this,D)}setDefaultOptions(e){je(this,D,e)}setQueryDefaults(e,t){be(this,$).set(ro(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...be(this,$).values()],s={};return t.forEach(t=>{no(e,t.queryKey)&&Object.assign(s,t.defaultOptions)}),s}setMutationDefaults(e,t){be(this,L).set(ro(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...be(this,L).values()],s={};return t.forEach(t=>{no(e,t.mutationKey)&&Object.assign(s,t.defaultOptions)}),s}defaultQueryOptions(e){if(e._defaulted)return e;const t={...be(this,D).queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=so(t.queryKey,t)),void 0===t.refetchOnReconnect&&(t.refetchOnReconnect="always"!==t.networkMode),void 0===t.throwOnError&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.queryFn===po&&(t.enabled=!1),t}defaultMutationOptions(e){return(null==e?void 0:e._defaulted)?e:{...be(this,D).mutations,...(null==e?void 0:e.mutationKey)&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){be(this,I).clear(),be(this,M).clear()}},I=new WeakMap,M=new WeakMap,D=new WeakMap,$=new WeakMap,L=new WeakMap,U=new WeakMap,F=new WeakMap,B=new WeakMap,z),$o=(pe=class extends Vi{constructor(e,t){super(),we(this,ne),we(this,q),we(this,W),we(this,H),we(this,K),we(this,V),we(this,G),we(this,Z),we(this,J),we(this,Y),we(this,Q),we(this,X),we(this,ee),we(this,te),we(this,se),we(this,re,new Set),this.options=t,je(this,q,e),je(this,J,null),je(this,Z,vo()),this.options.experimental_prefetchInRender||be(this,Z).reject(new Error("experimental_prefetchInRender feature flag is not enabled")),this.bindMethods(),this.setOptions(t)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){1===this.listeners.size&&(be(this,W).addObserver(this),Lo(be(this,W),this.options)?_e(this,ne,ae).call(this):this.updateResult(),_e(this,ne,ce).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return Uo(be(this,W),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return Uo(be(this,W),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,_e(this,ne,de).call(this),_e(this,ne,ue).call(this),be(this,W).removeObserver(this)}setOptions(e){const t=this.options,s=be(this,W);if(this.options=be(this,q).defaultQueryOptions(e),void 0!==this.options.enabled&&"boolean"!=typeof this.options.enabled&&"function"!=typeof this.options.enabled&&"boolean"!=typeof Xi(this.options.enabled,be(this,W)))throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");_e(this,ne,he).call(this),be(this,W).setOptions(this.options),t._defaulted&&!io(this.options,t)&&be(this,q).getQueryCache().notify({type:"observerOptionsUpdated",query:be(this,W),observer:this});const r=this.hasListeners();r&&Fo(be(this,W),s,this.options,t)&&_e(this,ne,ae).call(this),this.updateResult(),!r||be(this,W)===s&&Xi(this.options.enabled,be(this,W))===Xi(t.enabled,be(this,W))&&Qi(this.options.staleTime,be(this,W))===Qi(t.staleTime,be(this,W))||_e(this,ne,ie).call(this);const n=_e(this,ne,oe).call(this);!r||be(this,W)===s&&Xi(this.options.enabled,be(this,W))===Xi(t.enabled,be(this,W))&&n===be(this,se)||_e(this,ne,le).call(this,n)}getOptimisticResult(e){const t=be(this,q).getQueryCache().build(be(this,q),e),s=this.createResult(t,e);return function(e,t){if(!io(e.getCurrentResult(),t))return!0;return!1}(this,s)&&(je(this,K,s),je(this,G,this.options),je(this,V,be(this,W).state)),s}getCurrentResult(){return be(this,K)}trackResult(e,t){return new Proxy(e,{get:(e,s)=>(this.trackProp(s),null==t||t(s),Reflect.get(e,s))})}trackProp(e){be(this,re).add(e)}getCurrentQuery(){return be(this,W)}refetch({...e}={}){return this.fetch({...e})}fetchOptimistic(e){const t=be(this,q).defaultQueryOptions(e),s=be(this,q).getQueryCache().build(be(this,q),t);return s.fetch().then(()=>this.createResult(s,t))}fetch(e){return _e(this,ne,ae).call(this,{...e,cancelRefetch:e.cancelRefetch??!0}).then(()=>(this.updateResult(),be(this,K)))}createResult(e,t){var s;const r=be(this,W),n=this.options,a=be(this,K),i=be(this,V),o=be(this,G),l=e!==r?e.state:be(this,H),{state:c}=e;let d,u={...c},h=!1;if(t._optimisticResults){const s=this.hasListeners(),a=!s&&Lo(e,t),i=s&&Fo(e,r,t,n);(a||i)&&(u={...u,...Eo(c.data,e.options)}),"isRestoring"===t._optimisticResults&&(u.fetchStatus="idle")}let{error:m,errorUpdatedAt:p,status:f}=u;d=u.data;let g=!1;if(void 0!==t.placeholderData&&void 0===d&&"pending"===f){let e;(null==a?void 0:a.isPlaceholderData)&&t.placeholderData===(null==o?void 0:o.placeholderData)?(e=a.data,g=!0):e="function"==typeof t.placeholderData?t.placeholderData(null==(s=be(this,X))?void 0:s.state.data,be(this,X)):t.placeholderData,void 0!==e&&(f="success",d=uo(null==a?void 0:a.data,e,t),h=!0)}if(t.select&&void 0!==d&&!g)if(a&&d===(null==i?void 0:i.data)&&t.select===be(this,Y))d=be(this,Q);else try{je(this,Y,t.select),d=t.select(d),d=uo(null==a?void 0:a.data,d,t),je(this,Q,d),je(this,J,null)}catch(_){je(this,J,_)}be(this,J)&&(m=be(this,J),d=be(this,Q),p=Date.now(),f="error");const x="fetching"===u.fetchStatus,v="pending"===f,y="error"===f,b=v&&x,w=void 0!==d,j={status:f,fetchStatus:u.fetchStatus,isPending:v,isSuccess:"success"===f,isError:y,isInitialLoading:b,isLoading:b,data:d,dataUpdatedAt:u.dataUpdatedAt,error:m,errorUpdatedAt:p,failureCount:u.fetchFailureCount,failureReason:u.fetchFailureReason,errorUpdateCount:u.errorUpdateCount,isFetched:u.dataUpdateCount>0||u.errorUpdateCount>0,isFetchedAfterMount:u.dataUpdateCount>l.dataUpdateCount||u.errorUpdateCount>l.errorUpdateCount,isFetching:x,isRefetching:x&&!v,isLoadingError:y&&!w,isPaused:"paused"===u.fetchStatus,isPlaceholderData:h,isRefetchError:y&&w,isStale:Bo(e,t),refetch:this.refetch,promise:be(this,Z),isEnabled:!1!==Xi(t.enabled,e)};if(this.options.experimental_prefetchInRender){const t=e=>{"error"===j.status?e.reject(j.error):void 0!==j.data&&e.resolve(j.data)},s=()=>{const e=je(this,Z,j.promise=vo());t(e)},n=be(this,Z);switch(n.status){case"pending":e.queryHash===r.queryHash&&t(n);break;case"fulfilled":"error"!==j.status&&j.data===n.value||s();break;case"rejected":"error"===j.status&&j.error===n.reason||s()}}return j}updateResult(){const e=be(this,K),t=this.createResult(be(this,W),this.options);if(je(this,V,be(this,W).state),je(this,G,this.options),void 0!==be(this,V).data&&je(this,X,be(this,W)),io(t,e))return;je(this,K,t);_e(this,ne,me).call(this,{listeners:(()=>{if(!e)return!0;const{notifyOnChangeProps:t}=this.options,s="function"==typeof t?t():t;if("all"===s||!s&&!be(this,re).size)return!0;const r=new Set(s??be(this,re));return this.options.throwOnError&&r.add("error"),Object.keys(be(this,K)).some(t=>{const s=t;return be(this,K)[s]!==e[s]&&r.has(s)})})()})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&_e(this,ne,ce).call(this)}},q=new WeakMap,W=new WeakMap,H=new WeakMap,K=new WeakMap,V=new WeakMap,G=new WeakMap,Z=new WeakMap,J=new WeakMap,Y=new WeakMap,Q=new WeakMap,X=new WeakMap,ee=new WeakMap,te=new WeakMap,se=new WeakMap,re=new WeakMap,ne=new WeakSet,ae=function(e){_e(this,ne,he).call(this);let t=be(this,W).fetch(this.options,e);return(null==e?void 0:e.throwOnError)||(t=t.catch(Zi)),t},ie=function(){_e(this,ne,de).call(this);const e=Qi(this.options.staleTime,be(this,W));if(Gi||be(this,K).isStale||!Ji(e))return;const t=Yi(be(this,K).dataUpdatedAt,e);je(this,ee,setTimeout(()=>{be(this,K).isStale||this.updateResult()},t+1))},oe=function(){return("function"==typeof this.options.refetchInterval?this.options.refetchInterval(be(this,W)):this.options.refetchInterval)??!1},le=function(e){_e(this,ne,ue).call(this),je(this,se,e),!Gi&&!1!==Xi(this.options.enabled,be(this,W))&&Ji(be(this,se))&&0!==be(this,se)&&je(this,te,setInterval(()=>{(this.options.refetchIntervalInBackground||go.isFocused())&&_e(this,ne,ae).call(this)},be(this,se)))},ce=function(){_e(this,ne,ie).call(this),_e(this,ne,le).call(this,_e(this,ne,oe).call(this))},de=function(){be(this,ee)&&(clearTimeout(be(this,ee)),je(this,ee,void 0))},ue=function(){be(this,te)&&(clearInterval(be(this,te)),je(this,te,void 0))},he=function(){const e=be(this,q).getQueryCache().build(be(this,q),this.options);if(e===be(this,W))return;const t=be(this,W);je(this,W,e),je(this,H,e.state),this.hasListeners()&&(null==t||t.removeObserver(this),e.addObserver(this))},me=function(e){ko.batch(()=>{e.listeners&&this.listeners.forEach(e=>{e(be(this,K))}),be(this,q).getQueryCache().notify({query:be(this,W),type:"observerResultsUpdated"})})},pe);function Lo(e,t){return function(e,t){return!1!==Xi(t.enabled,e)&&void 0===e.state.data&&!("error"===e.state.status&&!1===t.retryOnMount)}(e,t)||void 0!==e.state.data&&Uo(e,t,t.refetchOnMount)}function Uo(e,t,s){if(!1!==Xi(t.enabled,e)&&"static"!==Qi(t.staleTime,e)){const r="function"==typeof s?s(e):s;return"always"===r||!1!==r&&Bo(e,t)}return!1}function Fo(e,t,s,r){return(e!==t||!1===Xi(r.enabled,e))&&(!s.suspense||"error"!==e.state.status)&&Bo(e,s)}function Bo(e,t){return!1!==Xi(t.enabled,e)&&e.isStaleByTime(Qi(t.staleTime,e))}var zo=zt.createContext(void 0),qo=e=>{const t=zt.useContext(zo);if(!t)throw new Error("No QueryClient set, use QueryClientProvider to set one");return t},Wo=({client:e,children:t})=>(zt.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),Ee.jsx(zo.Provider,{value:e,children:t})),Ho=zt.createContext(!1);Ho.Provider;var Ko=zt.createContext(function(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}()),Vo=(e,t,s)=>t.fetchOptimistic(e).catch(()=>{s.clearReset()});function Go(e,t,s){var r,n,a,i,o;const l=zt.useContext(Ho),c=zt.useContext(Ko),d=qo(),u=d.defaultQueryOptions(e);null==(n=null==(r=d.getDefaultOptions().queries)?void 0:r._experimental_beforeQuery)||n.call(r,u),u._optimisticResults=l?"isRestoring":"optimistic",(e=>{if(e.suspense){const t=e=>"static"===e?e:Math.max(e??1e3,1e3),s=e.staleTime;e.staleTime="function"==typeof s?(...e)=>t(s(...e)):t(s),"number"==typeof e.gcTime&&(e.gcTime=Math.max(e.gcTime,1e3))}})(u),((e,t)=>{(e.suspense||e.throwOnError||e.experimental_prefetchInRender)&&(t.isReset()||(e.retryOnMount=!1))})(u,c),(e=>{zt.useEffect(()=>{e.clearReset()},[e])})(c);const h=!d.getQueryCache().get(u.queryHash),[m]=zt.useState(()=>new t(d,u)),p=m.getOptimisticResult(u),f=!l&&!1!==e.subscribed;if(zt.useSyncExternalStore(zt.useCallback(e=>{const t=f?m.subscribe(ko.batchCalls(e)):Zi;return m.updateResult(),t},[m,f]),()=>m.getCurrentResult(),()=>m.getCurrentResult()),zt.useEffect(()=>{m.setOptions(u)},[u,m]),((e,t)=>(null==e?void 0:e.suspense)&&t.isPending)(u,p))throw Vo(u,m,c);if((({result:e,errorResetBoundary:t,throwOnError:s,query:r,suspense:n})=>e.isError&&!t.isReset()&&!e.isFetching&&r&&(n&&void 0===e.data||function(e,t){return"function"==typeof e?e(...t):!!e}(s,[e.error,r])))({result:p,errorResetBoundary:c,throwOnError:u.throwOnError,query:d.getQueryCache().get(u.queryHash),suspense:u.suspense}))throw p.error;if(null==(i=null==(a=d.getDefaultOptions().queries)?void 0:a._experimental_afterQuery)||i.call(a,u,p),u.experimental_prefetchInRender&&!Gi&&((e,t)=>e.isLoading&&e.isFetching&&!t)(p,l)){const e=h?Vo(u,m,c):null==(o=d.getQueryCache().get(u.queryHash))?void 0:o.promise;null==e||e.catch(Zi).finally(()=>{m.updateResult()})}return u.notifyOnChangeProps?p:m.trackResult(p)}function Zo(e,t){return Go(e,$o)}const Jo=Yr("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),Yo=zt.forwardRef(({className:e,variant:t,size:s,asChild:r=!1,...n},a)=>{const i=r?Ve:"button";return Ee.jsx(i,{className:Wa(Jo({variant:t,size:s,className:e})),ref:a,...n})});Yo.displayName="Button";const Qo=zt.forwardRef(({className:e,...t},s)=>Ee.jsx("div",{ref:s,className:Wa("rounded-lg border bg-card text-card-foreground shadow-sm",e),...t}));Qo.displayName="Card";const Xo=zt.forwardRef(({className:e,...t},s)=>Ee.jsx("div",{ref:s,className:Wa("flex flex-col space-y-1.5 p-6",e),...t}));Xo.displayName="CardHeader";const el=zt.forwardRef(({className:e,...t},s)=>Ee.jsx("h3",{ref:s,className:Wa("text-2xl font-semibold leading-none tracking-tight",e),...t}));el.displayName="CardTitle";const tl=zt.forwardRef(({className:e,...t},s)=>Ee.jsx("p",{ref:s,className:Wa("text-sm text-muted-foreground",e),...t}));tl.displayName="CardDescription";const sl=zt.forwardRef(({className:e,...t},s)=>Ee.jsx("div",{ref:s,className:Wa("p-6 pt-0",e),...t}));sl.displayName="CardContent";zt.forwardRef(({className:e,...t},s)=>Ee.jsx("div",{ref:s,className:Wa("flex items-center p-6 pt-0",e),...t})).displayName="CardFooter";class rl extends zt.Component{constructor(){super(...arguments),ve(this,"state",{hasError:!1}),ve(this,"handleReset",()=>{this.setState({hasError:!1,error:void 0}),window.location.reload()})}static getDerivedStateFromError(e){return{hasError:!0,error:e}}componentDidCatch(e,t){}render(){return this.state.hasError?this.props.fallback?this.props.fallback:Ee.jsx("div",{className:"min-h-screen flex items-center justify-center bg-background p-4",children:Ee.jsxs(Qo,{className:"max-w-md w-full",children:[Ee.jsx(Xo,{children:Ee.jsxs("div",{className:"flex items-center gap-2",children:[Ee.jsx(Hn,{className:"h-6 w-6 text-destructive"}),Ee.jsx(el,{children:"Something went wrong"})]})}),Ee.jsxs(sl,{className:"space-y-4",children:[Ee.jsx("p",{className:"text-muted-foreground",children:"We apologize for the inconvenience. An unexpected error has occurred."}),this.state.error&&Ee.jsxs("details",{className:"text-xs text-muted-foreground",children:[Ee.jsx("summary",{className:"cursor-pointer",children:"Error details"}),Ee.jsx("pre",{className:"mt-2 p-2 bg-muted rounded overflow-auto",children:this.state.error.message})]}),Ee.jsx(Yo,{onClick:this.handleReset,className:"w-full",children:"Reload Page"})]})]})}):this.props.children}}class nl extends Error{constructor(e,t="FunctionsError",s){super(e),this.name=t,this.context=s}}class al extends nl{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class il extends nl{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class ol extends nl{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var ll,cl;(cl=ll||(ll={})).Any="any",cl.ApNortheast1="ap-northeast-1",cl.ApNortheast2="ap-northeast-2",cl.ApSouth1="ap-south-1",cl.ApSoutheast1="ap-southeast-1",cl.ApSoutheast2="ap-southeast-2",cl.CaCentral1="ca-central-1",cl.EuCentral1="eu-central-1",cl.EuWest1="eu-west-1",cl.EuWest2="eu-west-2",cl.EuWest3="eu-west-3",cl.SaEast1="sa-east-1",cl.UsEast1="us-east-1",cl.UsWest1="us-west-1",cl.UsWest2="us-west-2";class dl{constructor(e,{headers:t={},customFetch:s,region:r=ll.Any}={}){this.url=e,this.headers=t,this.region=r,this.fetch=(e=>e?(...t)=>e(...t):(...e)=>fetch(...e))(s)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e){return Ge(this,arguments,void 0,function*(e,t={}){var s;let r,n;try{const{headers:a,method:i,body:o,signal:l,timeout:c}=t;let d={},{region:u}=t;u||(u=this.region);const h=new URL(`${this.url}/${e}`);let m;u&&"any"!==u&&(d["x-region"]=u,h.searchParams.set("forceFunctionRegion",u)),o&&(a&&!Object.prototype.hasOwnProperty.call(a,"Content-Type")||!a)?"undefined"!=typeof Blob&&o instanceof Blob||o instanceof ArrayBuffer?(d["Content-Type"]="application/octet-stream",m=o):"string"==typeof o?(d["Content-Type"]="text/plain",m=o):"undefined"!=typeof FormData&&o instanceof FormData?m=o:(d["Content-Type"]="application/json",m=JSON.stringify(o)):m=o;let p=l;c&&(n=new AbortController,r=setTimeout(()=>n.abort(),c),l?(p=n.signal,l.addEventListener("abort",()=>n.abort())):p=n.signal);const f=yield this.fetch(h.toString(),{method:i||"POST",headers:Object.assign(Object.assign(Object.assign({},d),this.headers),a),body:m,signal:p}).catch(e=>{throw new al(e)}),g=f.headers.get("x-relay-error");if(g&&"true"===g)throw new il(f);if(!f.ok)throw new ol(f);let x,v=(null!==(s=f.headers.get("Content-Type"))&&void 0!==s?s:"text/plain").split(";")[0].trim();return x="application/json"===v?yield f.json():"application/octet-stream"===v||"application/pdf"===v?yield f.blob():"text/event-stream"===v?f:"multipart/form-data"===v?yield f.formData():yield f.text(),{data:x,error:null,response:f}}catch(a){return{data:null,error:a,response:a instanceof ol||a instanceof il?a.context:void 0}}finally{r&&clearTimeout(r)}})}}var ul={};const hl=Wt(Ze);var ml,pl,fl,gl,xl,vl,yl={},bl={},wl={},jl={},_l={},Nl={};function kl(){if(ml)return Nl;ml=1,Object.defineProperty(Nl,"__esModule",{value:!0});class e extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}}return Nl.default=e,Nl}function Sl(){if(pl)return _l;pl=1,Object.defineProperty(_l,"__esModule",{value:!0});const e=hl.__importDefault(kl());return _l.default=class{constructor(e){var t,s;this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=new Headers(e.headers),this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=null!==(t=e.shouldThrowOnError)&&void 0!==t&&t,this.signal=e.signal,this.isMaybeSingle=null!==(s=e.isMaybeSingle)&&void 0!==s&&s,e.fetch?this.fetch=e.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,t){return this.headers=new Headers(this.headers),this.headers.set(e,t),this}then(t,s){void 0===this.schema||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),"GET"!==this.method&&"HEAD"!==this.method&&this.headers.set("Content-Type","application/json");let r=(0,this.fetch)(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async t=>{var s,r,n,a;let i=null,o=null,l=null,c=t.status,d=t.statusText;if(t.ok){if("HEAD"!==this.method){const e=await t.text();""===e||(o="text/csv"===this.headers.get("Accept")||this.headers.get("Accept")&&(null===(s=this.headers.get("Accept"))||void 0===s?void 0:s.includes("application/vnd.pgrst.plan+text"))?e:JSON.parse(e))}const e=null===(r=this.headers.get("Prefer"))||void 0===r?void 0:r.match(/count=(exact|planned|estimated)/),a=null===(n=t.headers.get("content-range"))||void 0===n?void 0:n.split("/");e&&a&&a.length>1&&(l=parseInt(a[1])),this.isMaybeSingle&&"GET"===this.method&&Array.isArray(o)&&(o.length>1?(i={code:"PGRST116",details:`Results contain ${o.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},o=null,l=null,c=406,d="Not Acceptable"):o=1===o.length?o[0]:null)}else{const s=await t.text();try{i=JSON.parse(s),Array.isArray(i)&&404===t.status&&(o=[],i=null,c=200,d="OK")}catch(u){404===t.status&&""===s?(c=204,d="No Content"):i={message:s}}if(i&&this.isMaybeSingle&&(null===(a=null==i?void 0:i.details)||void 0===a?void 0:a.includes("0 rows"))&&(i=null,c=200,d="OK"),i&&this.shouldThrowOnError)throw new e.default(i)}return{error:i,data:o,count:l,status:c,statusText:d}});return this.shouldThrowOnError||(r=r.catch(e=>{var t,s,r;return{error:{message:`${null!==(t=null==e?void 0:e.name)&&void 0!==t?t:"FetchError"}: ${null==e?void 0:e.message}`,details:`${null!==(s=null==e?void 0:e.stack)&&void 0!==s?s:""}`,hint:"",code:`${null!==(r=null==e?void 0:e.code)&&void 0!==r?r:""}`},data:null,count:null,status:0,statusText:""}})),r.then(t,s)}returns(){return this}overrideTypes(){return this}},_l}function Cl(){if(fl)return jl;fl=1,Object.defineProperty(jl,"__esModule",{value:!0});const e=hl.__importDefault(Sl());class t extends e.default{select(e){let t=!1;const s=(null!=e?e:"*").split("").map(e=>/\s/.test(e)&&!t?"":('"'===e&&(t=!t),e)).join("");return this.url.searchParams.set("select",s),this.headers.append("Prefer","return=representation"),this}order(e,{ascending:t=!0,nullsFirst:s,foreignTable:r,referencedTable:n=r}={}){const a=n?`${n}.order`:"order",i=this.url.searchParams.get(a);return this.url.searchParams.set(a,`${i?`${i},`:""}${e}.${t?"asc":"desc"}${void 0===s?"":s?".nullsfirst":".nullslast"}`),this}limit(e,{foreignTable:t,referencedTable:s=t}={}){const r=void 0===s?"limit":`${s}.limit`;return this.url.searchParams.set(r,`${e}`),this}range(e,t,{foreignTable:s,referencedTable:r=s}={}){const n=void 0===r?"offset":`${r}.offset`,a=void 0===r?"limit":`${r}.limit`;return this.url.searchParams.set(n,`${e}`),this.url.searchParams.set(a,""+(t-e+1)),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return"GET"===this.method?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:e=!1,verbose:t=!1,settings:s=!1,buffers:r=!1,wal:n=!1,format:a="text"}={}){var i;const o=[e?"analyze":null,t?"verbose":null,s?"settings":null,r?"buffers":null,n?"wal":null].filter(Boolean).join("|"),l=null!==(i=this.headers.get("Accept"))&&void 0!==i?i:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${a}; for="${l}"; options=${o};`),this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(e){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${e}`),this}}return jl.default=t,jl}function El(){if(gl)return wl;gl=1,Object.defineProperty(wl,"__esModule",{value:!0});const e=hl.__importDefault(Cl()),t=new RegExp("[,()]");class s extends e.default{eq(e,t){return this.url.searchParams.append(e,`eq.${t}`),this}neq(e,t){return this.url.searchParams.append(e,`neq.${t}`),this}gt(e,t){return this.url.searchParams.append(e,`gt.${t}`),this}gte(e,t){return this.url.searchParams.append(e,`gte.${t}`),this}lt(e,t){return this.url.searchParams.append(e,`lt.${t}`),this}lte(e,t){return this.url.searchParams.append(e,`lte.${t}`),this}like(e,t){return this.url.searchParams.append(e,`like.${t}`),this}likeAllOf(e,t){return this.url.searchParams.append(e,`like(all).{${t.join(",")}}`),this}likeAnyOf(e,t){return this.url.searchParams.append(e,`like(any).{${t.join(",")}}`),this}ilike(e,t){return this.url.searchParams.append(e,`ilike.${t}`),this}ilikeAllOf(e,t){return this.url.searchParams.append(e,`ilike(all).{${t.join(",")}}`),this}ilikeAnyOf(e,t){return this.url.searchParams.append(e,`ilike(any).{${t.join(",")}}`),this}is(e,t){return this.url.searchParams.append(e,`is.${t}`),this}in(e,s){const r=Array.from(new Set(s)).map(e=>"string"==typeof e&&t.test(e)?`"${e}"`:`${e}`).join(",");return this.url.searchParams.append(e,`in.(${r})`),this}contains(e,t){return"string"==typeof t?this.url.searchParams.append(e,`cs.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cs.{${t.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(t)}`),this}containedBy(e,t){return"string"==typeof t?this.url.searchParams.append(e,`cd.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cd.{${t.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(t)}`),this}rangeGt(e,t){return this.url.searchParams.append(e,`sr.${t}`),this}rangeGte(e,t){return this.url.searchParams.append(e,`nxl.${t}`),this}rangeLt(e,t){return this.url.searchParams.append(e,`sl.${t}`),this}rangeLte(e,t){return this.url.searchParams.append(e,`nxr.${t}`),this}rangeAdjacent(e,t){return this.url.searchParams.append(e,`adj.${t}`),this}overlaps(e,t){return"string"==typeof t?this.url.searchParams.append(e,`ov.${t}`):this.url.searchParams.append(e,`ov.{${t.join(",")}}`),this}textSearch(e,t,{config:s,type:r}={}){let n="";"plain"===r?n="pl":"phrase"===r?n="ph":"websearch"===r&&(n="w");const a=void 0===s?"":`(${s})`;return this.url.searchParams.append(e,`${n}fts${a}.${t}`),this}match(e){return Object.entries(e).forEach(([e,t])=>{this.url.searchParams.append(e,`eq.${t}`)}),this}not(e,t,s){return this.url.searchParams.append(e,`not.${t}.${s}`),this}or(e,{foreignTable:t,referencedTable:s=t}={}){const r=s?`${s}.or`:"or";return this.url.searchParams.append(r,`(${e})`),this}filter(e,t,s){return this.url.searchParams.append(e,`${t}.${s}`),this}}return wl.default=s,wl}function Tl(){if(xl)return bl;xl=1,Object.defineProperty(bl,"__esModule",{value:!0});const e=hl.__importDefault(El());return bl.default=class{constructor(e,{headers:t={},schema:s,fetch:r}){this.url=e,this.headers=new Headers(t),this.schema=s,this.fetch=r}select(t,s){const{head:r=!1,count:n}=null!=s?s:{},a=r?"HEAD":"GET";let i=!1;const o=(null!=t?t:"*").split("").map(e=>/\s/.test(e)&&!i?"":('"'===e&&(i=!i),e)).join("");return this.url.searchParams.set("select",o),n&&this.headers.append("Prefer",`count=${n}`),new e.default({method:a,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(t,{count:s,defaultToNull:r=!0}={}){var n;if(s&&this.headers.append("Prefer",`count=${s}`),r||this.headers.append("Prefer","missing=default"),Array.isArray(t)){const e=t.reduce((e,t)=>e.concat(Object.keys(t)),[]);if(e.length>0){const t=[...new Set(e)].map(e=>`"${e}"`);this.url.searchParams.set("columns",t.join(","))}}return new e.default({method:"POST",url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:null!==(n=this.fetch)&&void 0!==n?n:fetch})}upsert(t,{onConflict:s,ignoreDuplicates:r=!1,count:n,defaultToNull:a=!0}={}){var i;if(this.headers.append("Prefer",`resolution=${r?"ignore":"merge"}-duplicates`),void 0!==s&&this.url.searchParams.set("on_conflict",s),n&&this.headers.append("Prefer",`count=${n}`),a||this.headers.append("Prefer","missing=default"),Array.isArray(t)){const e=t.reduce((e,t)=>e.concat(Object.keys(t)),[]);if(e.length>0){const t=[...new Set(e)].map(e=>`"${e}"`);this.url.searchParams.set("columns",t.join(","))}}return new e.default({method:"POST",url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:null!==(i=this.fetch)&&void 0!==i?i:fetch})}update(t,{count:s}={}){var r;return s&&this.headers.append("Prefer",`count=${s}`),new e.default({method:"PATCH",url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:null!==(r=this.fetch)&&void 0!==r?r:fetch})}delete({count:t}={}){var s;return t&&this.headers.append("Prefer",`count=${t}`),new e.default({method:"DELETE",url:this.url,headers:this.headers,schema:this.schema,fetch:null!==(s=this.fetch)&&void 0!==s?s:fetch})}},bl}Object.defineProperty(ul,"__esModule",{value:!0});var Rl=ul.PostgrestError=ul.PostgrestBuilder=ul.PostgrestTransformBuilder=ul.PostgrestFilterBuilder=ul.PostgrestQueryBuilder=ul.PostgrestClient=void 0;const Ol=hl,Al=Ol.__importDefault(function(){if(vl)return yl;vl=1,Object.defineProperty(yl,"__esModule",{value:!0});const e=hl,t=e.__importDefault(Tl()),s=e.__importDefault(El());class r{constructor(e,{headers:t={},schema:s,fetch:r}={}){this.url=e,this.headers=new Headers(t),this.schemaName=s,this.fetch=r}from(e){const s=new URL(`${this.url}/${e}`);return new t.default(s,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(e){return new r(this.url,{headers:this.headers,schema:e,fetch:this.fetch})}rpc(e,t={},{head:r=!1,get:n=!1,count:a}={}){var i;let o;const l=new URL(`${this.url}/rpc/${e}`);let c;r||n?(o=r?"HEAD":"GET",Object.entries(t).filter(([e,t])=>void 0!==t).map(([e,t])=>[e,Array.isArray(t)?`{${t.join(",")}}`:`${t}`]).forEach(([e,t])=>{l.searchParams.append(e,t)})):(o="POST",c=t);const d=new Headers(this.headers);return a&&d.set("Prefer",`count=${a}`),new s.default({method:o,url:l,headers:d,schema:this.schemaName,body:c,fetch:null!==(i=this.fetch)&&void 0!==i?i:fetch})}}return yl.default=r,yl}());var Pl=ul.PostgrestClient=Al.default;const Il=Ol.__importDefault(Tl());var Ml=ul.PostgrestQueryBuilder=Il.default;const Dl=Ol.__importDefault(El());var $l=ul.PostgrestFilterBuilder=Dl.default;const Ll=Ol.__importDefault(Cl());var Ul=ul.PostgrestTransformBuilder=Ll.default;const Fl=Ol.__importDefault(Sl());var Bl=ul.PostgrestBuilder=Fl.default;const zl=Ol.__importDefault(kl());Rl=ul.PostgrestError=zl.default;var ql=ul.default={PostgrestClient:Al.default,PostgrestQueryBuilder:Il.default,PostgrestFilterBuilder:Dl.default,PostgrestTransformBuilder:Ll.default,PostgrestBuilder:Fl.default,PostgrestError:zl.default};const Wl=Xt({__proto__:null,get PostgrestBuilder(){return Bl},get PostgrestClient(){return Pl},get PostgrestError(){return Rl},get PostgrestFilterBuilder(){return $l},get PostgrestQueryBuilder(){return Ml},get PostgrestTransformBuilder(){return Ul},default:ql},[ul]),{PostgrestClient:Hl,PostgrestQueryBuilder:Kl,PostgrestFilterBuilder:Vl,PostgrestTransformBuilder:Gl,PostgrestBuilder:Zl,PostgrestError:Jl}=ql||Wl;class Yl{static detectEnvironment(){var e;if("undefined"!=typeof WebSocket)return{type:"native",constructor:WebSocket};if("undefined"!=typeof globalThis&&void 0!==globalThis.WebSocket)return{type:"native",constructor:globalThis.WebSocket};if("undefined"!=typeof global&&void 0!==global.WebSocket)return{type:"native",constructor:global.WebSocket};if("undefined"!=typeof globalThis&&void 0!==globalThis.WebSocketPair&&void 0===globalThis.WebSocket)return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if("undefined"!=typeof globalThis&&globalThis.EdgeRuntime||"undefined"!=typeof navigator&&(null===(e=navigator.userAgent)||void 0===e?void 0:e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if("undefined"!=typeof process){const e=process.versions;if(e&&e.node){const t=e.node,s=parseInt(t.replace(/^v/,"").split(".")[0]);return s>=22?void 0!==globalThis.WebSocket?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${s} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${s} detected without native WebSocket support.`,workaround:'For Node.js < 22, install "ws" package and provide it via the transport option:\nimport ws from "ws"\nnew RealtimeClient(url, { transport: ws })'}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let t=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(t+=`\n\nSuggested solution: ${e.workaround}`),new Error(t)}static createWebSocket(e,t){return new(this.getWebSocketConstructor())(e,t)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return"native"===e.type||"ws"===e.type}catch(e){return!1}}}const Ql="1.0.0",Xl=Ql,ec=1e4;var tc,sc,rc,nc,ac,ic,oc,lc,cc,dc,uc;(sc=tc||(tc={}))[sc.connecting=0]="connecting",sc[sc.open=1]="open",sc[sc.closing=2]="closing",sc[sc.closed=3]="closed",(nc=rc||(rc={})).closed="closed",nc.errored="errored",nc.joined="joined",nc.joining="joining",nc.leaving="leaving",(ic=ac||(ac={})).close="phx_close",ic.error="phx_error",ic.join="phx_join",ic.reply="phx_reply",ic.leave="phx_leave",ic.access_token="access_token",(oc||(oc={})).websocket="websocket",(cc=lc||(lc={})).Connecting="connecting",cc.Open="open",cc.Closing="closing",cc.Closed="closed";class hc{constructor(){this.HEADER_LENGTH=1,this.META_LENGTH=4,this.USER_BROADCAST_PUSH_META_LENGTH=5,this.KINDS={push:0,reply:1,broadcast:2,userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST="broadcast"}encode(e,t){if(this._isArrayBuffer(e.payload))return t(this._binaryEncodePush(e));if(e.event===this.BROADCAST&&!(e.payload instanceof ArrayBuffer)&&"string"==typeof e.payload.event)return t(this._binaryEncodeUserBroadcastPush(e));let s=[e.join_ref,e.ref,e.topic,e.event,e.payload];return t(JSON.stringify(s))}_binaryEncodePush(e){const{join_ref:t,ref:s,event:r,topic:n,payload:a}=e,i=this.META_LENGTH+t.length+s.length+n.length+r.length,o=new ArrayBuffer(this.HEADER_LENGTH+i);let l=new DataView(o),c=0;l.setUint8(c++,this.KINDS.push),l.setUint8(c++,t.length),l.setUint8(c++,s.length),l.setUint8(c++,n.length),l.setUint8(c++,r.length),Array.from(t,e=>l.setUint8(c++,e.charCodeAt(0))),Array.from(s,e=>l.setUint8(c++,e.charCodeAt(0))),Array.from(n,e=>l.setUint8(c++,e.charCodeAt(0))),Array.from(r,e=>l.setUint8(c++,e.charCodeAt(0)));var d=new Uint8Array(o.byteLength+a.byteLength);return d.set(new Uint8Array(o),0),d.set(new Uint8Array(a),o.byteLength),d.buffer}_binaryEncodeUserBroadcastPush(e){var t;return this._isArrayBuffer(null===(t=e.payload)||void 0===t?void 0:t.payload)?this._encodeBinaryUserBroadcastPush(e):this._encodeJsonUserBroadcastPush(e)}_encodeBinaryUserBroadcastPush(e){var t,s;const{join_ref:r,ref:n,topic:a}=e,i=e.payload.event,o=null!==(s=null===(t=e.payload)||void 0===t?void 0:t.payload)&&void 0!==s?s:new ArrayBuffer(0),l=this.USER_BROADCAST_PUSH_META_LENGTH+r.length+n.length+a.length+i.length,c=new ArrayBuffer(this.HEADER_LENGTH+l);let d=new DataView(c),u=0;d.setUint8(u++,this.KINDS.userBroadcastPush),d.setUint8(u++,r.length),d.setUint8(u++,n.length),d.setUint8(u++,a.length),d.setUint8(u++,i.length),d.setUint8(u++,this.BINARY_ENCODING),Array.from(r,e=>d.setUint8(u++,e.charCodeAt(0))),Array.from(n,e=>d.setUint8(u++,e.charCodeAt(0))),Array.from(a,e=>d.setUint8(u++,e.charCodeAt(0))),Array.from(i,e=>d.setUint8(u++,e.charCodeAt(0)));var h=new Uint8Array(c.byteLength+o.byteLength);return h.set(new Uint8Array(c),0),h.set(new Uint8Array(o),c.byteLength),h.buffer}_encodeJsonUserBroadcastPush(e){var t,s;const{join_ref:r,ref:n,topic:a}=e,i=e.payload.event,o=null!==(s=null===(t=e.payload)||void 0===t?void 0:t.payload)&&void 0!==s?s:{},l=(new TextEncoder).encode(JSON.stringify(o)).buffer,c=this.USER_BROADCAST_PUSH_META_LENGTH+r.length+n.length+a.length+i.length,d=new ArrayBuffer(this.HEADER_LENGTH+c);let u=new DataView(d),h=0;u.setUint8(h++,this.KINDS.userBroadcastPush),u.setUint8(h++,r.length),u.setUint8(h++,n.length),u.setUint8(h++,a.length),u.setUint8(h++,i.length),u.setUint8(h++,this.JSON_ENCODING),Array.from(r,e=>u.setUint8(h++,e.charCodeAt(0))),Array.from(n,e=>u.setUint8(h++,e.charCodeAt(0))),Array.from(a,e=>u.setUint8(h++,e.charCodeAt(0))),Array.from(i,e=>u.setUint8(h++,e.charCodeAt(0)));var m=new Uint8Array(d.byteLength+l.byteLength);return m.set(new Uint8Array(d),0),m.set(new Uint8Array(l),d.byteLength),m.buffer}decode(e,t){if(this._isArrayBuffer(e)){return t(this._binaryDecode(e))}if("string"==typeof e){const s=JSON.parse(e),[r,n,a,i,o]=s;return t({join_ref:r,ref:n,topic:a,event:i,payload:o})}return t({})}_binaryDecode(e){const t=new DataView(e),s=t.getUint8(0),r=new TextDecoder;switch(s){case this.KINDS.push:return this._decodePush(e,t,r);case this.KINDS.reply:return this._decodeReply(e,t,r);case this.KINDS.broadcast:return this._decodeBroadcast(e,t,r);case this.KINDS.userBroadcast:return this._decodeUserBroadcast(e,t,r)}}_decodePush(e,t,s){const r=t.getUint8(1),n=t.getUint8(2),a=t.getUint8(3);let i=this.HEADER_LENGTH+this.META_LENGTH-1;const o=s.decode(e.slice(i,i+r));i+=r;const l=s.decode(e.slice(i,i+n));i+=n;const c=s.decode(e.slice(i,i+a));i+=a;return{join_ref:o,ref:null,topic:l,event:c,payload:JSON.parse(s.decode(e.slice(i,e.byteLength)))}}_decodeReply(e,t,s){const r=t.getUint8(1),n=t.getUint8(2),a=t.getUint8(3),i=t.getUint8(4);let o=this.HEADER_LENGTH+this.META_LENGTH;const l=s.decode(e.slice(o,o+r));o+=r;const c=s.decode(e.slice(o,o+n));o+=n;const d=s.decode(e.slice(o,o+a));o+=a;const u=s.decode(e.slice(o,o+i));o+=i;const h={status:u,response:JSON.parse(s.decode(e.slice(o,e.byteLength)))};return{join_ref:l,ref:c,topic:d,event:ac.reply,payload:h}}_decodeBroadcast(e,t,s){const r=t.getUint8(1),n=t.getUint8(2);let a=this.HEADER_LENGTH+2;const i=s.decode(e.slice(a,a+r));a+=r;const o=s.decode(e.slice(a,a+n));a+=n;return{join_ref:null,ref:null,topic:i,event:o,payload:JSON.parse(s.decode(e.slice(a,e.byteLength)))}}_decodeUserBroadcast(e,t,s){const r=t.getUint8(1),n=t.getUint8(2),a=t.getUint8(3),i=t.getUint8(4);let o=this.HEADER_LENGTH+4;const l=s.decode(e.slice(o,o+r));o+=r;const c=s.decode(e.slice(o,o+n));o+=n;const d=s.decode(e.slice(o,o+a));o+=a;const u=e.slice(o,e.byteLength),h=i===this.JSON_ENCODING?JSON.parse(s.decode(u)):u,m={type:this.BROADCAST,event:c,payload:h};return a>0&&(m.meta=JSON.parse(d)),{join_ref:null,ref:null,topic:l,event:this.BROADCAST,payload:m}}_isArrayBuffer(e){var t;return e instanceof ArrayBuffer||"ArrayBuffer"===(null===(t=null==e?void 0:e.constructor)||void 0===t?void 0:t.name)}}class mc{constructor(e,t){this.callback=e,this.timerCalc=t,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=t}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}(uc=dc||(dc={})).abstime="abstime",uc.bool="bool",uc.date="date",uc.daterange="daterange",uc.float4="float4",uc.float8="float8",uc.int2="int2",uc.int4="int4",uc.int4range="int4range",uc.int8="int8",uc.int8range="int8range",uc.json="json",uc.jsonb="jsonb",uc.money="money",uc.numeric="numeric",uc.oid="oid",uc.reltime="reltime",uc.text="text",uc.time="time",uc.timestamp="timestamp",uc.timestamptz="timestamptz",uc.timetz="timetz",uc.tsrange="tsrange",uc.tstzrange="tstzrange";const pc=(e,t,s={})=>{var r;const n=null!==(r=s.skipTypes)&&void 0!==r?r:[];return t?Object.keys(t).reduce((s,r)=>(s[r]=fc(r,e,t,n),s),{}):{}},fc=(e,t,s,r)=>{const n=t.find(t=>t.name===e),a=null==n?void 0:n.type,i=s[e];return a&&!r.includes(a)?gc(a,i):xc(i)},gc=(e,t)=>{if("_"===e.charAt(0)){const s=e.slice(1,e.length);return wc(t,s)}switch(e){case dc.bool:return vc(t);case dc.float4:case dc.float8:case dc.int2:case dc.int4:case dc.int8:case dc.numeric:case dc.oid:return yc(t);case dc.json:case dc.jsonb:return bc(t);case dc.timestamp:return jc(t);case dc.abstime:case dc.date:case dc.daterange:case dc.int4range:case dc.int8range:case dc.money:case dc.reltime:case dc.text:case dc.time:case dc.timestamptz:case dc.timetz:case dc.tsrange:case dc.tstzrange:default:return xc(t)}},xc=e=>e,vc=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},yc=e=>{if("string"==typeof e){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},bc=e=>{if("string"==typeof e)try{return JSON.parse(e)}catch(t){return e}return e},wc=(e,t)=>{if("string"!=typeof e)return e;const s=e.length-1,r=e[s];if("{"===e[0]&&"}"===r){let r;const a=e.slice(1,s);try{r=JSON.parse("["+a+"]")}catch(n){r=a?a.split(","):[]}return r.map(e=>gc(t,e))}return e},jc=e=>"string"==typeof e?e.replace(" ","T"):e,_c=e=>{const t=new URL(e);return t.protocol=t.protocol.replace(/^ws/i,"http"),t.pathname=t.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),""===t.pathname||"/"===t.pathname?t.pathname="/api/broadcast":t.pathname=t.pathname+"/api/broadcast",t.href};class Nc{constructor(e,t,s={},r=1e4){this.channel=e,this.event=t,this.payload=s,this.timeout=r,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,t){var s;return this._hasReceived(e)&&t(null===(s=this.receivedResp)||void 0===s?void 0:s.response),this.recHooks.push({status:e,callback:t}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);this.channel._on(this.refEvent,{},e=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=e,this._matchReceive(e)}),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,t){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:t})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:t}){this.recHooks.filter(t=>t.status===e).forEach(e=>e.callback(t))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var kc,Sc,Cc,Ec,Tc,Rc,Oc,Ac;(Sc=kc||(kc={})).SYNC="sync",Sc.JOIN="join",Sc.LEAVE="leave";class Pc{constructor(e,t){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const s=(null==t?void 0:t.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(s.state,{},e=>{const{onJoin:t,onLeave:s,onSync:r}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Pc.syncState(this.state,e,t,s),this.pendingDiffs.forEach(e=>{this.state=Pc.syncDiff(this.state,e,t,s)}),this.pendingDiffs=[],r()}),this.channel._on(s.diff,{},e=>{const{onJoin:t,onLeave:s,onSync:r}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(e):(this.state=Pc.syncDiff(this.state,e,t,s),r())}),this.onJoin((e,t,s)=>{this.channel._trigger("presence",{event:"join",key:e,currentPresences:t,newPresences:s})}),this.onLeave((e,t,s)=>{this.channel._trigger("presence",{event:"leave",key:e,currentPresences:t,leftPresences:s})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,t,s,r){const n=this.cloneDeep(e),a=this.transformState(t),i={},o={};return this.map(n,(e,t)=>{a[e]||(o[e]=t)}),this.map(a,(e,t)=>{const s=n[e];if(s){const r=t.map(e=>e.presence_ref),n=s.map(e=>e.presence_ref),a=t.filter(e=>n.indexOf(e.presence_ref)<0),l=s.filter(e=>r.indexOf(e.presence_ref)<0);a.length>0&&(i[e]=a),l.length>0&&(o[e]=l)}else i[e]=t}),this.syncDiff(n,{joins:i,leaves:o},s,r)}static syncDiff(e,t,s,r){const{joins:n,leaves:a}={joins:this.transformState(t.joins),leaves:this.transformState(t.leaves)};return s||(s=()=>{}),r||(r=()=>{}),this.map(n,(t,r)=>{var n;const a=null!==(n=e[t])&&void 0!==n?n:[];if(e[t]=this.cloneDeep(r),a.length>0){const s=e[t].map(e=>e.presence_ref),r=a.filter(e=>s.indexOf(e.presence_ref)<0);e[t].unshift(...r)}s(t,a,r)}),this.map(a,(t,s)=>{let n=e[t];if(!n)return;const a=s.map(e=>e.presence_ref);n=n.filter(e=>a.indexOf(e.presence_ref)<0),e[t]=n,r(t,n,s),0===n.length&&delete e[t]}),e}static map(e,t){return Object.getOwnPropertyNames(e).map(s=>t(s,e[s]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((t,s)=>{const r=e[s];return t[s]="metas"in r?r.metas.map(e=>(e.presence_ref=e.phx_ref,delete e.phx_ref,delete e.phx_ref_prev,e)):r,t},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}(Ec=Cc||(Cc={})).ALL="*",Ec.INSERT="INSERT",Ec.UPDATE="UPDATE",Ec.DELETE="DELETE",(Rc=Tc||(Tc={})).BROADCAST="broadcast",Rc.PRESENCE="presence",Rc.POSTGRES_CHANGES="postgres_changes",Rc.SYSTEM="system",(Ac=Oc||(Oc={})).SUBSCRIBED="SUBSCRIBED",Ac.TIMED_OUT="TIMED_OUT",Ac.CLOSED="CLOSED",Ac.CHANNEL_ERROR="CHANNEL_ERROR";class Ic{constructor(e,t={config:{}},s){var r,n;if(this.topic=e,this.params=t,this.socket=s,this.bindings={},this.state=rc.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},t.config),this.timeout=this.socket.timeout,this.joinPush=new Nc(this,ac.join,this.params,this.timeout),this.rejoinTimer=new mc(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=rc.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(e=>e.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=rc.closed,this.socket._remove(this)}),this._onError(e=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,e),this.state=rc.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=rc.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",e=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,e),this.state=rc.errored,this.rejoinTimer.scheduleTimeout())}),this._on(ac.reply,{},(e,t)=>{this._trigger(this._replyEventName(t),e)}),this.presence=new Pc(this),this.broadcastEndpointURL=_c(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(null===(n=null===(r=this.params.config)||void 0===r?void 0:r.broadcast)||void 0===n?void 0:n.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(e,t=this.timeout){var s,r,n;if(this.socket.isConnected()||this.socket.connect(),this.state==rc.closed){const{config:{broadcast:a,presence:i,private:o}}=this.params,l=null!==(r=null===(s=this.bindings.postgres_changes)||void 0===s?void 0:s.map(e=>e.filter))&&void 0!==r?r:[],c=!!this.bindings[Tc.PRESENCE]&&this.bindings[Tc.PRESENCE].length>0||!0===(null===(n=this.params.config.presence)||void 0===n?void 0:n.enabled),d={},u={broadcast:a,presence:Object.assign(Object.assign({},i),{enabled:c}),postgres_changes:l,private:o};this.socket.accessTokenValue&&(d.access_token=this.socket.accessTokenValue),this._onError(t=>null==e?void 0:e(Oc.CHANNEL_ERROR,t)),this._onClose(()=>null==e?void 0:e(Oc.CLOSED)),this.updateJoinPayload(Object.assign({config:u},d)),this.joinedOnce=!0,this._rejoin(t),this.joinPush.receive("ok",async({postgres_changes:t})=>{var s;if(this.socket.setAuth(),void 0!==t){const r=this.bindings.postgres_changes,n=null!==(s=null==r?void 0:r.length)&&void 0!==s?s:0,a=[];for(let s=0;s<n;s++){const n=r[s],{filter:{event:i,schema:o,table:l,filter:c}}=n,d=t&&t[s];if(!d||d.event!==i||d.schema!==o||d.table!==l||d.filter!==c)return this.unsubscribe(),this.state=rc.errored,void(null==e||e(Oc.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes")));a.push(Object.assign(Object.assign({},n),{id:d.id}))}return this.bindings.postgres_changes=a,void(e&&e(Oc.SUBSCRIBED))}null==e||e(Oc.SUBSCRIBED)}).receive("error",t=>{this.state=rc.errored,null==e||e(Oc.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(t).join(", ")||"error")))}).receive("timeout",()=>{null==e||e(Oc.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,t={}){return await this.send({type:"presence",event:"track",payload:e},t.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,t,s){return this.state===rc.joined&&e===Tc.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(e,t,s)}async httpSend(e,t,s={}){var r;const n=this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"";if(null==t)return Promise.reject("Payload is required for httpSend()");const a={method:"POST",headers:{Authorization:n,apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:e,payload:t,private:this.private}]})},i=await this._fetchWithTimeout(this.broadcastEndpointURL,a,null!==(r=s.timeout)&&void 0!==r?r:this.timeout);if(202===i.status)return{success:!0};let o=i.statusText;try{const e=await i.json();o=e.error||e.message||o}catch(l){}return Promise.reject(new Error(o))}async send(e,t={}){var s,r;if(this._canPush()||"broadcast"!==e.type)return new Promise(s=>{var r,n,a;const i=this._push(e.type,e,t.timeout||this.timeout);"broadcast"!==e.type||(null===(a=null===(n=null===(r=this.params)||void 0===r?void 0:r.config)||void 0===n?void 0:n.broadcast)||void 0===a?void 0:a.ack)||s("ok"),i.receive("ok",()=>s("ok")),i.receive("error",()=>s("error")),i.receive("timeout",()=>s("timed out"))});{const{event:a,payload:i}=e,o={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:a,payload:i,private:this.private}]})};try{const e=await this._fetchWithTimeout(this.broadcastEndpointURL,o,null!==(s=t.timeout)&&void 0!==s?s:this.timeout);return await(null===(r=e.body)||void 0===r?void 0:r.cancel()),e.ok?"ok":"error"}catch(n){return"AbortError"===n.name?"timed out":"error"}}}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=rc.leaving;const t=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(ac.close,"leave",this._joinRef())};this.joinPush.destroy();let s=null;return new Promise(r=>{s=new Nc(this,ac.leave,{},e),s.receive("ok",()=>{t(),r("ok")}).receive("timeout",()=>{t(),r("timed out")}).receive("error",()=>{r("error")}),s.send(),this._canPush()||s.trigger("ok",{})}).finally(()=>{null==s||s.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=rc.closed,this.bindings={}}async _fetchWithTimeout(e,t,s){const r=new AbortController,n=setTimeout(()=>r.abort(),s),a=await this.socket.fetch(e,Object.assign(Object.assign({},t),{signal:r.signal}));return clearTimeout(n),a}_push(e,t,s=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let r=new Nc(this,e,t,s);return this._canPush()?r.send():this._addToPushBuffer(r),r}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>100){const e=this.pushBuffer.shift();e&&(e.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${e.event}`,e.payload))}}_onMessage(e,t,s){return t}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,t,s){var r,n;const a=e.toLocaleLowerCase(),{close:i,error:o,leave:l,join:c}=ac;if(s&&[i,o,l,c].indexOf(a)>=0&&s!==this._joinRef())return;let d=this._onMessage(a,t,s);if(t&&!d)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(a)?null===(r=this.bindings.postgres_changes)||void 0===r||r.filter(e=>{var t,s,r;return"*"===(null===(t=e.filter)||void 0===t?void 0:t.event)||(null===(r=null===(s=e.filter)||void 0===s?void 0:s.event)||void 0===r?void 0:r.toLocaleLowerCase())===a}).map(e=>e.callback(d,s)):null===(n=this.bindings[a])||void 0===n||n.filter(e=>{var s,r,n,i,o,l;if(["broadcast","presence","postgres_changes"].includes(a)){if("id"in e){const a=e.id,i=null===(s=e.filter)||void 0===s?void 0:s.event;return a&&(null===(r=t.ids)||void 0===r?void 0:r.includes(a))&&("*"===i||(null==i?void 0:i.toLocaleLowerCase())===(null===(n=t.data)||void 0===n?void 0:n.type.toLocaleLowerCase()))}{const s=null===(o=null===(i=null==e?void 0:e.filter)||void 0===i?void 0:i.event)||void 0===o?void 0:o.toLocaleLowerCase();return"*"===s||s===(null===(l=null==t?void 0:t.event)||void 0===l?void 0:l.toLocaleLowerCase())}}return e.type.toLocaleLowerCase()===a}).map(e=>{if("object"==typeof d&&"ids"in d){const e=d.data,{schema:t,table:s,commit_timestamp:r,type:n,errors:a}=e,i={schema:t,table:s,commit_timestamp:r,eventType:n,new:{},old:{},errors:a};d=Object.assign(Object.assign({},i),this._getPayloadRecords(e))}e.callback(d,s)})}_isClosed(){return this.state===rc.closed}_isJoined(){return this.state===rc.joined}_isJoining(){return this.state===rc.joining}_isLeaving(){return this.state===rc.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,t,s){const r=e.toLocaleLowerCase(),n={type:r,filter:t,callback:s};return this.bindings[r]?this.bindings[r].push(n):this.bindings[r]=[n],this}_off(e,t){const s=e.toLocaleLowerCase();return this.bindings[s]&&(this.bindings[s]=this.bindings[s].filter(e=>{var r;return!((null===(r=e.type)||void 0===r?void 0:r.toLocaleLowerCase())===s&&Ic.isEqual(e.filter,t))})),this}static isEqual(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const s in e)if(e[s]!==t[s])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(ac.close,{},e)}_onError(e){this._on(ac.error,{},t=>e(t))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=rc.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const t={new:{},old:{}};return"INSERT"!==e.type&&"UPDATE"!==e.type||(t.new=pc(e.columns,e.record)),"UPDATE"!==e.type&&"DELETE"!==e.type||(t.old=pc(e.columns,e.old_record)),t}}const Mc=()=>{},Dc=25e3,$c=10,Lc=100,Uc=[1e3,2e3,5e3,1e4];class Fc{constructor(e,t){var s;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=ec,this.transport=null,this.heartbeatIntervalMs=Dc,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Mc,this.ref=0,this.reconnectTimer=null,this.vsn=Xl,this.logger=Mc,this.conn=null,this.sendBuffer=[],this.serializer=new hc,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=e=>e?(...t)=>e(...t):(...e)=>fetch(...e),!(null===(s=null==t?void 0:t.params)||void 0===s?void 0:s.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=t.params.apikey,this.endPoint=`${e}/${oc.websocket}`,this.httpEndpoint=_c(e),this._initializeOptions(t),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(null==t?void 0:t.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||null!==this.conn&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=Yl.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");const t=e.message;if(t.includes("Node.js"))throw new Error(`${t}\n\nTo use Realtime in Node.js, you need to provide a WebSocket implementation:\n\nOption 1: Use Node.js 22+ which has native WebSocket support\nOption 2: Install and provide the "ws" package:\n\n  npm install ws\n\n  import ws from "ws"\n  const client = new RealtimeClient(url, {\n    ...options,\n    transport: ws\n  })`);throw new Error(`WebSocket not available: ${t}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(e,t){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const s=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(s),this._setConnectionState("disconnected")},"function"==typeof this.conn.close&&(e?this.conn.close(e,null!=t?t:""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const t=await e.unsubscribe();return 0===this.channels.length&&this.disconnect(),t}async removeAllChannels(){const e=await Promise.all(this.channels.map(e=>e.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,t,s){this.logger(e,t,s)}connectionState(){switch(this.conn&&this.conn.readyState){case tc.connecting:return lc.Connecting;case tc.open:return lc.Open;case tc.closing:return lc.Closing;default:return lc.Closed}}isConnected(){return this.connectionState()===lc.Open}isConnecting(){return"connecting"===this._connectionState}isDisconnecting(){return"disconnecting"===this._connectionState}channel(e,t={config:{}}){const s=`realtime:${e}`,r=this.getChannels().find(e=>e.topic===s);if(r)return r;{const s=new Ic(`realtime:${e}`,t,this);return this.channels.push(s),s}}push(e){const{topic:t,event:s,payload:r,ref:n}=e,a=()=>{this.encode(e,e=>{var t;null===(t=this.conn)||void 0===t||t.send(e)})};this.log("push",`${t} ${s} (${n})`,r),this.isConnected()?a():this.sendBuffer.push(a)}async setAuth(e=null){this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var e;if(this.isConnected()){if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(t){this.log("error","error in heartbeat callback",t)}return this._wasManualDisconnect=!1,null===(e=this.conn)||void 0===e||e.close(1e3,"heartbeat timeout"),void setTimeout(()=>{var e;this.isConnected()||null===(e=this.reconnectTimer)||void 0===e||e.scheduleTimeout()},Lc)}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(t){this.log("error","error in heartbeat callback",t)}this._setAuthSafely("heartbeat")}else try{this.heartbeatCallback("disconnected")}catch(t){this.log("error","error in heartbeat callback",t)}}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let t=this.channels.find(t=>t.topic===e&&(t._isJoined()||t._isJoining()));t&&(this.log("transport",`leaving duplicate topic "${e}"`),t.unsubscribe())}_remove(e){this.channels=this.channels.filter(t=>t.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,e=>{if("phoenix"===e.topic&&"phx_reply"===e.event)try{this.heartbeatCallback("ok"===e.payload.status?"ok":"error")}catch(o){this.log("error","error in heartbeat callback",o)}e.ref&&e.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:t,event:s,payload:r,ref:n}=e,a=n?`(${n})`:"",i=r.status||"";this.log("receive",`${i} ${t} ${s} ${a}`.trim(),r),this.channels.filter(e=>e._isMember(t)).forEach(e=>e._trigger(s,r,n)),this._triggerStateCallbacks("message",e)})}_clearTimer(e){var t;"heartbeat"===e&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):"reconnect"===e&&(null===(t=this.reconnectTimer)||void 0===t||t.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_teardownConnection(){if(this.conn){if(this.conn.readyState===tc.open||this.conn.readyState===tc.connecting)try{this.conn.close()}catch(e){this.log("error","Error closing connection",e)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`);(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(e=>{this.log("error","error waiting for auth on connect",e),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=e=>{this.log("worker","worker error",e.message),this.workerRef.terminate()},this.workerRef.onmessage=e=>{"keepAlive"===e.data.event&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(e){var t;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||null===(t=this.reconnectTimer)||void 0===t||t.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e)}_triggerChanError(){this.channels.forEach(e=>e._trigger(ac.error))}_appendParams(e,t){if(0===Object.keys(t).length)return e;const s=e.match(/\?/)?"&":"?";return`${e}${s}${new URLSearchParams(t)}`}_workerObjectUrl(e){let t;if(e)t=e;else{const e=new Blob(['\n  addEventListener("message", (e) => {\n    if (e.data.event === "start") {\n      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);\n    }\n  });'],{type:"application/javascript"});t=URL.createObjectURL(e)}return t}_setConnectionState(e,t=!1){this._connectionState=e,"connecting"===e?this._wasManualDisconnect=!1:"disconnecting"===e&&(this._wasManualDisconnect=t)}async _performAuth(e=null){let t;t=e||(this.accessToken?await this.accessToken():this.accessTokenValue),this.accessTokenValue!=t&&(this.accessTokenValue=t,this.channels.forEach(e=>{const s={access_token:t,version:"realtime-js/2.81.1"};t&&e.updateJoinPayload(s),e.joinedOnce&&e._isJoined()&&e._push(ac.access_token,{access_token:t})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(e="general"){this.setAuth().catch(t=>{this.log("error",`error setting auth in ${e}`,t)})}_triggerStateCallbacks(e,t){try{this.stateChangeCallbacks[e].forEach(s=>{try{s(t)}catch(r){this.log("error",`error in ${e} callback`,r)}})}catch(s){this.log("error",`error triggering ${e} callbacks`,s)}}_setupReconnectionTimer(){this.reconnectTimer=new mc(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},$c)},this.reconnectAfterMs)}_initializeOptions(e){var t,s,r,n,a,i,o,l,c,d,u,h;switch(this.transport=null!==(t=null==e?void 0:e.transport)&&void 0!==t?t:null,this.timeout=null!==(s=null==e?void 0:e.timeout)&&void 0!==s?s:ec,this.heartbeatIntervalMs=null!==(r=null==e?void 0:e.heartbeatIntervalMs)&&void 0!==r?r:Dc,this.worker=null!==(n=null==e?void 0:e.worker)&&void 0!==n&&n,this.accessToken=null!==(a=null==e?void 0:e.accessToken)&&void 0!==a?a:null,this.heartbeatCallback=null!==(i=null==e?void 0:e.heartbeatCallback)&&void 0!==i?i:Mc,this.vsn=null!==(o=null==e?void 0:e.vsn)&&void 0!==o?o:Xl,(null==e?void 0:e.params)&&(this.params=e.params),(null==e?void 0:e.logger)&&(this.logger=e.logger),((null==e?void 0:e.logLevel)||(null==e?void 0:e.log_level))&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=null!==(l=null==e?void 0:e.reconnectAfterMs)&&void 0!==l?l:e=>Uc[e-1]||1e4,this.vsn){case Ql:this.encode=null!==(c=null==e?void 0:e.encode)&&void 0!==c?c:(e,t)=>t(JSON.stringify(e)),this.decode=null!==(d=null==e?void 0:e.decode)&&void 0!==d?d:(e,t)=>t(JSON.parse(e));break;case"2.0.0":this.encode=null!==(u=null==e?void 0:e.encode)&&void 0!==u?u:this.serializer.encode.bind(this.serializer),this.decode=null!==(h=null==e?void 0:e.decode)&&void 0!==h?h:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if("undefined"!=typeof window&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=null==e?void 0:e.workerUrl}}}class Bc extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function zc(e){return"object"==typeof e&&null!==e&&"__isStorageError"in e}class qc extends Bc{constructor(e,t,s){super(e),this.name="StorageApiError",this.status=t,this.statusCode=s}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class Wc extends Bc{constructor(e,t){super(e),this.name="StorageUnknownError",this.originalError=t}}const Hc=e=>e?(...t)=>e(...t):(...e)=>fetch(...e),Kc=e=>{if(Array.isArray(e))return e.map(e=>Kc(e));if("function"==typeof e||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([e,s])=>{const r=e.replace(/([-_][a-z])/gi,e=>e.toUpperCase().replace(/[-_]/g,""));t[r]=Kc(s)}),t},Vc=e=>{var t;return e.msg||e.message||e.error_description||("string"==typeof e.error?e.error:null===(t=e.error)||void 0===t?void 0:t.message)||JSON.stringify(e)},Gc=(e,t,s)=>Ge(void 0,void 0,void 0,function*(){const r=yield Response;e instanceof r&&!(null==s?void 0:s.noResolveJson)?e.json().then(s=>{const r=e.status||500,n=(null==s?void 0:s.statusCode)||r+"";t(new qc(Vc(s),r,n))}).catch(e=>{t(new Wc(Vc(e),e))}):t(new Wc(Vc(e),e))}),Zc=(e,t,s,r)=>{const n={method:e,headers:(null==t?void 0:t.headers)||{}};return"GET"!==e&&r?((e=>{if("object"!=typeof e||null===e)return!1;const t=Object.getPrototypeOf(e);return!(null!==t&&t!==Object.prototype&&null!==Object.getPrototypeOf(t)||Symbol.toStringTag in e||Symbol.iterator in e)})(r)?(n.headers=Object.assign({"Content-Type":"application/json"},null==t?void 0:t.headers),n.body=JSON.stringify(r)):n.body=r,(null==t?void 0:t.duplex)&&(n.duplex=t.duplex),Object.assign(Object.assign({},n),s)):n};function Jc(e,t,s,r,n,a){return Ge(this,void 0,void 0,function*(){return new Promise((i,o)=>{e(s,Zc(t,r,n,a)).then(e=>{if(!e.ok)throw e;return(null==r?void 0:r.noResolveJson)?e:e.json()}).then(e=>i(e)).catch(e=>Gc(e,o,r))})})}function Yc(e,t,s,r){return Ge(this,void 0,void 0,function*(){return Jc(e,"GET",t,s,r)})}function Qc(e,t,s,r,n){return Ge(this,void 0,void 0,function*(){return Jc(e,"POST",t,r,n,s)})}function Xc(e,t,s,r,n){return Ge(this,void 0,void 0,function*(){return Jc(e,"PUT",t,r,n,s)})}function ed(e,t,s,r,n){return Ge(this,void 0,void 0,function*(){return Jc(e,"DELETE",t,r,n,s)})}class td{constructor(e,t){this.downloadFn=e,this.shouldThrowOnError=t}then(e,t){return this.execute().then(e,t)}execute(){return Ge(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(zc(e))return{data:null,error:e};throw e}})}}var sd;class rd{constructor(e,t){this.downloadFn=e,this.shouldThrowOnError=t,this[sd]="BlobDownloadBuilder",this.promise=null}asStream(){return new td(this.downloadFn,this.shouldThrowOnError)}then(e,t){return this.getPromise().then(e,t)}catch(e){return this.getPromise().catch(e)}finally(e){return this.getPromise().finally(e)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}execute(){return Ge(this,void 0,void 0,function*(){try{const e=yield this.downloadFn();return{data:yield e.blob(),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(zc(e))return{data:null,error:e};throw e}})}}sd=Symbol.toStringTag;const nd={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},ad={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class id{constructor(e,t={},s,r){this.shouldThrowOnError=!1,this.url=e,this.headers=t,this.bucketId=s,this.fetch=Hc(r)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(e,t,s,r){return Ge(this,void 0,void 0,function*(){try{let n;const a=Object.assign(Object.assign({},ad),r);let i=Object.assign(Object.assign({},this.headers),"POST"===e&&{"x-upsert":String(a.upsert)});const o=a.metadata;if("undefined"!=typeof Blob&&s instanceof Blob)n=new FormData,n.append("cacheControl",a.cacheControl),o&&n.append("metadata",this.encodeMetadata(o)),n.append("",s);else if("undefined"!=typeof FormData&&s instanceof FormData)n=s,n.has("cacheControl")||n.append("cacheControl",a.cacheControl),o&&!n.has("metadata")&&n.append("metadata",this.encodeMetadata(o));else{n=s,i["cache-control"]=`max-age=${a.cacheControl}`,i["content-type"]=a.contentType,o&&(i["x-metadata"]=this.toBase64(this.encodeMetadata(o)));("undefined"!=typeof ReadableStream&&n instanceof ReadableStream||n&&"object"==typeof n&&"pipe"in n&&"function"==typeof n.pipe)&&!a.duplex&&(a.duplex="half")}(null==r?void 0:r.headers)&&(i=Object.assign(Object.assign({},i),r.headers));const l=this._removeEmptyFolders(t),c=this._getFinalPath(l),d=yield("PUT"==e?Xc:Qc)(this.fetch,`${this.url}/object/${c}`,n,Object.assign({headers:i},(null==a?void 0:a.duplex)?{duplex:a.duplex}:{}));return{data:{path:l,id:d.Id,fullPath:d.Key},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(zc(n))return{data:null,error:n};throw n}})}upload(e,t,s){return Ge(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,t,s)})}uploadToSignedUrl(e,t,s,r){return Ge(this,void 0,void 0,function*(){const n=this._removeEmptyFolders(e),a=this._getFinalPath(n),i=new URL(this.url+`/object/upload/sign/${a}`);i.searchParams.set("token",t);try{let e;const t=Object.assign({upsert:ad.upsert},r),a=Object.assign(Object.assign({},this.headers),{"x-upsert":String(t.upsert)});"undefined"!=typeof Blob&&s instanceof Blob?(e=new FormData,e.append("cacheControl",t.cacheControl),e.append("",s)):"undefined"!=typeof FormData&&s instanceof FormData?(e=s,e.append("cacheControl",t.cacheControl)):(e=s,a["cache-control"]=`max-age=${t.cacheControl}`,a["content-type"]=t.contentType);return{data:{path:n,fullPath:(yield Xc(this.fetch,i.toString(),e,{headers:a})).Key},error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(zc(o))return{data:null,error:o};throw o}})}createSignedUploadUrl(e,t){return Ge(this,void 0,void 0,function*(){try{let s=this._getFinalPath(e);const r=Object.assign({},this.headers);(null==t?void 0:t.upsert)&&(r["x-upsert"]="true");const n=yield Qc(this.fetch,`${this.url}/object/upload/sign/${s}`,{},{headers:r}),a=new URL(this.url+n.url),i=a.searchParams.get("token");if(!i)throw new Bc("No token returned by API");return{data:{signedUrl:a.toString(),path:e,token:i},error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(zc(s))return{data:null,error:s};throw s}})}update(e,t,s){return Ge(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,t,s)})}move(e,t,s){return Ge(this,void 0,void 0,function*(){try{return{data:yield Qc(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:t,destinationBucket:null==s?void 0:s.destinationBucket},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(zc(r))return{data:null,error:r};throw r}})}copy(e,t,s){return Ge(this,void 0,void 0,function*(){try{return{data:{path:(yield Qc(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:t,destinationBucket:null==s?void 0:s.destinationBucket},{headers:this.headers})).Key},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(zc(r))return{data:null,error:r};throw r}})}createSignedUrl(e,t,s){return Ge(this,void 0,void 0,function*(){try{let r=this._getFinalPath(e),n=yield Qc(this.fetch,`${this.url}/object/sign/${r}`,Object.assign({expiresIn:t},(null==s?void 0:s.transform)?{transform:s.transform}:{}),{headers:this.headers});const a=(null==s?void 0:s.download)?`&download=${!0===s.download?"":s.download}`:"";return n={signedUrl:encodeURI(`${this.url}${n.signedURL}${a}`)},{data:n,error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(zc(r))return{data:null,error:r};throw r}})}createSignedUrls(e,t,s){return Ge(this,void 0,void 0,function*(){try{const r=yield Qc(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:t,paths:e},{headers:this.headers}),n=(null==s?void 0:s.download)?`&download=${!0===s.download?"":s.download}`:"";return{data:r.map(e=>Object.assign(Object.assign({},e),{signedUrl:e.signedURL?encodeURI(`${this.url}${e.signedURL}${n}`):null})),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(zc(r))return{data:null,error:r};throw r}})}download(e,t){const s=void 0!==(null==t?void 0:t.transform)?"render/image/authenticated":"object",r=this.transformOptsToQueryString((null==t?void 0:t.transform)||{}),n=r?`?${r}`:"",a=this._getFinalPath(e);return new rd(()=>Yc(this.fetch,`${this.url}/${s}/${a}${n}`,{headers:this.headers,noResolveJson:!0}),this.shouldThrowOnError)}info(e){return Ge(this,void 0,void 0,function*(){const t=this._getFinalPath(e);try{const e=yield Yc(this.fetch,`${this.url}/object/info/${t}`,{headers:this.headers});return{data:Kc(e),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(zc(s))return{data:null,error:s};throw s}})}exists(e){return Ge(this,void 0,void 0,function*(){const t=this._getFinalPath(e);try{return yield function(e,t,s,r){return Ge(this,void 0,void 0,function*(){return Jc(e,"HEAD",t,Object.assign(Object.assign({},s),{noResolveJson:!0}),r)})}(this.fetch,`${this.url}/object/${t}`,{headers:this.headers}),{data:!0,error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(zc(s)&&s instanceof Wc){const e=s.originalError;if([400,404].includes(null==e?void 0:e.status))return{data:!1,error:s}}throw s}})}getPublicUrl(e,t){const s=this._getFinalPath(e),r=[],n=(null==t?void 0:t.download)?`download=${!0===t.download?"":t.download}`:"";""!==n&&r.push(n);const a=void 0!==(null==t?void 0:t.transform)?"render/image":"object",i=this.transformOptsToQueryString((null==t?void 0:t.transform)||{});""!==i&&r.push(i);let o=r.join("&");return""!==o&&(o=`?${o}`),{data:{publicUrl:encodeURI(`${this.url}/${a}/public/${s}${o}`)}}}remove(e){return Ge(this,void 0,void 0,function*(){try{return{data:yield ed(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(zc(t))return{data:null,error:t};throw t}})}list(e,t,s){return Ge(this,void 0,void 0,function*(){try{const r=Object.assign(Object.assign(Object.assign({},nd),t),{prefix:e||""});return{data:yield Qc(this.fetch,`${this.url}/object/list/${this.bucketId}`,r,{headers:this.headers},s),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(zc(r))return{data:null,error:r};throw r}})}listV2(e,t){return Ge(this,void 0,void 0,function*(){try{const s=Object.assign({},e);return{data:yield Qc(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,s,{headers:this.headers},t),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(zc(s))return{data:null,error:s};throw s}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return"undefined"!=typeof Buffer?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const t=[];return e.width&&t.push(`width=${e.width}`),e.height&&t.push(`height=${e.height}`),e.resize&&t.push(`resize=${e.resize}`),e.format&&t.push(`format=${e.format}`),e.quality&&t.push(`quality=${e.quality}`),t.join("&")}}const od="2.81.1",ld={"X-Client-Info":`storage-js/${od}`};class cd{constructor(e,t={},s,r){this.shouldThrowOnError=!1;const n=new URL(e);if(null==r?void 0:r.useNewHostname){/supabase\.(co|in|red)$/.test(n.hostname)&&!n.hostname.includes("storage.supabase.")&&(n.hostname=n.hostname.replace("supabase.","storage.supabase."))}this.url=n.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},ld),t),this.fetch=Hc(s)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(e){return Ge(this,void 0,void 0,function*(){try{const t=this.listBucketOptionsToQueryString(e);return{data:yield Yc(this.fetch,`${this.url}/bucket${t}`,{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(zc(t))return{data:null,error:t};throw t}})}getBucket(e){return Ge(this,void 0,void 0,function*(){try{return{data:yield Yc(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(zc(t))return{data:null,error:t};throw t}})}createBucket(e){return Ge(this,arguments,void 0,function*(e,t={public:!1}){try{return{data:yield Qc(this.fetch,`${this.url}/bucket`,{id:e,name:e,type:t.type,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(zc(s))return{data:null,error:s};throw s}})}updateBucket(e,t){return Ge(this,void 0,void 0,function*(){try{return{data:yield Xc(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(zc(s))return{data:null,error:s};throw s}})}emptyBucket(e){return Ge(this,void 0,void 0,function*(){try{return{data:yield Qc(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(zc(t))return{data:null,error:t};throw t}})}deleteBucket(e){return Ge(this,void 0,void 0,function*(){try{return{data:yield ed(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(zc(t))return{data:null,error:t};throw t}})}listBucketOptionsToQueryString(e){const t={};return e&&("limit"in e&&(t.limit=String(e.limit)),"offset"in e&&(t.offset=String(e.offset)),e.search&&(t.search=e.search),e.sortColumn&&(t.sortColumn=e.sortColumn),e.sortOrder&&(t.sortOrder=e.sortOrder)),Object.keys(t).length>0?"?"+new URLSearchParams(t).toString():""}}class dd{constructor(e,t={},s){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},ld),t),this.fetch=Hc(s)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(e){return Ge(this,void 0,void 0,function*(){try{return{data:yield Qc(this.fetch,`${this.url}/bucket`,{name:e},{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(zc(t))return{data:null,error:t};throw t}})}listBuckets(e){return Ge(this,void 0,void 0,function*(){try{const t=new URLSearchParams;void 0!==(null==e?void 0:e.limit)&&t.set("limit",e.limit.toString()),void 0!==(null==e?void 0:e.offset)&&t.set("offset",e.offset.toString()),(null==e?void 0:e.sortColumn)&&t.set("sortColumn",e.sortColumn),(null==e?void 0:e.sortOrder)&&t.set("sortOrder",e.sortOrder),(null==e?void 0:e.search)&&t.set("search",e.search);const s=t.toString(),r=s?`${this.url}/bucket?${s}`:`${this.url}/bucket`;return{data:yield Yc(this.fetch,r,{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(zc(t))return{data:null,error:t};throw t}})}deleteBucket(e){return Ge(this,void 0,void 0,function*(){try{return{data:yield ed(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(zc(t))return{data:null,error:t};throw t}})}}const ud={"X-Client-Info":`storage-js/${od}`,"Content-Type":"application/json"};class hd extends Error{constructor(e){super(e),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}}function md(e){return"object"==typeof e&&null!==e&&"__isStorageVectorsError"in e}class pd extends hd{constructor(e,t,s){super(e),this.name="StorageVectorsApiError",this.status=t,this.statusCode=s}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class fd extends hd{constructor(e,t){super(e),this.name="StorageVectorsUnknownError",this.originalError=t}}var gd,xd;(xd=gd||(gd={})).InternalError="InternalError",xd.S3VectorConflictException="S3VectorConflictException",xd.S3VectorNotFoundException="S3VectorNotFoundException",xd.S3VectorBucketNotEmpty="S3VectorBucketNotEmpty",xd.S3VectorMaxBucketsExceeded="S3VectorMaxBucketsExceeded",xd.S3VectorMaxIndexesExceeded="S3VectorMaxIndexesExceeded";const vd=e=>e?(...t)=>e(...t):(...e)=>fetch(...e),yd=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),bd=(e,t,s,r)=>{const n={method:e,headers:(null==t?void 0:t.headers)||{}};return r?((e=>{if("object"!=typeof e||null===e)return!1;const t=Object.getPrototypeOf(e);return!(null!==t&&t!==Object.prototype&&null!==Object.getPrototypeOf(t)||Symbol.toStringTag in e||Symbol.iterator in e)})(r)?(n.headers=Object.assign({"Content-Type":"application/json"},null==t?void 0:t.headers),n.body=JSON.stringify(r)):n.body=r,Object.assign(Object.assign({},n),s)):n};function wd(e,t,s,r,n,a){return Ge(this,void 0,void 0,function*(){return new Promise((i,o)=>{e(s,bd(t,r,n,a)).then(e=>{if(!e.ok)throw e;if(null==r?void 0:r.noResolveJson)return e;const t=e.headers.get("content-type");return t&&t.includes("application/json")?e.json():{}}).then(e=>i(e)).catch(e=>((e,t,s)=>Ge(void 0,void 0,void 0,function*(){if(e&&"object"==typeof e&&"status"in e&&"ok"in e&&"number"==typeof e.status&&!(null==s?void 0:s.noResolveJson)){const s=e.status||500,r=e;if("function"==typeof r.json)r.json().then(e=>{const r=(null==e?void 0:e.statusCode)||(null==e?void 0:e.code)||s+"";t(new pd(yd(e),s,r))}).catch(()=>{const e=s+"",n=r.statusText||`HTTP ${s} error`;t(new pd(n,s,e))});else{const e=s+"",n=r.statusText||`HTTP ${s} error`;t(new pd(n,s,e))}}else t(new fd(yd(e),e))}))(e,o,r))})})}function jd(e,t,s,r,n){return Ge(this,void 0,void 0,function*(){return wd(e,"POST",t,r,n,s)})}class _d{constructor(e,t={},s){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},ud),t),this.fetch=vd(s)}throwOnError(){return this.shouldThrowOnError=!0,this}createIndex(e){return Ge(this,void 0,void 0,function*(){try{return{data:(yield jd(this.fetch,`${this.url}/CreateIndex`,e,{headers:this.headers}))||{},error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(md(t))return{data:null,error:t};throw t}})}getIndex(e,t){return Ge(this,void 0,void 0,function*(){try{return{data:yield jd(this.fetch,`${this.url}/GetIndex`,{vectorBucketName:e,indexName:t},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(md(s))return{data:null,error:s};throw s}})}listIndexes(e){return Ge(this,void 0,void 0,function*(){try{return{data:yield jd(this.fetch,`${this.url}/ListIndexes`,e,{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(md(t))return{data:null,error:t};throw t}})}deleteIndex(e,t){return Ge(this,void 0,void 0,function*(){try{return{data:(yield jd(this.fetch,`${this.url}/DeleteIndex`,{vectorBucketName:e,indexName:t},{headers:this.headers}))||{},error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(md(s))return{data:null,error:s};throw s}})}}class Nd{constructor(e,t={},s){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},ud),t),this.fetch=vd(s)}throwOnError(){return this.shouldThrowOnError=!0,this}putVectors(e){return Ge(this,void 0,void 0,function*(){try{if(e.vectors.length<1||e.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:(yield jd(this.fetch,`${this.url}/PutVectors`,e,{headers:this.headers}))||{},error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(md(t))return{data:null,error:t};throw t}})}getVectors(e){return Ge(this,void 0,void 0,function*(){try{return{data:yield jd(this.fetch,`${this.url}/GetVectors`,e,{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(md(t))return{data:null,error:t};throw t}})}listVectors(e){return Ge(this,void 0,void 0,function*(){try{if(void 0!==e.segmentCount){if(e.segmentCount<1||e.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(void 0!==e.segmentIndex&&(e.segmentIndex<0||e.segmentIndex>=e.segmentCount))throw new Error("segmentIndex must be between 0 and "+(e.segmentCount-1))}return{data:yield jd(this.fetch,`${this.url}/ListVectors`,e,{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(md(t))return{data:null,error:t};throw t}})}queryVectors(e){return Ge(this,void 0,void 0,function*(){try{return{data:yield jd(this.fetch,`${this.url}/QueryVectors`,e,{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(md(t))return{data:null,error:t};throw t}})}deleteVectors(e){return Ge(this,void 0,void 0,function*(){try{if(e.keys.length<1||e.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:(yield jd(this.fetch,`${this.url}/DeleteVectors`,e,{headers:this.headers}))||{},error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(md(t))return{data:null,error:t};throw t}})}}class kd{constructor(e,t={},s){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},ud),t),this.fetch=vd(s)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(e){return Ge(this,void 0,void 0,function*(){try{return{data:(yield jd(this.fetch,`${this.url}/CreateVectorBucket`,{vectorBucketName:e},{headers:this.headers}))||{},error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(md(t))return{data:null,error:t};throw t}})}getBucket(e){return Ge(this,void 0,void 0,function*(){try{return{data:yield jd(this.fetch,`${this.url}/GetVectorBucket`,{vectorBucketName:e},{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(md(t))return{data:null,error:t};throw t}})}listBuckets(){return Ge(this,arguments,void 0,function*(e={}){try{return{data:yield jd(this.fetch,`${this.url}/ListVectorBuckets`,e,{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(md(t))return{data:null,error:t};throw t}})}deleteBucket(e){return Ge(this,void 0,void 0,function*(){try{return{data:(yield jd(this.fetch,`${this.url}/DeleteVectorBucket`,{vectorBucketName:e},{headers:this.headers}))||{},error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(md(t))return{data:null,error:t};throw t}})}}class Sd extends kd{constructor(e,t={}){super(e,t.headers||{},t.fetch)}from(e){return new Cd(this.url,this.headers,e,this.fetch)}}class Cd extends _d{constructor(e,t,s,r){super(e,t,r),this.vectorBucketName=s}createIndex(e){const t=Object.create(null,{createIndex:{get:()=>super.createIndex}});return Ge(this,void 0,void 0,function*(){return t.createIndex.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName}))})}listIndexes(){const e=Object.create(null,{listIndexes:{get:()=>super.listIndexes}});return Ge(this,arguments,void 0,function*(t={}){return e.listIndexes.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName}))})}getIndex(e){const t=Object.create(null,{getIndex:{get:()=>super.getIndex}});return Ge(this,void 0,void 0,function*(){return t.getIndex.call(this,this.vectorBucketName,e)})}deleteIndex(e){const t=Object.create(null,{deleteIndex:{get:()=>super.deleteIndex}});return Ge(this,void 0,void 0,function*(){return t.deleteIndex.call(this,this.vectorBucketName,e)})}index(e){return new Ed(this.url,this.headers,this.vectorBucketName,e,this.fetch)}}class Ed extends Nd{constructor(e,t,s,r,n){super(e,t,n),this.vectorBucketName=s,this.indexName=r}putVectors(e){const t=Object.create(null,{putVectors:{get:()=>super.putVectors}});return Ge(this,void 0,void 0,function*(){return t.putVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}getVectors(e){const t=Object.create(null,{getVectors:{get:()=>super.getVectors}});return Ge(this,void 0,void 0,function*(){return t.getVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}listVectors(){const e=Object.create(null,{listVectors:{get:()=>super.listVectors}});return Ge(this,arguments,void 0,function*(t={}){return e.listVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}queryVectors(e){const t=Object.create(null,{queryVectors:{get:()=>super.queryVectors}});return Ge(this,void 0,void 0,function*(){return t.queryVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}deleteVectors(e){const t=Object.create(null,{deleteVectors:{get:()=>super.deleteVectors}});return Ge(this,void 0,void 0,function*(){return t.deleteVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}}class Td extends cd{constructor(e,t={},s,r){super(e,t,s,r)}from(e){return new id(this.url,this.headers,e,this.fetch)}get vectors(){return new Sd(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new dd(this.url+"/iceberg",this.headers,this.fetch)}}let Rd="";Rd="undefined"!=typeof Deno?"deno":"undefined"!=typeof document?"web":"undefined"!=typeof navigator&&"ReactNative"===navigator.product?"react-native":"node";const Od={headers:{"X-Client-Info":`supabase-js-${Rd}/2.81.1`}},Ad={schema:"public"},Pd={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},Id={},Md=(e,t,s)=>{const r=(e=>e?(...t)=>e(...t):(...e)=>fetch(...e))(s),n=Headers;return async(s,a)=>{var i;const o=null!==(i=await t())&&void 0!==i?i:e;let l=new n(null==a?void 0:a.headers);return l.has("apikey")||l.set("apikey",e),l.has("Authorization")||l.set("Authorization",`Bearer ${o}`),r(s,Object.assign(Object.assign({},a),{headers:l}))}};const Dd="2.81.1",$d=3e4,Ld=9e4,Ud={"X-Client-Info":`gotrue-js/${Dd}`},Fd="X-Supabase-Api-Version",Bd={timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"},zd=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i;class qd extends Error{constructor(e,t,s){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=t,this.code=s}}function Wd(e){return"object"==typeof e&&null!==e&&"__isAuthError"in e}class Hd extends qd{constructor(e,t,s){super(e,t,s),this.name="AuthApiError",this.status=t,this.code=s}}class Kd extends qd{constructor(e,t){super(e),this.name="AuthUnknownError",this.originalError=t}}class Vd extends qd{constructor(e,t,s,r){super(e,s,r),this.name=t,this.status=s}}class Gd extends Vd{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}class Zd extends Vd{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Jd extends Vd{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class Yd extends Vd{constructor(e,t=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=t}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Qd extends Vd{constructor(e,t=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=t}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Xd extends Vd{constructor(e,t){super(e,"AuthRetryableFetchError",t,void 0)}}function eu(e){return Wd(e)&&"AuthRetryableFetchError"===e.name}class tu extends Vd{constructor(e,t,s){super(e,"AuthWeakPasswordError",t,"weak_password"),this.reasons=s}}class su extends Vd{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const ru="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),nu=" \t\n\r=".split(""),au=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<nu.length;t+=1)e[nu[t].charCodeAt(0)]=-2;for(let t=0;t<ru.length;t+=1)e[ru[t].charCodeAt(0)]=t;return e})();function iu(e,t,s){if(null!==e)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const e=t.queue>>t.queuedBits-6&63;s(ru[e]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const e=t.queue>>t.queuedBits-6&63;s(ru[e]),t.queuedBits-=6}}function ou(e,t,s){const r=au[e];if(!(r>-1)){if(-2===r)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}for(t.queue=t.queue<<6|r,t.queuedBits+=6;t.queuedBits>=8;)s(t.queue>>t.queuedBits-8&255),t.queuedBits-=8}function lu(e){const t=[],s=e=>{t.push(String.fromCodePoint(e))},r={utf8seq:0,codepoint:0},n={queue:0,queuedBits:0},a=e=>{!function(e,t,s){if(0===t.utf8seq){if(e<=127)return void s(e);for(let s=1;s<6;s+=1)if(!(e>>7-s&1)){t.utf8seq=s;break}if(2===t.utf8seq)t.codepoint=31&e;else if(3===t.utf8seq)t.codepoint=15&e;else{if(4!==t.utf8seq)throw new Error("Invalid UTF-8 sequence");t.codepoint=7&e}t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|63&e,t.utf8seq-=1,0===t.utf8seq&&s(t.codepoint)}}(e,r,s)};for(let i=0;i<e.length;i+=1)ou(e.charCodeAt(i),n,a);return t.join("")}function cu(e,t){if(!(e<=127)){if(e<=2047)return t(192|e>>6),void t(128|63&e);if(e<=65535)return t(224|e>>12),t(128|e>>6&63),void t(128|63&e);if(e<=1114111)return t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),void t(128|63&e);throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}t(e)}function du(e){const t=[],s={queue:0,queuedBits:0},r=e=>{t.push(e)};for(let n=0;n<e.length;n+=1)ou(e.charCodeAt(n),s,r);return new Uint8Array(t)}function uu(e){const t=[];return function(e,t){for(let s=0;s<e.length;s+=1){let r=e.charCodeAt(s);if(r>55295&&r<=56319){const t=1024*(r-55296)&65535;r=65536+(e.charCodeAt(s+1)-56320&65535|t),s+=1}cu(r,t)}}(e,e=>t.push(e)),new Uint8Array(t)}function hu(e){const t=[],s={queue:0,queuedBits:0},r=e=>{t.push(e)};return e.forEach(e=>iu(e,s,r)),iu(null,s,r),t.join("")}const mu=()=>"undefined"!=typeof window&&"undefined"!=typeof document,pu={tested:!1,writable:!1},fu=()=>{if(!mu())return!1;try{if("object"!=typeof globalThis.localStorage)return!1}catch(t){return!1}if(pu.tested)return pu.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),pu.tested=!0,pu.writable=!0}catch(t){pu.tested=!0,pu.writable=!1}return pu.writable};const gu=e=>e?(...t)=>e(...t):(...e)=>fetch(...e),xu=async(e,t,s)=>{await e.setItem(t,JSON.stringify(s))},vu=async(e,t)=>{const s=await e.getItem(t);if(!s)return null;try{return JSON.parse(s)}catch(r){return s}},yu=async(e,t)=>{await e.removeItem(t)};class bu{constructor(){this.promise=new bu.promiseConstructor((e,t)=>{this.resolve=e,this.reject=t})}}function wu(e){const t=e.split(".");if(3!==t.length)throw new su("Invalid JWT structure");for(let s=0;s<t.length;s++)if(!zd.test(t[s]))throw new su("JWT not in base64url format");return{header:JSON.parse(lu(t[0])),payload:JSON.parse(lu(t[1])),signature:du(t[2]),raw:{header:t[0],payload:t[1]}}}function ju(e){return("0"+e.toString(16)).substr(-2)}async function _u(e){if(!("undefined"!=typeof crypto&&void 0!==crypto.subtle&&"undefined"!=typeof TextEncoder))return e;const t=await async function(e){const t=(new TextEncoder).encode(e),s=await crypto.subtle.digest("SHA-256",t),r=new Uint8Array(s);return Array.from(r).map(e=>String.fromCharCode(e)).join("")}(e);return btoa(t).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Nu(e,t,s=!1){const r=function(){const e=new Uint32Array(56);if("undefined"==typeof crypto){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",t=e.length;let s="";for(let r=0;r<56;r++)s+=e.charAt(Math.floor(Math.random()*t));return s}return crypto.getRandomValues(e),Array.from(e,ju).join("")}();let n=r;s&&(n+="/PASSWORD_RECOVERY"),await xu(e,`${t}-code-verifier`,n);const a=await _u(r);return[a,r===a?"plain":"s256"]}bu.promiseConstructor=Promise;const ku=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;const Su=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Cu(e){if(!Su.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Eu(){return new Proxy({},{get:(e,t)=>{if("__isUserNotAvailableProxy"===t)return!0;if("symbol"==typeof t){const e=t.toString();if("Symbol(Symbol.toPrimitive)"===e||"Symbol(Symbol.toStringTag)"===e||"Symbol(util.inspect.custom)"===e)return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${t}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,t)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${t}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,t)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${t}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function Tu(e){return JSON.parse(JSON.stringify(e))}const Ru=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),Ou=[502,503,504];async function Au(e){var t,s;if(!("object"==typeof(s=e)&&null!==s&&"status"in s&&"ok"in s&&"json"in s&&"function"==typeof s.json))throw new Xd(Ru(e),0);if(Ou.includes(e.status))throw new Xd(Ru(e),e.status);let r,n;try{r=await e.json()}catch(i){throw new Kd(Ru(i),i)}const a=function(e){const t=e.headers.get(Fd);if(!t)return null;if(!t.match(ku))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch(i){return null}}(e);if(a&&a.getTime()>=Bd.timestamp&&"object"==typeof r&&r&&"string"==typeof r.code?n=r.code:"object"==typeof r&&r&&"string"==typeof r.error_code&&(n=r.error_code),n){if("weak_password"===n)throw new tu(Ru(r),e.status,(null===(t=r.weak_password)||void 0===t?void 0:t.reasons)||[]);if("session_not_found"===n)throw new Gd}else if("object"==typeof r&&r&&"object"==typeof r.weak_password&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((e,t)=>e&&"string"==typeof t,!0))throw new tu(Ru(r),e.status,r.weak_password.reasons);throw new Hd(Ru(r),e.status||500,n)}async function Pu(e,t,s,r){var n;const a=Object.assign({},null==r?void 0:r.headers);a[Fd]||(a[Fd]=Bd.name),(null==r?void 0:r.jwt)&&(a.Authorization=`Bearer ${r.jwt}`);const i=null!==(n=null==r?void 0:r.query)&&void 0!==n?n:{};(null==r?void 0:r.redirectTo)&&(i.redirect_to=r.redirectTo);const o=Object.keys(i).length?"?"+new URLSearchParams(i).toString():"",l=await async function(e,t,s,r,n,a){const i=((e,t,s,r)=>{const n={method:e,headers:(null==t?void 0:t.headers)||{}};return"GET"===e?n:(n.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},null==t?void 0:t.headers),n.body=JSON.stringify(r),Object.assign(Object.assign({},n),s))})(t,r,n,a);let o;try{o=await e(s,Object.assign({},i))}catch(l){throw new Xd(Ru(l),0)}o.ok||await Au(o);if(null==r?void 0:r.noResolveJson)return o;try{return await o.json()}catch(l){await Au(l)}}(e,t,s+o,{headers:a,noResolveJson:null==r?void 0:r.noResolveJson},{},null==r?void 0:r.body);return(null==r?void 0:r.xform)?null==r?void 0:r.xform(l):{data:Object.assign({},l),error:null}}function Iu(e){var t;let s=null;var r;(function(e){return e.access_token&&e.refresh_token&&e.expires_in})(e)&&(s=Object.assign({},e),e.expires_at||(s.expires_at=(r=e.expires_in,Math.round(Date.now()/1e3)+r)));return{data:{session:s,user:null!==(t=e.user)&&void 0!==t?t:e},error:null}}function Mu(e){const t=Iu(e);return!t.error&&e.weak_password&&"object"==typeof e.weak_password&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&"string"==typeof e.weak_password.message&&e.weak_password.reasons.reduce((e,t)=>e&&"string"==typeof t,!0)&&(t.data.weak_password=e.weak_password),t}function Du(e){var t;return{data:{user:null!==(t=e.user)&&void 0!==t?t:e},error:null}}function $u(e){return{data:e,error:null}}function Lu(e){const{action_link:t,email_otp:s,hashed_token:r,redirect_to:n,verification_type:a}=e,i=Je(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]);return{data:{properties:{action_link:t,email_otp:s,hashed_token:r,redirect_to:n,verification_type:a},user:Object.assign({},i)},error:null}}function Uu(e){return e}const Fu=["global","local","others"];class Bu{constructor({url:e="",headers:t={},fetch:s}){this.url=e,this.headers=t,this.fetch=gu(s),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(e,t=Fu[0]){if(Fu.indexOf(t)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Fu.join(", ")}`);try{return await Pu(this.fetch,"POST",`${this.url}/logout?scope=${t}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(s){if(Wd(s))return{data:null,error:s};throw s}}async inviteUserByEmail(e,t={}){try{return await Pu(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:t.data},headers:this.headers,redirectTo:t.redirectTo,xform:Du})}catch(s){if(Wd(s))return{data:{user:null},error:s};throw s}}async generateLink(e){try{const{options:t}=e,s=Je(e,["options"]),r=Object.assign(Object.assign({},s),t);return"newEmail"in s&&(r.new_email=null==s?void 0:s.newEmail,delete r.newEmail),await Pu(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:r,headers:this.headers,xform:Lu,redirectTo:null==t?void 0:t.redirectTo})}catch(t){if(Wd(t))return{data:{properties:null,user:null},error:t};throw t}}async createUser(e){try{return await Pu(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:Du})}catch(t){if(Wd(t))return{data:{user:null},error:t};throw t}}async listUsers(e){var t,s,r,n,a,i,o;try{const l={nextPage:null,lastPage:0,total:0},c=await Pu(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:null!==(s=null===(t=null==e?void 0:e.page)||void 0===t?void 0:t.toString())&&void 0!==s?s:"",per_page:null!==(n=null===(r=null==e?void 0:e.perPage)||void 0===r?void 0:r.toString())&&void 0!==n?n:""},xform:Uu});if(c.error)throw c.error;const d=await c.json(),u=null!==(a=c.headers.get("x-total-count"))&&void 0!==a?a:0,h=null!==(o=null===(i=c.headers.get("link"))||void 0===i?void 0:i.split(","))&&void 0!==o?o:[];return h.length>0&&(h.forEach(e=>{const t=parseInt(e.split(";")[0].split("=")[1].substring(0,1)),s=JSON.parse(e.split(";")[1].split("=")[1]);l[`${s}Page`]=t}),l.total=parseInt(u)),{data:Object.assign(Object.assign({},d),l),error:null}}catch(l){if(Wd(l))return{data:{users:[]},error:l};throw l}}async getUserById(e){Cu(e);try{return await Pu(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:Du})}catch(t){if(Wd(t))return{data:{user:null},error:t};throw t}}async updateUserById(e,t){Cu(e);try{return await Pu(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:t,headers:this.headers,xform:Du})}catch(s){if(Wd(s))return{data:{user:null},error:s};throw s}}async deleteUser(e,t=!1){Cu(e);try{return await Pu(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:t},xform:Du})}catch(s){if(Wd(s))return{data:{user:null},error:s};throw s}}async _listFactors(e){Cu(e.userId);try{const{data:t,error:s}=await Pu(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:e=>({data:{factors:e},error:null})});return{data:t,error:s}}catch(t){if(Wd(t))return{data:null,error:t};throw t}}async _deleteFactor(e){Cu(e.userId),Cu(e.id);try{return{data:await Pu(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(t){if(Wd(t))return{data:null,error:t};throw t}}async _listOAuthClients(e){var t,s,r,n,a,i,o;try{const l={nextPage:null,lastPage:0,total:0},c=await Pu(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:null!==(s=null===(t=null==e?void 0:e.page)||void 0===t?void 0:t.toString())&&void 0!==s?s:"",per_page:null!==(n=null===(r=null==e?void 0:e.perPage)||void 0===r?void 0:r.toString())&&void 0!==n?n:""},xform:Uu});if(c.error)throw c.error;const d=await c.json(),u=null!==(a=c.headers.get("x-total-count"))&&void 0!==a?a:0,h=null!==(o=null===(i=c.headers.get("link"))||void 0===i?void 0:i.split(","))&&void 0!==o?o:[];return h.length>0&&(h.forEach(e=>{const t=parseInt(e.split(";")[0].split("=")[1].substring(0,1)),s=JSON.parse(e.split(";")[1].split("=")[1]);l[`${s}Page`]=t}),l.total=parseInt(u)),{data:Object.assign(Object.assign({},d),l),error:null}}catch(l){if(Wd(l))return{data:{clients:[]},error:l};throw l}}async _createOAuthClient(e){try{return await Pu(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:e,headers:this.headers,xform:e=>({data:e,error:null})})}catch(t){if(Wd(t))return{data:null,error:t};throw t}}async _getOAuthClient(e){try{return await Pu(this.fetch,"GET",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,xform:e=>({data:e,error:null})})}catch(t){if(Wd(t))return{data:null,error:t};throw t}}async _updateOAuthClient(e,t){try{return await Pu(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${e}`,{body:t,headers:this.headers,xform:e=>({data:e,error:null})})}catch(s){if(Wd(s))return{data:null,error:s};throw s}}async _deleteOAuthClient(e){try{return await Pu(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(t){if(Wd(t))return{data:null,error:t};throw t}}async _regenerateOAuthClientSecret(e){try{return await Pu(this.fetch,"POST",`${this.url}/admin/oauth/clients/${e}/regenerate_secret`,{headers:this.headers,xform:e=>({data:e,error:null})})}catch(t){if(Wd(t))return{data:null,error:t};throw t}}}function zu(e={}){return{getItem:t=>e[t]||null,setItem:(t,s)=>{e[t]=s},removeItem:t=>{delete e[t]}}}const qu=!!(globalThis&&fu()&&globalThis.localStorage&&"true"===globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug"));class Wu extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class Hu extends Wu{}async function Ku(e,t,s){const r=new globalThis.AbortController;return t>0&&setTimeout(()=>{r.abort()},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,0===t?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async r=>{if(!r){if(0===t)throw new Hu(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(qu)try{await globalThis.navigator.locks.query()}catch(n){}return await s()}try{return await s()}finally{}}))}function Vu(e){if(!/^0x[a-fA-F0-9]{40}$/.test(e))throw new Error(`@supabase/auth-js: Address "${e}" is invalid.`);return e.toLowerCase()}function Gu(e){const t=(new TextEncoder).encode(e);return"0x"+Array.from(t,e=>e.toString(16).padStart(2,"0")).join("")}class Zu extends Error{constructor({message:e,code:t,cause:s,name:r}){var n;super(e,{cause:s}),this.__isWebAuthnError=!0,this.name=null!==(n=null!=r?r:s instanceof Error?s.name:void 0)&&void 0!==n?n:"Unknown Error",this.code=t}}class Ju extends Zu{constructor(e,t){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t,message:e}),this.name="WebAuthnUnknownError",this.originalError=t}}function Yu({error:e,options:t}){var s,r,n;const{publicKey:a}=t;if(!a)throw Error("options was missing required publicKey property");if("AbortError"===e.name){if(t.signal instanceof AbortSignal)return new Zu({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else if("ConstraintError"===e.name){if(!0===(null===(s=a.authenticatorSelection)||void 0===s?void 0:s.requireResidentKey))return new Zu({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:e});if("conditional"===t.mediation&&"required"===(null===(r=a.authenticatorSelection)||void 0===r?void 0:r.userVerification))return new Zu({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:e});if("required"===(null===(n=a.authenticatorSelection)||void 0===n?void 0:n.userVerification))return new Zu({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:e})}else{if("InvalidStateError"===e.name)return new Zu({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:e});if("NotAllowedError"===e.name)return new Zu({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if("NotSupportedError"===e.name){return 0===a.pubKeyCredParams.filter(e=>"public-key"===e.type).length?new Zu({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:e}):new Zu({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:e})}if("SecurityError"===e.name){const t=window.location.hostname;if(!nh(t))return new Zu({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e});if(a.rp.id!==t)return new Zu({message:`The RP ID "${a.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else if("TypeError"===e.name){if(a.user.id.byteLength<1||a.user.id.byteLength>64)return new Zu({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:e})}else if("UnknownError"===e.name)return new Zu({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new Zu({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}function Qu({error:e,options:t}){const{publicKey:s}=t;if(!s)throw Error("options was missing required publicKey property");if("AbortError"===e.name){if(t.signal instanceof AbortSignal)return new Zu({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else{if("NotAllowedError"===e.name)return new Zu({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if("SecurityError"===e.name){const t=window.location.hostname;if(!nh(t))return new Zu({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e});if(s.rpId!==t)return new Zu({message:`The RP ID "${s.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else if("UnknownError"===e.name)return new Zu({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new Zu({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}const Xu=new class{createNewAbortSignal(){if(this.controller){const e=new Error("Cancelling existing WebAuthn API call for new one");e.name="AbortError",this.controller.abort(e)}const e=new AbortController;return this.controller=e,e.signal}cancelCeremony(){if(this.controller){const e=new Error("Manually cancelling existing WebAuthn API call");e.name="AbortError",this.controller.abort(e),this.controller=void 0}}};function eh(e){if(!e)throw new Error("Credential creation options are required");if("undefined"!=typeof PublicKeyCredential&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&"function"==typeof PublicKeyCredential.parseCreationOptionsFromJSON)return PublicKeyCredential.parseCreationOptionsFromJSON(e);const{challenge:t,user:s,excludeCredentials:r}=e,n=Je(e,["challenge","user","excludeCredentials"]),a=du(t).buffer,i=Object.assign(Object.assign({},s),{id:du(s.id).buffer}),o=Object.assign(Object.assign({},n),{challenge:a,user:i});if(r&&r.length>0){o.excludeCredentials=new Array(r.length);for(let e=0;e<r.length;e++){const t=r[e];o.excludeCredentials[e]=Object.assign(Object.assign({},t),{id:du(t.id).buffer,type:t.type||"public-key",transports:t.transports})}}return o}function th(e){if(!e)throw new Error("Credential request options are required");if("undefined"!=typeof PublicKeyCredential&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&"function"==typeof PublicKeyCredential.parseRequestOptionsFromJSON)return PublicKeyCredential.parseRequestOptionsFromJSON(e);const{challenge:t,allowCredentials:s}=e,r=Je(e,["challenge","allowCredentials"]),n=du(t).buffer,a=Object.assign(Object.assign({},r),{challenge:n});if(s&&s.length>0){a.allowCredentials=new Array(s.length);for(let e=0;e<s.length;e++){const t=s[e];a.allowCredentials[e]=Object.assign(Object.assign({},t),{id:du(t.id).buffer,type:t.type||"public-key",transports:t.transports})}}return a}function sh(e){var t;if("toJSON"in e&&"function"==typeof e.toJSON)return e.toJSON();const s=e;return{id:e.id,rawId:e.id,response:{attestationObject:hu(new Uint8Array(e.response.attestationObject)),clientDataJSON:hu(new Uint8Array(e.response.clientDataJSON))},type:"public-key",clientExtensionResults:e.getClientExtensionResults(),authenticatorAttachment:null!==(t=s.authenticatorAttachment)&&void 0!==t?t:void 0}}function rh(e){var t;if("toJSON"in e&&"function"==typeof e.toJSON)return e.toJSON();const s=e,r=e.getClientExtensionResults(),n=e.response;return{id:e.id,rawId:e.id,response:{authenticatorData:hu(new Uint8Array(n.authenticatorData)),clientDataJSON:hu(new Uint8Array(n.clientDataJSON)),signature:hu(new Uint8Array(n.signature)),userHandle:n.userHandle?hu(new Uint8Array(n.userHandle)):void 0},type:"public-key",clientExtensionResults:r,authenticatorAttachment:null!==(t=s.authenticatorAttachment)&&void 0!==t?t:void 0}}function nh(e){return"localhost"===e||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(e)}function ah(){var e,t;return!!(mu()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&"function"==typeof(null===(e=null===navigator||void 0===navigator?void 0:navigator.credentials)||void 0===e?void 0:e.create)&&"function"==typeof(null===(t=null===navigator||void 0===navigator?void 0:navigator.credentials)||void 0===t?void 0:t.get))}const ih={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},oh={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function lh(...e){const t=e=>null!==e&&"object"==typeof e&&!Array.isArray(e),s=e=>e instanceof ArrayBuffer||ArrayBuffer.isView(e),r={};for(const n of e)if(n)for(const e in n){const a=n[e];if(void 0!==a)if(Array.isArray(a))r[e]=a;else if(s(a))r[e]=a;else if(t(a)){const s=r[e];t(s)?r[e]=lh(s,a):r[e]=lh(a)}else r[e]=a}return r}class ch{constructor(e){this.client=e,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(e){return this.client.mfa.enroll(Object.assign(Object.assign({},e),{factorType:"webauthn"}))}async _challenge({factorId:e,webauthn:t,friendlyName:s,signal:r},n){try{const{data:a,error:i}=await this.client.mfa.challenge({factorId:e,webauthn:t});if(!a)return{data:null,error:i};const o=null!=r?r:Xu.createNewAbortSignal();if("create"===a.webauthn.type){const{user:e}=a.webauthn.credential_options.publicKey;e.name||(e.name=`${e.id}:${s}`),e.displayName||(e.displayName=e.name)}switch(a.webauthn.type){case"create":{const t=function(e,t){return lh(ih,e,t||{})}(a.webauthn.credential_options.publicKey,null==n?void 0:n.create),{data:s,error:r}=await async function(e){try{const t=await navigator.credentials.create(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new Ju("Browser returned unexpected credential type",t)}:{data:null,error:new Ju("Empty credential response",t)}}catch(t){return{data:null,error:Yu({error:t,options:e})}}}({publicKey:t,signal:o});return s?{data:{factorId:e,challengeId:a.id,webauthn:{type:a.webauthn.type,credential_response:s}},error:null}:{data:null,error:r}}case"request":{const t=function(e,t){return lh(oh,e,t||{})}(a.webauthn.credential_options.publicKey,null==n?void 0:n.request),{data:s,error:r}=await async function(e){try{const t=await navigator.credentials.get(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new Ju("Browser returned unexpected credential type",t)}:{data:null,error:new Ju("Empty credential response",t)}}catch(t){return{data:null,error:Qu({error:t,options:e})}}}(Object.assign(Object.assign({},a.webauthn.credential_options),{publicKey:t,signal:o}));return s?{data:{factorId:e,challengeId:a.id,webauthn:{type:a.webauthn.type,credential_response:s}},error:null}:{data:null,error:r}}}}catch(a){return Wd(a)?{data:null,error:a}:{data:null,error:new Kd("Unexpected error in challenge",a)}}}async _verify({challengeId:e,factorId:t,webauthn:s}){return this.client.mfa.verify({factorId:t,challengeId:e,webauthn:s})}async _authenticate({factorId:e,webauthn:{rpId:t=("undefined"!=typeof window?window.location.hostname:void 0),rpOrigins:s=("undefined"!=typeof window?[window.location.origin]:void 0),signal:r}={}},n){if(!t)return{data:null,error:new qd("rpId is required for WebAuthn authentication")};try{if(!ah())return{data:null,error:new Kd("Browser does not support WebAuthn",null)};const{data:a,error:i}=await this.challenge({factorId:e,webauthn:{rpId:t,rpOrigins:s},signal:r},{request:n});if(!a)return{data:null,error:i};const{webauthn:o}=a;return this._verify({factorId:e,challengeId:a.challengeId,webauthn:{type:o.type,rpId:t,rpOrigins:s,credential_response:o.credential_response}})}catch(a){return Wd(a)?{data:null,error:a}:{data:null,error:new Kd("Unexpected error in authenticate",a)}}}async _register({friendlyName:e,webauthn:{rpId:t=("undefined"!=typeof window?window.location.hostname:void 0),rpOrigins:s=("undefined"!=typeof window?[window.location.origin]:void 0),signal:r}={}},n){if(!t)return{data:null,error:new qd("rpId is required for WebAuthn registration")};try{if(!ah())return{data:null,error:new Kd("Browser does not support WebAuthn",null)};const{data:a,error:i}=await this._enroll({friendlyName:e});if(!a)return await this.client.mfa.listFactors().then(t=>{var s;return null===(s=t.data)||void 0===s?void 0:s.all.find(t=>"webauthn"===t.factor_type&&t.friendly_name===e&&"unverified"!==t.status)}).then(e=>e?this.client.mfa.unenroll({factorId:null==e?void 0:e.id}):void 0),{data:null,error:i};const{data:o,error:l}=await this._challenge({factorId:a.id,friendlyName:a.friendly_name,webauthn:{rpId:t,rpOrigins:s},signal:r},{create:n});return o?this._verify({factorId:a.id,challengeId:o.challengeId,webauthn:{rpId:t,rpOrigins:s,type:o.webauthn.type,credential_response:o.webauthn.credential_response}}):{data:null,error:l}}catch(a){return Wd(a)?{data:null,error:a}:{data:null,error:new Kd("Unexpected error in register",a)}}}}!function(){if("object"!=typeof globalThis)try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch(e){"undefined"!=typeof self&&(self.globalThis=self)}}();const dh={url:"http://localhost:9999",storageKey:"supabase.auth.token",autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:Ud,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1};async function uh(e,t,s){return await s()}const hh={};class mh{get jwks(){var e,t;return null!==(t=null===(e=hh[this.storageKey])||void 0===e?void 0:e.jwks)&&void 0!==t?t:{keys:[]}}set jwks(e){hh[this.storageKey]=Object.assign(Object.assign({},hh[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,t;return null!==(t=null===(e=hh[this.storageKey])||void 0===e?void 0:e.cachedAt)&&void 0!==t?t:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){hh[this.storageKey]=Object.assign(Object.assign({},hh[this.storageKey]),{cachedAt:e})}constructor(e){var t,s,r;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const n=Object.assign(Object.assign({},dh),e);if(this.storageKey=n.storageKey,this.instanceID=null!==(t=mh.nextInstanceID[this.storageKey])&&void 0!==t?t:0,mh.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!n.debug,"function"==typeof n.debug&&(this.logger=n.debug),this.instanceID>0&&mu()){this._logPrefix();this.logDebugMessages}if(this.persistSession=n.persistSession,this.autoRefreshToken=n.autoRefreshToken,this.admin=new Bu({url:n.url,headers:n.headers,fetch:n.fetch}),this.url=n.url,this.headers=n.headers,this.fetch=gu(n.fetch),this.lock=n.lock||uh,this.detectSessionInUrl=n.detectSessionInUrl,this.flowType=n.flowType,this.hasCustomAuthorizationHeader=n.hasCustomAuthorizationHeader,this.throwOnError=n.throwOnError,n.lock?this.lock=n.lock:mu()&&(null===(s=null===globalThis||void 0===globalThis?void 0:globalThis.navigator)||void 0===s?void 0:s.locks)?this.lock=Ku:this.lock=uh,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new ch(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this)},this.persistSession?(n.storage?this.storage=n.storage:fu()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=zu(this.memoryStorage)),n.userStorage&&(this.userStorage=n.userStorage)):(this.memoryStorage={},this.storage=zu(this.memoryStorage)),mu()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(a){}null===(r=this.broadcastChannel)||void 0===r||r.addEventListener("message",async e=>{this._debug("received broadcast notification from other tab or client",e),await this._notifyAllSubscribers(e.data.event,e.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(e){if(this.throwOnError&&e&&e.error)throw e.error;return e}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${Dd}) ${(new Date).toISOString()}`}_debug(...e){return this.logDebugMessages&&this.logger(this._logPrefix(),...e),this}async initialize(){return this.initializePromise||(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))()),await this.initializePromise}async _initialize(){var e;try{let t={},s="none";if(mu()&&(t=function(e){const t={},s=new URL(e);if(s.hash&&"#"===s.hash[0])try{new URLSearchParams(s.hash.substring(1)).forEach((e,s)=>{t[s]=e})}catch(r){}return s.searchParams.forEach((e,s)=>{t[s]=e}),t}(window.location.href),this._isImplicitGrantCallback(t)?s="implicit":await this._isPKCECallback(t)&&(s="pkce")),mu()&&this.detectSessionInUrl&&"none"!==s){const{data:r,error:n}=await this._getSessionFromURL(t,s);if(n){if(this._debug("#_initialize()","error detecting session from URL",n),function(e){return Wd(e)&&"AuthImplicitGrantRedirectError"===e.name}(n)){const t=null===(e=n.details)||void 0===e?void 0:e.code;if("identity_already_exists"===t||"identity_not_found"===t||"single_identity_not_deletable"===t)return{error:n}}return await this._removeSession(),{error:n}}const{session:a,redirectType:i}=r;return this._debug("#_initialize()","detected session in URL",a,"redirect type",i),await this._saveSession(a),setTimeout(async()=>{"recovery"===i?await this._notifyAllSubscribers("PASSWORD_RECOVERY",a):await this._notifyAllSubscribers("SIGNED_IN",a)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(t){return Wd(t)?this._returnResult({error:t}):this._returnResult({error:new Kd("Unexpected error during initialization",t)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var t,s,r;try{const n=await Pu(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:null!==(s=null===(t=null==e?void 0:e.options)||void 0===t?void 0:t.data)&&void 0!==s?s:{},gotrue_meta_security:{captcha_token:null===(r=null==e?void 0:e.options)||void 0===r?void 0:r.captchaToken}},xform:Iu}),{data:a,error:i}=n;if(i||!a)return this._returnResult({data:{user:null,session:null},error:i});const o=a.session,l=a.user;return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",o)),this._returnResult({data:{user:l,session:o},error:null})}catch(n){if(Wd(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async signUp(e){var t,s,r;try{let n;if("email"in e){const{email:s,password:r,options:a}=e;let i=null,o=null;"pkce"===this.flowType&&([i,o]=await Nu(this.storage,this.storageKey)),n=await Pu(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:null==a?void 0:a.emailRedirectTo,body:{email:s,password:r,data:null!==(t=null==a?void 0:a.data)&&void 0!==t?t:{},gotrue_meta_security:{captcha_token:null==a?void 0:a.captchaToken},code_challenge:i,code_challenge_method:o},xform:Iu})}else{if(!("phone"in e))throw new Jd("You must provide either an email or phone number and a password");{const{phone:t,password:a,options:i}=e;n=await Pu(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:t,password:a,data:null!==(s=null==i?void 0:i.data)&&void 0!==s?s:{},channel:null!==(r=null==i?void 0:i.channel)&&void 0!==r?r:"sms",gotrue_meta_security:{captcha_token:null==i?void 0:i.captchaToken}},xform:Iu})}}const{data:a,error:i}=n;if(i||!a)return this._returnResult({data:{user:null,session:null},error:i});const o=a.session,l=a.user;return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",o)),this._returnResult({data:{user:l,session:o},error:null})}catch(n){if(Wd(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async signInWithPassword(e){try{let t;if("email"in e){const{email:s,password:r,options:n}=e;t=await Pu(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:s,password:r,gotrue_meta_security:{captcha_token:null==n?void 0:n.captchaToken}},xform:Mu})}else{if(!("phone"in e))throw new Jd("You must provide either an email or phone number and a password");{const{phone:s,password:r,options:n}=e;t=await Pu(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:s,password:r,gotrue_meta_security:{captcha_token:null==n?void 0:n.captchaToken}},xform:Mu})}}const{data:s,error:r}=t;if(r)return this._returnResult({data:{user:null,session:null},error:r});if(!s||!s.session||!s.user){const e=new Zd;return this._returnResult({data:{user:null,session:null},error:e})}return s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",s.session)),this._returnResult({data:Object.assign({user:s.user,session:s.session},s.weak_password?{weakPassword:s.weak_password}:null),error:r})}catch(t){if(Wd(t))return this._returnResult({data:{user:null,session:null},error:t});throw t}}async signInWithOAuth(e){var t,s,r,n;return await this._handleProviderSignIn(e.provider,{redirectTo:null===(t=e.options)||void 0===t?void 0:t.redirectTo,scopes:null===(s=e.options)||void 0===s?void 0:s.scopes,queryParams:null===(r=e.options)||void 0===r?void 0:r.queryParams,skipBrowserRedirect:null===(n=e.options)||void 0===n?void 0:n.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:t}=e;switch(t){case"ethereum":return await this.signInWithEthereum(e);case"solana":return await this.signInWithSolana(e);default:throw new Error(`@supabase/auth-js: Unsupported chain "${t}"`)}}async signInWithEthereum(e){var t,s,r,n,a,i,o,l,c,d,u;let h,m;if("message"in e)h=e.message,m=e.signature;else{const{chain:d,wallet:u,statement:p,options:f}=e;let g;if(mu())if("object"==typeof u)g=u;else{const e=window;if(!("ethereum"in e)||"object"!=typeof e.ethereum||!("request"in e.ethereum)||"function"!=typeof e.ethereum.request)throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.");g=e.ethereum}else{if("object"!=typeof u||!(null==f?void 0:f.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");g=u}const x=new URL(null!==(t=null==f?void 0:f.url)&&void 0!==t?t:window.location.href),v=await g.request({method:"eth_requestAccounts"}).then(e=>e).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!v||0===v.length)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const y=Vu(v[0]);let b=null===(s=null==f?void 0:f.signInWithEthereum)||void 0===s?void 0:s.chainId;if(!b){const e=await g.request({method:"eth_chainId"});b=parseInt(e,16)}h=function(e){var t;const{chainId:s,domain:r,expirationTime:n,issuedAt:a=new Date,nonce:i,notBefore:o,requestId:l,resources:c,scheme:d,uri:u,version:h}=e;if(!Number.isInteger(s))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${s}`);if(!r)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(i&&i.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${i}`);if(!u)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if("1"!==h)throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${h}`);if(null===(t=e.statement)||void 0===t?void 0:t.includes("\n"))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${e.statement}`);const m=`${d?`${d}://${r}`:r} wants you to sign in with your Ethereum account:\n${Vu(e.address)}\n\n${e.statement?`${e.statement}\n`:""}`;let p=`URI: ${u}\nVersion: ${h}\nChain ID: ${s}${i?`\nNonce: ${i}`:""}\nIssued At: ${a.toISOString()}`;if(n&&(p+=`\nExpiration Time: ${n.toISOString()}`),o&&(p+=`\nNot Before: ${o.toISOString()}`),l&&(p+=`\nRequest ID: ${l}`),c){let e="\nResources:";for(const t of c){if(!t||"string"!=typeof t)throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${t}`);e+=`\n- ${t}`}p+=e}return`${m}\n${p}`}({domain:x.host,address:y,statement:p,uri:x.href,version:"1",chainId:b,nonce:null===(r=null==f?void 0:f.signInWithEthereum)||void 0===r?void 0:r.nonce,issuedAt:null!==(a=null===(n=null==f?void 0:f.signInWithEthereum)||void 0===n?void 0:n.issuedAt)&&void 0!==a?a:new Date,expirationTime:null===(i=null==f?void 0:f.signInWithEthereum)||void 0===i?void 0:i.expirationTime,notBefore:null===(o=null==f?void 0:f.signInWithEthereum)||void 0===o?void 0:o.notBefore,requestId:null===(l=null==f?void 0:f.signInWithEthereum)||void 0===l?void 0:l.requestId,resources:null===(c=null==f?void 0:f.signInWithEthereum)||void 0===c?void 0:c.resources}),m=await g.request({method:"personal_sign",params:[Gu(h),y]})}try{const{data:t,error:s}=await Pu(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:h,signature:m},(null===(d=e.options)||void 0===d?void 0:d.captchaToken)?{gotrue_meta_security:{captcha_token:null===(u=e.options)||void 0===u?void 0:u.captchaToken}}:null),xform:Iu});if(s)throw s;if(!t||!t.session||!t.user){const e=new Zd;return this._returnResult({data:{user:null,session:null},error:e})}return t.session&&(await this._saveSession(t.session),await this._notifyAllSubscribers("SIGNED_IN",t.session)),this._returnResult({data:Object.assign({},t),error:s})}catch(p){if(Wd(p))return this._returnResult({data:{user:null,session:null},error:p});throw p}}async signInWithSolana(e){var t,s,r,n,a,i,o,l,c,d,u,h;let m,p;if("message"in e)m=e.message,p=e.signature;else{const{chain:u,wallet:h,statement:f,options:g}=e;let x;if(mu())if("object"==typeof h)x=h;else{const e=window;if(!("solana"in e)||"object"!=typeof e.solana||!("signIn"in e.solana&&"function"==typeof e.solana.signIn||"signMessage"in e.solana&&"function"==typeof e.solana.signMessage))throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.");x=e.solana}else{if("object"!=typeof h||!(null==g?void 0:g.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");x=h}const v=new URL(null!==(t=null==g?void 0:g.url)&&void 0!==t?t:window.location.href);if("signIn"in x&&x.signIn){const e=await x.signIn(Object.assign(Object.assign(Object.assign({issuedAt:(new Date).toISOString()},null==g?void 0:g.signInWithSolana),{version:"1",domain:v.host,uri:v.href}),f?{statement:f}:null));let t;if(Array.isArray(e)&&e[0]&&"object"==typeof e[0])t=e[0];else{if(!(e&&"object"==typeof e&&"signedMessage"in e&&"signature"in e))throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");t=e}if(!("signedMessage"in t&&"signature"in t&&("string"==typeof t.signedMessage||t.signedMessage instanceof Uint8Array)&&t.signature instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields");m="string"==typeof t.signedMessage?t.signedMessage:(new TextDecoder).decode(t.signedMessage),p=t.signature}else{if(!("signMessage"in x&&"function"==typeof x.signMessage&&"publicKey"in x&&"object"==typeof x&&x.publicKey&&"toBase58"in x.publicKey&&"function"==typeof x.publicKey.toBase58))throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");m=[`${v.host} wants you to sign in with your Solana account:`,x.publicKey.toBase58(),...f?["",f,""]:[""],"Version: 1",`URI: ${v.href}`,`Issued At: ${null!==(r=null===(s=null==g?void 0:g.signInWithSolana)||void 0===s?void 0:s.issuedAt)&&void 0!==r?r:(new Date).toISOString()}`,...(null===(n=null==g?void 0:g.signInWithSolana)||void 0===n?void 0:n.notBefore)?[`Not Before: ${g.signInWithSolana.notBefore}`]:[],...(null===(a=null==g?void 0:g.signInWithSolana)||void 0===a?void 0:a.expirationTime)?[`Expiration Time: ${g.signInWithSolana.expirationTime}`]:[],...(null===(i=null==g?void 0:g.signInWithSolana)||void 0===i?void 0:i.chainId)?[`Chain ID: ${g.signInWithSolana.chainId}`]:[],...(null===(o=null==g?void 0:g.signInWithSolana)||void 0===o?void 0:o.nonce)?[`Nonce: ${g.signInWithSolana.nonce}`]:[],...(null===(l=null==g?void 0:g.signInWithSolana)||void 0===l?void 0:l.requestId)?[`Request ID: ${g.signInWithSolana.requestId}`]:[],...(null===(d=null===(c=null==g?void 0:g.signInWithSolana)||void 0===c?void 0:c.resources)||void 0===d?void 0:d.length)?["Resources",...g.signInWithSolana.resources.map(e=>`- ${e}`)]:[]].join("\n");const e=await x.signMessage((new TextEncoder).encode(m),"utf8");if(!(e&&e instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");p=e}}try{const{data:t,error:s}=await Pu(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:m,signature:hu(p)},(null===(u=e.options)||void 0===u?void 0:u.captchaToken)?{gotrue_meta_security:{captcha_token:null===(h=e.options)||void 0===h?void 0:h.captchaToken}}:null),xform:Iu});if(s)throw s;if(!t||!t.session||!t.user){const e=new Zd;return this._returnResult({data:{user:null,session:null},error:e})}return t.session&&(await this._saveSession(t.session),await this._notifyAllSubscribers("SIGNED_IN",t.session)),this._returnResult({data:Object.assign({},t),error:s})}catch(f){if(Wd(f))return this._returnResult({data:{user:null,session:null},error:f});throw f}}async _exchangeCodeForSession(e){const t=await vu(this.storage,`${this.storageKey}-code-verifier`),[s,r]=(null!=t?t:"").split("/");try{const{data:t,error:n}=await Pu(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:s},xform:Iu});if(await yu(this.storage,`${this.storageKey}-code-verifier`),n)throw n;if(!t||!t.session||!t.user){const e=new Zd;return this._returnResult({data:{user:null,session:null,redirectType:null},error:e})}return t.session&&(await this._saveSession(t.session),await this._notifyAllSubscribers("SIGNED_IN",t.session)),this._returnResult({data:Object.assign(Object.assign({},t),{redirectType:null!=r?r:null}),error:n})}catch(n){if(Wd(n))return this._returnResult({data:{user:null,session:null,redirectType:null},error:n});throw n}}async signInWithIdToken(e){try{const{options:t,provider:s,token:r,access_token:n,nonce:a}=e,i=await Pu(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:s,id_token:r,access_token:n,nonce:a,gotrue_meta_security:{captcha_token:null==t?void 0:t.captchaToken}},xform:Iu}),{data:o,error:l}=i;if(l)return this._returnResult({data:{user:null,session:null},error:l});if(!o||!o.session||!o.user){const e=new Zd;return this._returnResult({data:{user:null,session:null},error:e})}return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",o.session)),this._returnResult({data:o,error:l})}catch(t){if(Wd(t))return this._returnResult({data:{user:null,session:null},error:t});throw t}}async signInWithOtp(e){var t,s,r,n,a;try{if("email"in e){const{email:r,options:n}=e;let a=null,i=null;"pkce"===this.flowType&&([a,i]=await Nu(this.storage,this.storageKey));const{error:o}=await Pu(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:r,data:null!==(t=null==n?void 0:n.data)&&void 0!==t?t:{},create_user:null===(s=null==n?void 0:n.shouldCreateUser)||void 0===s||s,gotrue_meta_security:{captcha_token:null==n?void 0:n.captchaToken},code_challenge:a,code_challenge_method:i},redirectTo:null==n?void 0:n.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:o})}if("phone"in e){const{phone:t,options:s}=e,{data:i,error:o}=await Pu(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:t,data:null!==(r=null==s?void 0:s.data)&&void 0!==r?r:{},create_user:null===(n=null==s?void 0:s.shouldCreateUser)||void 0===n||n,gotrue_meta_security:{captcha_token:null==s?void 0:s.captchaToken},channel:null!==(a=null==s?void 0:s.channel)&&void 0!==a?a:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:null==i?void 0:i.message_id},error:o})}throw new Jd("You must provide either an email or phone number.")}catch(i){if(Wd(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async verifyOtp(e){var t,s;try{let r,n;"options"in e&&(r=null===(t=e.options)||void 0===t?void 0:t.redirectTo,n=null===(s=e.options)||void 0===s?void 0:s.captchaToken);const{data:a,error:i}=await Pu(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:n}}),redirectTo:r,xform:Iu});if(i)throw i;if(!a){throw new Error("An error occurred on token verification.")}const o=a.session,l=a.user;return(null==o?void 0:o.access_token)&&(await this._saveSession(o),await this._notifyAllSubscribers("recovery"==e.type?"PASSWORD_RECOVERY":"SIGNED_IN",o)),this._returnResult({data:{user:l,session:o},error:null})}catch(r){if(Wd(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithSSO(e){var t,s,r,n,a;try{let i=null,o=null;"pkce"===this.flowType&&([i,o]=await Nu(this.storage,this.storageKey));const l=await Pu(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:null!==(s=null===(t=e.options)||void 0===t?void 0:t.redirectTo)&&void 0!==s?s:void 0}),(null===(r=null==e?void 0:e.options)||void 0===r?void 0:r.captchaToken)?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:i,code_challenge_method:o}),headers:this.headers,xform:$u});return(null===(n=l.data)||void 0===n?void 0:n.url)&&mu()&&!(null===(a=e.options)||void 0===a?void 0:a.skipBrowserRedirect)&&window.location.assign(l.data.url),this._returnResult(l)}catch(i){if(Wd(i))return this._returnResult({data:null,error:i});throw i}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:t},error:s}=e;if(s)throw s;if(!t)throw new Gd;const{error:r}=await Pu(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:t.access_token});return this._returnResult({data:{user:null,session:null},error:r})})}catch(e){if(Wd(e))return this._returnResult({data:{user:null,session:null},error:e});throw e}}async resend(e){try{const t=`${this.url}/resend`;if("email"in e){const{email:s,type:r,options:n}=e,{error:a}=await Pu(this.fetch,"POST",t,{headers:this.headers,body:{email:s,type:r,gotrue_meta_security:{captcha_token:null==n?void 0:n.captchaToken}},redirectTo:null==n?void 0:n.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:a})}if("phone"in e){const{phone:s,type:r,options:n}=e,{data:a,error:i}=await Pu(this.fetch,"POST",t,{headers:this.headers,body:{phone:s,type:r,gotrue_meta_security:{captcha_token:null==n?void 0:n.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:null==a?void 0:a.message_id},error:i})}throw new Jd("You must provide either an email or phone number and a type")}catch(t){if(Wd(t))return this._returnResult({data:{user:null,session:null},error:t});throw t}}async getSession(){await this.initializePromise;return await this._acquireLock(-1,async()=>this._useSession(async e=>e))}async _acquireLock(e,t){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const e=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await e,await t()))();return this.pendingInLock.push((async()=>{try{await s}catch(e){}})()),s}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const e=t();for(this.pendingInLock.push((async()=>{try{await e}catch(t){}})()),await e;this.pendingInLock.length;){const e=[...this.pendingInLock];await Promise.all(e),this.pendingInLock.splice(0,e.length)}return await e}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const t=await this.__loadSession();return await e(t)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",(new Error).stack);try{let e=null;const t=await vu(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",t),null!==t&&(this._isValidSession(t)?e=t:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const s=!!e.expires_at&&1e3*e.expires_at-Date.now()<Ld;if(this._debug("#__loadSession()",`session has${s?"":" not"} expired`,"expires_at",e.expires_at),!s){if(this.userStorage){const t=await vu(this.userStorage,this.storageKey+"-user");(null==t?void 0:t.user)?e.user=t.user:e.user=Eu()}if(this.storage.isServer&&e.user&&!e.user.__isUserNotAvailableProxy){const t={value:this.suppressGetSessionWarning};e.user=function(e,t){return new Proxy(e,{get:(e,s,r)=>{if("__isInsecureUserWarningProxy"===s)return!0;if("symbol"==typeof s){const t=s.toString();if("Symbol(Symbol.toPrimitive)"===t||"Symbol(Symbol.toStringTag)"===t||"Symbol(util.inspect.custom)"===t||"Symbol(nodejs.util.inspect.custom)"===t)return Reflect.get(e,s,r)}return t.value||"string"!=typeof s||(t.value=!0),Reflect.get(e,s,r)}})}(e.user,t),t.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:e},error:null}}const{data:r,error:n}=await this._callRefreshToken(e.refresh_token);return n?this._returnResult({data:{session:null},error:n}):this._returnResult({data:{session:r},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(e){if(e)return await this._getUser(e);await this.initializePromise;return await this._acquireLock(-1,async()=>await this._getUser())}async _getUser(e){try{return e?await Pu(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:Du}):await this._useSession(async e=>{var t,s,r;const{data:n,error:a}=e;if(a)throw a;return(null===(t=n.session)||void 0===t?void 0:t.access_token)||this.hasCustomAuthorizationHeader?await Pu(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:null!==(r=null===(s=n.session)||void 0===s?void 0:s.access_token)&&void 0!==r?r:void 0,xform:Du}):{data:{user:null},error:new Gd}})}catch(t){if(Wd(t))return function(e){return Wd(e)&&"AuthSessionMissingError"===e.name}(t)&&(await this._removeSession(),await yu(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:t});throw t}}async updateUser(e,t={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,t))}async _updateUser(e,t={}){try{return await this._useSession(async s=>{const{data:r,error:n}=s;if(n)throw n;if(!r.session)throw new Gd;const a=r.session;let i=null,o=null;"pkce"===this.flowType&&null!=e.email&&([i,o]=await Nu(this.storage,this.storageKey));const{data:l,error:c}=await Pu(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:null==t?void 0:t.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:i,code_challenge_method:o}),jwt:a.access_token,xform:Du});if(c)throw c;return a.user=l.user,await this._saveSession(a),await this._notifyAllSubscribers("USER_UPDATED",a),this._returnResult({data:{user:a.user},error:null})})}catch(s){if(Wd(s))return this._returnResult({data:{user:null},error:s});throw s}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new Gd;const t=Date.now()/1e3;let s=t,r=!0,n=null;const{payload:a}=wu(e.access_token);if(a.exp&&(s=a.exp,r=s<=t),r){const{data:t,error:s}=await this._callRefreshToken(e.refresh_token);if(s)return this._returnResult({data:{user:null,session:null},error:s});if(!t)return{data:{user:null,session:null},error:null};n=t}else{const{data:r,error:a}=await this._getUser(e.access_token);if(a)throw a;n={access_token:e.access_token,refresh_token:e.refresh_token,user:r.user,token_type:"bearer",expires_in:s-t,expires_at:s},await this._saveSession(n),await this._notifyAllSubscribers("SIGNED_IN",n)}return this._returnResult({data:{user:n.user,session:n},error:null})}catch(t){if(Wd(t))return this._returnResult({data:{session:null,user:null},error:t});throw t}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async t=>{var s;if(!e){const{data:r,error:n}=t;if(n)throw n;e=null!==(s=r.session)&&void 0!==s?s:void 0}if(!(null==e?void 0:e.refresh_token))throw new Gd;const{data:r,error:n}=await this._callRefreshToken(e.refresh_token);return n?this._returnResult({data:{user:null,session:null},error:n}):r?this._returnResult({data:{user:r.user,session:r},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(t){if(Wd(t))return this._returnResult({data:{user:null,session:null},error:t});throw t}}async _getSessionFromURL(e,t){try{if(!mu())throw new Yd("No browser detected.");if(e.error||e.error_description||e.error_code)throw new Yd(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(t){case"implicit":if("pkce"===this.flowType)throw new Qd("Not a valid PKCE flow url.");break;case"pkce":if("implicit"===this.flowType)throw new Yd("Not a valid implicit grant flow url.")}if("pkce"===t){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new Qd("No code detected.");const{data:t,error:s}=await this._exchangeCodeForSession(e.code);if(s)throw s;const r=new URL(window.location.href);return r.searchParams.delete("code"),window.history.replaceState(window.history.state,"",r.toString()),{data:{session:t.session,redirectType:null},error:null}}const{provider_token:s,provider_refresh_token:r,access_token:n,refresh_token:a,expires_in:i,expires_at:o,token_type:l}=e;if(!(n&&i&&a&&l))throw new Yd("No session defined in URL");const c=Math.round(Date.now()/1e3),d=parseInt(i);let u=c+d;o&&(u=parseInt(o));const{data:h,error:m}=await this._getUser(n);if(m)throw m;const p={provider_token:s,provider_refresh_token:r,access_token:n,expires_in:d,expires_at:u,refresh_token:a,token_type:l,user:h.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:p,redirectType:e.type},error:null})}catch(s){if(Wd(s))return this._returnResult({data:{session:null,redirectType:null},error:s});throw s}}_isImplicitGrantCallback(e){return Boolean(e.access_token||e.error_description)}async _isPKCECallback(e){const t=await vu(this.storage,`${this.storageKey}-code-verifier`);return!(!e.code||!t)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async t=>{var s;const{data:r,error:n}=t;if(n)return this._returnResult({error:n});const a=null===(s=r.session)||void 0===s?void 0:s.access_token;if(a){const{error:t}=await this.admin.signOut(a,e);if(t&&(!function(e){return Wd(e)&&"AuthApiError"===e.name}(t)||404!==t.status&&401!==t.status&&403!==t.status))return this._returnResult({error:t})}return"others"!==e&&(await this._removeSession(),await yu(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(e){const t=Symbol("auth-callback"),s={id:t,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",t),this.stateChangeEmitters.delete(t)}};return this._debug("#onAuthStateChange()","registered callback with id",t),this.stateChangeEmitters.set(t,s),(async()=>{await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(t)})})(),{data:{subscription:s}}}async _emitInitialSession(e){return await this._useSession(async t=>{var s,r;try{const{data:{session:r},error:n}=t;if(n)throw n;await(null===(s=this.stateChangeEmitters.get(e))||void 0===s?void 0:s.callback("INITIAL_SESSION",r)),this._debug("INITIAL_SESSION","callback id",e,"session",r)}catch(n){await(null===(r=this.stateChangeEmitters.get(e))||void 0===r?void 0:r.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",n)}})}async resetPasswordForEmail(e,t={}){let s=null,r=null;"pkce"===this.flowType&&([s,r]=await Nu(this.storage,this.storageKey,!0));try{return await Pu(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:s,code_challenge_method:r,gotrue_meta_security:{captcha_token:t.captchaToken}},headers:this.headers,redirectTo:t.redirectTo})}catch(n){if(Wd(n))return this._returnResult({data:null,error:n});throw n}}async getUserIdentities(){var e;try{const{data:t,error:s}=await this.getUser();if(s)throw s;return this._returnResult({data:{identities:null!==(e=t.user.identities)&&void 0!==e?e:[]},error:null})}catch(t){if(Wd(t))return this._returnResult({data:null,error:t});throw t}}async linkIdentity(e){return"token"in e?this.linkIdentityIdToken(e):this.linkIdentityOAuth(e)}async linkIdentityOAuth(e){var t;try{const{data:s,error:r}=await this._useSession(async t=>{var s,r,n,a,i;const{data:o,error:l}=t;if(l)throw l;const c=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:null===(s=e.options)||void 0===s?void 0:s.redirectTo,scopes:null===(r=e.options)||void 0===r?void 0:r.scopes,queryParams:null===(n=e.options)||void 0===n?void 0:n.queryParams,skipBrowserRedirect:!0});return await Pu(this.fetch,"GET",c,{headers:this.headers,jwt:null!==(i=null===(a=o.session)||void 0===a?void 0:a.access_token)&&void 0!==i?i:void 0})});if(r)throw r;return mu()&&!(null===(t=e.options)||void 0===t?void 0:t.skipBrowserRedirect)&&window.location.assign(null==s?void 0:s.url),this._returnResult({data:{provider:e.provider,url:null==s?void 0:s.url},error:null})}catch(s){if(Wd(s))return this._returnResult({data:{provider:e.provider,url:null},error:s});throw s}}async linkIdentityIdToken(e){return await this._useSession(async t=>{var s;try{const{error:r,data:{session:n}}=t;if(r)throw r;const{options:a,provider:i,token:o,access_token:l,nonce:c}=e,d=await Pu(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:null!==(s=null==n?void 0:n.access_token)&&void 0!==s?s:void 0,body:{provider:i,id_token:o,access_token:l,nonce:c,link_identity:!0,gotrue_meta_security:{captcha_token:null==a?void 0:a.captchaToken}},xform:Iu}),{data:u,error:h}=d;return h?this._returnResult({data:{user:null,session:null},error:h}):u&&u.session&&u.user?(u.session&&(await this._saveSession(u.session),await this._notifyAllSubscribers("USER_UPDATED",u.session)),this._returnResult({data:u,error:h})):this._returnResult({data:{user:null,session:null},error:new Zd})}catch(r){if(Wd(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}})}async unlinkIdentity(e){try{return await this._useSession(async t=>{var s,r;const{data:n,error:a}=t;if(a)throw a;return await Pu(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:null!==(r=null===(s=n.session)||void 0===s?void 0:s.access_token)&&void 0!==r?r:void 0})})}catch(t){if(Wd(t))return this._returnResult({data:null,error:t});throw t}}async _refreshAccessToken(e){const t=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(t,"begin");try{const n=Date.now();return await(s=async s=>(s>0&&await async function(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}(200*Math.pow(2,s-1)),this._debug(t,"refreshing attempt",s),await Pu(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:Iu})),r=(e,t)=>{const s=200*Math.pow(2,e);return t&&eu(t)&&Date.now()+s-n<$d},new Promise((e,t)=>{(async()=>{for(let a=0;a<1/0;a++)try{const t=await s(a);if(!r(a,null,t))return void e(t)}catch(n){if(!r(a,n))return void t(n)}})()}))}catch(n){if(this._debug(t,"error",n),Wd(n))return this._returnResult({data:{session:null,user:null},error:n});throw n}finally{this._debug(t,"end")}var s,r}_isValidSession(e){return"object"==typeof e&&null!==e&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,t){const s=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:t.redirectTo,scopes:t.scopes,queryParams:t.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",t,"url",s),mu()&&!t.skipBrowserRedirect&&window.location.assign(s),{data:{provider:e,url:s},error:null}}async _recoverAndRefresh(){var e,t;const s="#_recoverAndRefresh()";this._debug(s,"begin");try{const n=await vu(this.storage,this.storageKey);if(n&&this.userStorage){let t=await vu(this.userStorage,this.storageKey+"-user");this.storage.isServer||!Object.is(this.storage,this.userStorage)||t||(t={user:n.user},await xu(this.userStorage,this.storageKey+"-user",t)),n.user=null!==(e=null==t?void 0:t.user)&&void 0!==e?e:Eu()}else if(n&&!n.user&&!n.user){const e=await vu(this.storage,this.storageKey+"-user");e&&(null==e?void 0:e.user)?(n.user=e.user,await yu(this.storage,this.storageKey+"-user"),await xu(this.storage,this.storageKey,n)):n.user=Eu()}if(this._debug(s,"session from storage",n),!this._isValidSession(n))return this._debug(s,"session is not valid"),void(null!==n&&await this._removeSession());const a=1e3*(null!==(t=n.expires_at)&&void 0!==t?t:1/0)-Date.now()<Ld;if(this._debug(s,`session has${a?"":" not"} expired with margin of 90000s`),a){if(this.autoRefreshToken&&n.refresh_token){const{error:e}=await this._callRefreshToken(n.refresh_token);e&&(eu(e)||(this._debug(s,"refresh failed with a non-retryable error, removing the session",e),await this._removeSession()))}}else if(n.user&&!0===n.user.__isUserNotAvailableProxy)try{const{data:e,error:t}=await this._getUser(n.access_token);!t&&(null==e?void 0:e.user)?(n.user=e.user,await this._saveSession(n),await this._notifyAllSubscribers("SIGNED_IN",n)):this._debug(s,"could not get user data, skipping SIGNED_IN notification")}catch(r){this._debug(s,"error getting user data, skipping SIGNED_IN notification",r)}else await this._notifyAllSubscribers("SIGNED_IN",n)}catch(n){return void this._debug(s,"error",n)}finally{this._debug(s,"end")}}async _callRefreshToken(e){var t,s;if(!e)throw new Gd;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const r=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(r,"begin");try{this.refreshingDeferred=new bu;const{data:t,error:s}=await this._refreshAccessToken(e);if(s)throw s;if(!t.session)throw new Gd;await this._saveSession(t.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",t.session);const r={data:t.session,error:null};return this.refreshingDeferred.resolve(r),r}catch(n){if(this._debug(r,"error",n),Wd(n)){const e={data:null,error:n};return eu(n)||await this._removeSession(),null===(t=this.refreshingDeferred)||void 0===t||t.resolve(e),e}throw null===(s=this.refreshingDeferred)||void 0===s||s.reject(n),n}finally{this.refreshingDeferred=null,this._debug(r,"end")}}async _notifyAllSubscribers(e,t,s=!0){const r=`#_notifyAllSubscribers(${e})`;this._debug(r,"begin",t,`broadcast = ${s}`);try{this.broadcastChannel&&s&&this.broadcastChannel.postMessage({event:e,session:t});const r=[],n=Array.from(this.stateChangeEmitters.values()).map(async s=>{try{await s.callback(e,t)}catch(n){r.push(n)}});if(await Promise.all(n),r.length>0){for(let e=0;e<r.length;e+=1);throw r[0]}}finally{this._debug(r,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0;const t=Object.assign({},e),s=t.user&&!0===t.user.__isUserNotAvailableProxy;if(this.userStorage){!s&&t.user&&await xu(this.userStorage,this.storageKey+"-user",{user:t.user});const e=Object.assign({},t);delete e.user;const r=Tu(e);await xu(this.storage,this.storageKey,r)}else{const e=Tu(t);await xu(this.storage,this.storageKey,e)}}async _removeSession(){this._debug("#_removeSession()"),await yu(this.storage,this.storageKey),await yu(this.storage,this.storageKey+"-code-verifier"),await yu(this.storage,this.storageKey+"-user"),this.userStorage&&await yu(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&mu()&&(null===window||void 0===window?void 0:window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(t){}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),$d);this.autoRefreshTicker=e,e&&"object"==typeof e&&"function"==typeof e.unref?e.unref():"undefined"!=typeof Deno&&"function"==typeof Deno.unrefTimer&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async e=>{const{data:{session:s}}=e;if(!s||!s.refresh_token||!s.expires_at)return void this._debug("#_autoRefreshTokenTick()","no session");const r=Math.floor((1e3*s.expires_at-t)/$d);this._debug("#_autoRefreshTokenTick()",`access token expires in ${r} ticks, a tick lasts 30000ms, refresh threshold is 3 ticks`),r<=3&&await this._callRefreshToken(s.refresh_token)})}catch(e){}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(!(e.isAcquireTimeout||e instanceof Wu))throw e;this._debug("auto refresh token tick lock not available")}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!mu()||!(null===window||void 0===window?void 0:window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),null===window||void 0===window||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){}}async _onVisibilityChanged(e){const t=`#_onVisibilityChanged(${e})`;this._debug(t,"visibilityState",document.visibilityState),"visible"===document.visibilityState?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{"visible"===document.visibilityState?await this._recoverAndRefresh():this._debug(t,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting")}))):"hidden"===document.visibilityState&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,t,s){const r=[`provider=${encodeURIComponent(t)}`];if((null==s?void 0:s.redirectTo)&&r.push(`redirect_to=${encodeURIComponent(s.redirectTo)}`),(null==s?void 0:s.scopes)&&r.push(`scopes=${encodeURIComponent(s.scopes)}`),"pkce"===this.flowType){const[e,t]=await Nu(this.storage,this.storageKey),s=new URLSearchParams({code_challenge:`${encodeURIComponent(e)}`,code_challenge_method:`${encodeURIComponent(t)}`});r.push(s.toString())}if(null==s?void 0:s.queryParams){const e=new URLSearchParams(s.queryParams);r.push(e.toString())}return(null==s?void 0:s.skipBrowserRedirect)&&r.push(`skip_http_redirect=${s.skipBrowserRedirect}`),`${e}?${r.join("&")}`}async _unenroll(e){try{return await this._useSession(async t=>{var s;const{data:r,error:n}=t;return n?this._returnResult({data:null,error:n}):await Pu(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:null===(s=null==r?void 0:r.session)||void 0===s?void 0:s.access_token})})}catch(t){if(Wd(t))return this._returnResult({data:null,error:t});throw t}}async _enroll(e){try{return await this._useSession(async t=>{var s,r;const{data:n,error:a}=t;if(a)return this._returnResult({data:null,error:a});const i=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},"phone"===e.factorType?{phone:e.phone}:"totp"===e.factorType?{issuer:e.issuer}:{}),{data:o,error:l}=await Pu(this.fetch,"POST",`${this.url}/factors`,{body:i,headers:this.headers,jwt:null===(s=null==n?void 0:n.session)||void 0===s?void 0:s.access_token});return l?this._returnResult({data:null,error:l}):("totp"===e.factorType&&"totp"===o.type&&(null===(r=null==o?void 0:o.totp)||void 0===r?void 0:r.qr_code)&&(o.totp.qr_code=`data:image/svg+xml;utf-8,${o.totp.qr_code}`),this._returnResult({data:o,error:null}))})}catch(t){if(Wd(t))return this._returnResult({data:null,error:t});throw t}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async t=>{var s;const{data:r,error:n}=t;if(n)return this._returnResult({data:null,error:n});const a=Object.assign({challenge_id:e.challengeId},"webauthn"in e?{webauthn:Object.assign(Object.assign({},e.webauthn),{credential_response:"create"===e.webauthn.type?sh(e.webauthn.credential_response):rh(e.webauthn.credential_response)})}:{code:e.code}),{data:i,error:o}=await Pu(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:a,headers:this.headers,jwt:null===(s=null==r?void 0:r.session)||void 0===s?void 0:s.access_token});return o?this._returnResult({data:null,error:o}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+i.expires_in},i)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",i),this._returnResult({data:i,error:o}))})}catch(t){if(Wd(t))return this._returnResult({data:null,error:t});throw t}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async t=>{var s;const{data:r,error:n}=t;if(n)return this._returnResult({data:null,error:n});const a=await Pu(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:e,headers:this.headers,jwt:null===(s=null==r?void 0:r.session)||void 0===s?void 0:s.access_token});if(a.error)return a;const{data:i}=a;if("webauthn"!==i.type)return{data:i,error:null};switch(i.webauthn.type){case"create":return{data:Object.assign(Object.assign({},i),{webauthn:Object.assign(Object.assign({},i.webauthn),{credential_options:Object.assign(Object.assign({},i.webauthn.credential_options),{publicKey:eh(i.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},i),{webauthn:Object.assign(Object.assign({},i.webauthn),{credential_options:Object.assign(Object.assign({},i.webauthn.credential_options),{publicKey:th(i.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(t){if(Wd(t))return this._returnResult({data:null,error:t});throw t}})}async _challengeAndVerify(e){const{data:t,error:s}=await this._challenge({factorId:e.factorId});return s?this._returnResult({data:null,error:s}):await this._verify({factorId:e.factorId,challengeId:t.id,code:e.code})}async _listFactors(){var e;const{data:{user:t},error:s}=await this.getUser();if(s)return{data:null,error:s};const r={all:[],phone:[],totp:[],webauthn:[]};for(const n of null!==(e=null==t?void 0:t.factors)&&void 0!==e?e:[])r.all.push(n),"verified"===n.status&&r[n.factor_type].push(n);return{data:r,error:null}}async _getAuthenticatorAssuranceLevel(){var e,t;const{data:{session:s},error:r}=await this.getSession();if(r)return this._returnResult({data:null,error:r});if(!s)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:n}=wu(s.access_token);let a=null;n.aal&&(a=n.aal);let i=a;(null!==(t=null===(e=s.user.factors)||void 0===e?void 0:e.filter(e=>"verified"===e.status))&&void 0!==t?t:[]).length>0&&(i="aal2");return{data:{currentLevel:a,nextLevel:i,currentAuthenticationMethods:n.amr||[]},error:null}}async _getAuthorizationDetails(e){try{return await this._useSession(async t=>{const{data:{session:s},error:r}=t;return r?this._returnResult({data:null,error:r}):s?await Pu(this.fetch,"GET",`${this.url}/oauth/authorizations/${e}`,{headers:this.headers,jwt:s.access_token,xform:e=>({data:e,error:null})}):this._returnResult({data:null,error:new Gd})})}catch(t){if(Wd(t))return this._returnResult({data:null,error:t});throw t}}async _approveAuthorization(e,t){try{return await this._useSession(async s=>{const{data:{session:r},error:n}=s;if(n)return this._returnResult({data:null,error:n});if(!r)return this._returnResult({data:null,error:new Gd});const a=await Pu(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:r.access_token,body:{action:"approve"},xform:e=>({data:e,error:null})});return a.data&&a.data.redirect_url&&mu()&&!(null==t?void 0:t.skipBrowserRedirect)&&window.location.assign(a.data.redirect_url),a})}catch(s){if(Wd(s))return this._returnResult({data:null,error:s});throw s}}async _denyAuthorization(e,t){try{return await this._useSession(async s=>{const{data:{session:r},error:n}=s;if(n)return this._returnResult({data:null,error:n});if(!r)return this._returnResult({data:null,error:new Gd});const a=await Pu(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:r.access_token,body:{action:"deny"},xform:e=>({data:e,error:null})});return a.data&&a.data.redirect_url&&mu()&&!(null==t?void 0:t.skipBrowserRedirect)&&window.location.assign(a.data.redirect_url),a})}catch(s){if(Wd(s))return this._returnResult({data:null,error:s});throw s}}async fetchJwk(e,t={keys:[]}){let s=t.keys.find(t=>t.kid===e);if(s)return s;const r=Date.now();if(s=this.jwks.keys.find(t=>t.kid===e),s&&this.jwks_cached_at+6e5>r)return s;const{data:n,error:a}=await Pu(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(a)throw a;return n.keys&&0!==n.keys.length?(this.jwks=n,this.jwks_cached_at=r,s=n.keys.find(t=>t.kid===e),s||null):null}async getClaims(e,t={}){try{let s=e;if(!s){const{data:e,error:t}=await this.getSession();if(t||!e.session)return this._returnResult({data:null,error:t});s=e.session.access_token}const{header:r,payload:n,signature:a,raw:{header:i,payload:o}}=wu(s);(null==t?void 0:t.allowExpired)||function(e){if(!e)throw new Error("Missing exp claim");if(e<=Math.floor(Date.now()/1e3))throw new Error("JWT has expired")}(n.exp);const l=r.alg&&!r.alg.startsWith("HS")&&r.kid&&"crypto"in globalThis&&"subtle"in globalThis.crypto?await this.fetchJwk(r.kid,(null==t?void 0:t.keys)?{keys:t.keys}:null==t?void 0:t.jwks):null;if(!l){const{error:e}=await this.getUser(s);if(e)throw e;return{data:{claims:n,header:r,signature:a},error:null}}const c=function(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}(r.alg),d=await crypto.subtle.importKey("jwk",l,c,!0,["verify"]);if(!(await crypto.subtle.verify(c,d,a,uu(`${i}.${o}`))))throw new su("Invalid JWT signature");return{data:{claims:n,header:r,signature:a},error:null}}catch(s){if(Wd(s))return this._returnResult({data:null,error:s});throw s}}}mh.nextInstanceID={};const ph=mh;class fh extends ph{constructor(e){super(e)}}class gh{constructor(e,t,s){var r,n,a;this.supabaseUrl=e,this.supabaseKey=t;const i=function(e){const t=null==e?void 0:e.trim();if(!t)throw new Error("supabaseUrl is required.");if(!t.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL((s=t).endsWith("/")?s:s+"/")}catch(r){throw Error("Invalid supabaseUrl: Provided URL is malformed.")}var s}(e);if(!t)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",i),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",i),this.storageUrl=new URL("storage/v1",i),this.functionsUrl=new URL("functions/v1",i);const o=`sb-${i.hostname.split(".")[0]}-auth-token`,l=function(e,t){var s,r;const{db:n,auth:a,realtime:i,global:o}=e,{db:l,auth:c,realtime:d,global:u}=t,h={db:Object.assign(Object.assign({},l),n),auth:Object.assign(Object.assign({},c),a),realtime:Object.assign(Object.assign({},d),i),storage:{},global:Object.assign(Object.assign(Object.assign({},u),o),{headers:Object.assign(Object.assign({},null!==(s=null==u?void 0:u.headers)&&void 0!==s?s:{}),null!==(r=null==o?void 0:o.headers)&&void 0!==r?r:{})}),accessToken:async()=>""};return e.accessToken?h.accessToken=e.accessToken:delete h.accessToken,h}(null!=s?s:{},{db:Ad,realtime:Id,auth:Object.assign(Object.assign({},Pd),{storageKey:o}),global:Od});this.storageKey=null!==(r=l.auth.storageKey)&&void 0!==r?r:"",this.headers=null!==(n=l.global.headers)&&void 0!==n?n:{},l.accessToken?(this.accessToken=l.accessToken,this.auth=new Proxy({},{get:(e,t)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(t)} is not possible`)}})):this.auth=this._initSupabaseAuthClient(null!==(a=l.auth)&&void 0!==a?a:{},this.headers,l.global.fetch),this.fetch=Md(t,this._getAccessToken.bind(this),l.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},l.realtime)),this.accessToken&&this.accessToken().then(e=>this.realtime.setAuth(e)).catch(e=>{}),this.rest=new Hl(new URL("rest/v1",i).href,{headers:this.headers,schema:l.db.schema,fetch:this.fetch}),this.storage=new Td(this.storageUrl.href,this.headers,this.fetch,null==s?void 0:s.storage),l.accessToken||this._listenForAuthEvents()}get functions(){return new dl(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,t={},s={head:!1,get:!1,count:void 0}){return this.rest.rpc(e,t,s)}channel(e,t={config:{}}){return this.realtime.channel(e,t)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var e,t;if(this.accessToken)return await this.accessToken();const{data:s}=await this.auth.getSession();return null!==(t=null===(e=s.session)||void 0===e?void 0:e.access_token)&&void 0!==t?t:this.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:t,detectSessionInUrl:s,storage:r,userStorage:n,storageKey:a,flowType:i,lock:o,debug:l,throwOnError:c},d,u){const h={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new fh({url:this.authUrl.href,headers:Object.assign(Object.assign({},h),d),storageKey:a,autoRefreshToken:e,persistSession:t,detectSessionInUrl:s,storage:r,userStorage:n,flowType:i,lock:o,debug:l,throwOnError:c,fetch:u,hasCustomAuthorizationHeader:Object.keys(this.headers).some(e=>"authorization"===e.toLowerCase())})}_initRealtimeClient(e){return new Fc(this.realtimeUrl.href,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},null==e?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((e,t)=>{this._handleTokenChanged(e,"CLIENT",null==t?void 0:t.access_token)})}_handleTokenChanged(e,t,s){"TOKEN_REFRESHED"!==e&&"SIGNED_IN"!==e||this.changedAccessToken===s?"SIGNED_OUT"===e&&(this.realtime.setAuth(),"STORAGE"==t&&this.auth.signOut(),this.changedAccessToken=void 0):(this.changedAccessToken=s,this.realtime.setAuth(s))}}!function(){if("undefined"!=typeof window)return!1;if("undefined"==typeof process)return!1;const e=process.version;if(null==e)return!1;const t=e.match(/^v(\d+)\./);!!t&&parseInt(t[1],10)}();const xh=(vh={auth:{storage:localStorage,persistSession:!0,autoRefreshToken:!0}},new gh("https://izaixznfdhdmavtwdhnr.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Iml6YWl4em5mZGhkbWF2dHdkaG5yIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjI5Mzc0MTEsImV4cCI6MjA3ODUxMzQxMX0.HnWBX3B7ocglUgZ91Say1TPkWQ6f5NbDF4pYL3CirRs",vh));var vh;const yh=rt,bh=nt,wh=st,jh=zt.forwardRef(({className:e,...t},s)=>Ee.jsx(Ye,{ref:s,className:Wa("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t}));jh.displayName=Ye.displayName;const _h=zt.forwardRef(({className:e,children:t,...s},r)=>Ee.jsxs(wh,{children:[Ee.jsx(jh,{}),Ee.jsxs(Qe,{ref:r,className:Wa("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...s,children:[t,Ee.jsxs(Xe,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity data-[state=open]:bg-accent data-[state=open]:text-muted-foreground hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none",children:[Ee.jsx(Yn,{className:"h-4 w-4"}),Ee.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));_h.displayName=Qe.displayName;const Nh=({className:e,...t})=>Ee.jsx("div",{className:Wa("flex flex-col space-y-1.5 text-center sm:text-left",e),...t});Nh.displayName="DialogHeader";const kh=zt.forwardRef(({className:e,...t},s)=>Ee.jsx(et,{ref:s,className:Wa("text-lg font-semibold leading-none tracking-tight",e),...t}));kh.displayName=et.displayName;function Sh(){const[e,t]=zt.useState(null),[s,r]=zt.useState(!1);zt.useEffect(()=>{n()},[]);const n=async()=>{try{const{data:e,error:s}=await xh.from("announcements").select("*").eq("is_active",!0).order("created_at",{ascending:!1}).limit(1).maybeSingle();if(s)throw s;e&&(t(e),r(!0))}catch(e){}};return e?Ee.jsx(yh,{open:s,onOpenChange:r,children:Ee.jsxs(_h,{className:"max-w-2xl",children:[Ee.jsx(Nh,{children:Ee.jsx(kh,{className:"text-2xl",children:e.title})}),Ee.jsxs("div",{className:"space-y-4",children:[e.image_url&&Ee.jsx("img",{src:e.image_url,alt:e.title,className:"w-full h-auto rounded-lg object-cover max-h-96"}),Ee.jsx("p",{className:"text-muted-foreground whitespace-pre-wrap",children:e.message})]})]})}):null}zt.forwardRef(({className:e,...t},s)=>Ee.jsx(tt,{ref:s,className:Wa("text-sm text-muted-foreground",e),...t})).displayName=tt.displayName;var Ch="Collapsible",[Eh,Th]=Se(Ch),[Rh,Oh]=Eh(Ch),Ah=zt.forwardRef((e,t)=>{const{__scopeCollapsible:s,open:r,defaultOpen:n,disabled:a,onOpenChange:i,...o}=e,[l,c]=Ae({prop:r,defaultProp:n??!1,onChange:i,caller:Ch});return Ee.jsx(Rh,{scope:s,disabled:a,contentId:at(),open:l,onOpenToggle:zt.useCallback(()=>c(e=>!e),[c]),children:Ee.jsx(Re.div,{"data-state":Lh(l),"data-disabled":a?"":void 0,...o,ref:t})})});Ah.displayName=Ch;var Ph="CollapsibleTrigger",Ih=zt.forwardRef((e,t)=>{const{__scopeCollapsible:s,...r}=e,n=Oh(Ph,s);return Ee.jsx(Re.button,{type:"button","aria-controls":n.contentId,"aria-expanded":n.open||!1,"data-state":Lh(n.open),"data-disabled":n.disabled?"":void 0,disabled:n.disabled,...r,ref:t,onClick:Me(e.onClick,n.onOpenToggle)})});Ih.displayName=Ph;var Mh="CollapsibleContent",Dh=zt.forwardRef((e,t)=>{const{forceMount:s,...r}=e,n=Oh(Mh,e.__scopeCollapsible);return Ee.jsx(Pe,{present:s||n.open,children:({present:e})=>Ee.jsx($h,{...r,ref:t,present:e})})});Dh.displayName=Mh;var $h=zt.forwardRef((e,t)=>{const{__scopeCollapsible:s,present:r,children:n,...a}=e,i=Oh(Mh,s),[o,l]=zt.useState(r),c=zt.useRef(null),d=Ce(t,c),u=zt.useRef(0),h=u.current,m=zt.useRef(0),p=m.current,f=i.open||o,g=zt.useRef(f),x=zt.useRef(void 0);return zt.useEffect(()=>{const e=requestAnimationFrame(()=>g.current=!1);return()=>cancelAnimationFrame(e)},[]),Le(()=>{const e=c.current;if(e){x.current=x.current||{transitionDuration:e.style.transitionDuration,animationName:e.style.animationName},e.style.transitionDuration="0s",e.style.animationName="none";const t=e.getBoundingClientRect();u.current=t.height,m.current=t.width,g.current||(e.style.transitionDuration=x.current.transitionDuration,e.style.animationName=x.current.animationName),l(r)}},[i.open,r]),Ee.jsx(Re.div,{"data-state":Lh(i.open),"data-disabled":i.disabled?"":void 0,id:i.contentId,hidden:!f,...a,ref:d,style:{"--radix-collapsible-content-height":h?`${h}px`:void 0,"--radix-collapsible-content-width":p?`${p}px`:void 0,...e.style},children:f&&n})});function Lh(e){return e?"open":"closed"}var Uh=Ah,Fh=Ih,Bh=Dh,zh="Accordion",qh=["Home","End","ArrowDown","ArrowUp","ArrowLeft","ArrowRight"],[Wh,Hh,Kh]=ke(zh),[Vh,Gh]=Se(zh,[Kh,Th]),Zh=Th(),Jh=Bt.forwardRef((e,t)=>{const{type:s,...r}=e,n=r,a=r;return Ee.jsx(Wh.Provider,{scope:e.__scopeAccordion,children:"multiple"===s?Ee.jsx(sm,{...a,ref:t}):Ee.jsx(tm,{...n,ref:t})})});Jh.displayName=zh;var[Yh,Qh]=Vh(zh),[Xh,em]=Vh(zh,{collapsible:!1}),tm=Bt.forwardRef((e,t)=>{const{value:s,defaultValue:r,onValueChange:n=()=>{},collapsible:a=!1,...i}=e,[o,l]=Ae({prop:s,defaultProp:r??"",onChange:n,caller:zh});return Ee.jsx(Yh,{scope:e.__scopeAccordion,value:Bt.useMemo(()=>o?[o]:[],[o]),onItemOpen:l,onItemClose:Bt.useCallback(()=>a&&l(""),[a,l]),children:Ee.jsx(Xh,{scope:e.__scopeAccordion,collapsible:a,children:Ee.jsx(am,{...i,ref:t})})})}),sm=Bt.forwardRef((e,t)=>{const{value:s,defaultValue:r,onValueChange:n=()=>{},...a}=e,[i,o]=Ae({prop:s,defaultProp:r??[],onChange:n,caller:zh}),l=Bt.useCallback(e=>o((t=[])=>[...t,e]),[o]),c=Bt.useCallback(e=>o((t=[])=>t.filter(t=>t!==e)),[o]);return Ee.jsx(Yh,{scope:e.__scopeAccordion,value:i,onItemOpen:l,onItemClose:c,children:Ee.jsx(Xh,{scope:e.__scopeAccordion,collapsible:!0,children:Ee.jsx(am,{...a,ref:t})})})}),[rm,nm]=Vh(zh),am=Bt.forwardRef((e,t)=>{const{__scopeAccordion:s,disabled:r,dir:n,orientation:a="vertical",...i}=e,o=Bt.useRef(null),l=Ce(o,t),c=Hh(s),d="ltr"===it(n),u=Me(e.onKeyDown,e=>{var t;if(!qh.includes(e.key))return;const s=e.target,r=c().filter(e=>{var t;return!(null==(t=e.ref.current)?void 0:t.disabled)}),n=r.findIndex(e=>e.ref.current===s),i=r.length;if(-1===n)return;e.preventDefault();let o=n;const l=i-1,u=()=>{o=n+1,o>l&&(o=0)},h=()=>{o=n-1,o<0&&(o=l)};switch(e.key){case"Home":o=0;break;case"End":o=l;break;case"ArrowRight":"horizontal"===a&&(d?u():h());break;case"ArrowDown":"vertical"===a&&u();break;case"ArrowLeft":"horizontal"===a&&(d?h():u());break;case"ArrowUp":"vertical"===a&&h()}null==(t=r[o%i].ref.current)||t.focus()});return Ee.jsx(rm,{scope:s,disabled:r,direction:n,orientation:a,children:Ee.jsx(Wh.Slot,{scope:s,children:Ee.jsx(Re.div,{...i,"data-orientation":a,ref:l,onKeyDown:r?void 0:u})})})}),im="AccordionItem",[om,lm]=Vh(im),cm=Bt.forwardRef((e,t)=>{const{__scopeAccordion:s,value:r,...n}=e,a=nm(im,s),i=Qh(im,s),o=Zh(s),l=at(),c=r&&i.value.includes(r)||!1,d=a.disabled||e.disabled;return Ee.jsx(om,{scope:s,open:c,disabled:d,triggerId:l,children:Ee.jsx(Uh,{"data-orientation":a.orientation,"data-state":gm(c),...o,...n,ref:t,disabled:d,open:c,onOpenChange:e=>{e?i.onItemOpen(r):i.onItemClose(r)}})})});cm.displayName=im;var dm="AccordionHeader",um=Bt.forwardRef((e,t)=>{const{__scopeAccordion:s,...r}=e,n=nm(zh,s),a=lm(dm,s);return Ee.jsx(Re.h3,{"data-orientation":n.orientation,"data-state":gm(a.open),"data-disabled":a.disabled?"":void 0,...r,ref:t})});um.displayName=dm;var hm="AccordionTrigger",mm=Bt.forwardRef((e,t)=>{const{__scopeAccordion:s,...r}=e,n=nm(zh,s),a=lm(hm,s),i=em(hm,s),o=Zh(s);return Ee.jsx(Wh.ItemSlot,{scope:s,children:Ee.jsx(Fh,{"aria-disabled":a.open&&!i.collapsible||void 0,"data-orientation":n.orientation,id:a.triggerId,...o,...r,ref:t})})});mm.displayName=hm;var pm="AccordionContent",fm=Bt.forwardRef((e,t)=>{const{__scopeAccordion:s,...r}=e,n=nm(zh,s),a=lm(pm,s),i=Zh(s);return Ee.jsx(Bh,{role:"region","aria-labelledby":a.triggerId,"data-orientation":n.orientation,...i,...r,ref:t,style:{"--radix-accordion-content-height":"var(--radix-collapsible-content-height)","--radix-accordion-content-width":"var(--radix-collapsible-content-width)",...e.style}})});function gm(e){return e?"open":"closed"}fm.displayName=pm;var xm=cm,vm=um,ym=mm,bm=fm;const wm=Jh,jm=zt.forwardRef(({className:e,...t},s)=>Ee.jsx(xm,{ref:s,className:Wa("border-b",e),...t}));jm.displayName="AccordionItem";const _m=zt.forwardRef(({className:e,children:t,...s},r)=>Ee.jsx(vm,{className:"flex",children:Ee.jsxs(ym,{ref:r,className:Wa("flex flex-1 items-center justify-between py-4 font-medium transition-all hover:underline [&[data-state=open]>svg]:rotate-180",e),...s,children:[t,Ee.jsx(hn,{className:"h-4 w-4 shrink-0 transition-transform duration-200"})]})}));_m.displayName=ym.displayName;const Nm=zt.forwardRef(({className:e,children:t,...s},r)=>Ee.jsx(bm,{ref:r,className:"overflow-hidden text-sm transition-all data-[state=closed]:animate-accordion-up data-[state=open]:animate-accordion-down",...s,children:Ee.jsx("div",{className:Wa("pb-4 pt-0",e),children:t})}));Nm.displayName=bm.displayName;var km="NavigationMenu",[Sm,Cm,Em]=ke(km),[Tm,Rm,Om]=ke(km),[Am,Pm]=Se(km,[Em,Om]),[Im,Mm]=Am(km),[Dm,$m]=Am(km),Lm=zt.forwardRef((e,t)=>{const{__scopeNavigationMenu:s,value:r,onValueChange:n,defaultValue:a,delayDuration:i=200,skipDelayDuration:o=300,orientation:l="horizontal",dir:c,...d}=e,[u,h]=zt.useState(null),m=Ce(t,e=>h(e)),p=it(c),f=zt.useRef(0),g=zt.useRef(0),x=zt.useRef(0),[v,y]=zt.useState(!0),[b,w]=Ae({prop:r,onChange:e=>{const t=o>0;""!==e?(window.clearTimeout(x.current),t&&y(!1)):(window.clearTimeout(x.current),x.current=window.setTimeout(()=>y(!0),o)),null==n||n(e)},defaultProp:a??"",caller:km}),j=zt.useCallback(()=>{window.clearTimeout(g.current),g.current=window.setTimeout(()=>w(""),150)},[w]),_=zt.useCallback(e=>{window.clearTimeout(g.current),w(e)},[w]),N=zt.useCallback(e=>{b===e?window.clearTimeout(g.current):f.current=window.setTimeout(()=>{window.clearTimeout(g.current),w(e)},i)},[b,w,i]);return zt.useEffect(()=>()=>{window.clearTimeout(f.current),window.clearTimeout(g.current),window.clearTimeout(x.current)},[]),Ee.jsx(Fm,{scope:s,isRootMenu:!0,value:b,dir:p,orientation:l,rootNavigationMenu:u,onTriggerEnter:e=>{window.clearTimeout(f.current),v?N(e):_(e)},onTriggerLeave:()=>{window.clearTimeout(f.current),j()},onContentEnter:()=>window.clearTimeout(g.current),onContentLeave:j,onItemSelect:e=>{w(t=>t===e?"":e)},onItemDismiss:()=>w(""),children:Ee.jsx(Re.nav,{"aria-label":"Main","data-orientation":l,dir:p,...d,ref:m})})});Lm.displayName=km;var Um="NavigationMenuSub";zt.forwardRef((e,t)=>{const{__scopeNavigationMenu:s,value:r,onValueChange:n,defaultValue:a,orientation:i="horizontal",...o}=e,l=Mm(Um,s),[c,d]=Ae({prop:r,onChange:n,defaultProp:a??"",caller:Um});return Ee.jsx(Fm,{scope:s,isRootMenu:!1,value:c,dir:l.dir,orientation:i,rootNavigationMenu:l.rootNavigationMenu,onTriggerEnter:e=>d(e),onItemSelect:e=>d(e),onItemDismiss:()=>d(""),children:Ee.jsx(Re.div,{"data-orientation":i,...o,ref:t})})}).displayName=Um;var Fm=e=>{const{scope:t,isRootMenu:s,rootNavigationMenu:r,dir:n,orientation:a,children:i,value:o,onItemSelect:l,onItemDismiss:c,onTriggerEnter:d,onTriggerLeave:u,onContentEnter:h,onContentLeave:m}=e,[p,f]=zt.useState(null),[g,x]=zt.useState(new Map),[v,y]=zt.useState(null);return Ee.jsx(Im,{scope:t,isRootMenu:s,rootNavigationMenu:r,value:o,previousValue:ot(o),baseId:at(),dir:n,orientation:a,viewport:p,onViewportChange:f,indicatorTrack:v,onIndicatorTrackChange:y,onTriggerEnter:Ie(d),onTriggerLeave:Ie(u),onContentEnter:Ie(h),onContentLeave:Ie(m),onItemSelect:Ie(l),onItemDismiss:Ie(c),onViewportContentChange:zt.useCallback((e,t)=>{x(s=>(s.set(e,t),new Map(s)))},[]),onViewportContentRemove:zt.useCallback(e=>{x(t=>t.has(e)?(t.delete(e),new Map(t)):t)},[]),children:Ee.jsx(Sm.Provider,{scope:t,children:Ee.jsx(Dm,{scope:t,items:g,children:i})})})},Bm="NavigationMenuList",zm=zt.forwardRef((e,t)=>{const{__scopeNavigationMenu:s,...r}=e,n=Mm(Bm,s),a=Ee.jsx(Re.ul,{"data-orientation":n.orientation,...r,ref:t});return Ee.jsx(Re.div,{style:{position:"relative"},ref:n.onIndicatorTrackChange,children:Ee.jsx(Sm.Slot,{scope:s,children:n.isRootMenu?Ee.jsx(lp,{asChild:!0,children:a}):a})})});zm.displayName=Bm;var qm="NavigationMenuItem",[Wm,Hm]=Am(qm),Km=zt.forwardRef((e,t)=>{const{__scopeNavigationMenu:s,value:r,...n}=e,a=at(),i=r||a||"LEGACY_REACT_AUTO_VALUE",o=zt.useRef(null),l=zt.useRef(null),c=zt.useRef(null),d=zt.useRef(()=>{}),u=zt.useRef(!1),h=zt.useCallback((e="start")=>{if(o.current){d.current();const t=up(o.current);t.length&&hp("start"===e?t:t.reverse())}},[]),m=zt.useCallback(()=>{if(o.current){const e=up(o.current);e.length&&(d.current=function(e){return e.forEach(e=>{e.dataset.tabindex=e.getAttribute("tabindex")||"",e.setAttribute("tabindex","-1")}),()=>{e.forEach(e=>{const t=e.dataset.tabindex;e.setAttribute("tabindex",t)})}}(e))}},[]);return Ee.jsx(Wm,{scope:s,value:i,triggerRef:l,contentRef:o,focusProxyRef:c,wasEscapeCloseRef:u,onEntryKeyDown:h,onFocusProxyEnter:h,onRootContentClose:m,onContentFocusOutside:m,children:Ee.jsx(Re.li,{...n,ref:t})})});Km.displayName=qm;var Vm="NavigationMenuTrigger",Gm=zt.forwardRef((e,t)=>{const{__scopeNavigationMenu:s,disabled:r,...n}=e,a=Mm(Vm,e.__scopeNavigationMenu),i=Hm(Vm,e.__scopeNavigationMenu),o=zt.useRef(null),l=Ce(o,i.triggerRef,t),c=fp(a.baseId,i.value),d=gp(a.baseId,i.value),u=zt.useRef(!1),h=zt.useRef(!1),m=i.value===a.value;return Ee.jsxs(Ee.Fragment,{children:[Ee.jsx(Sm.ItemSlot,{scope:s,value:i.value,children:Ee.jsx(dp,{asChild:!0,children:Ee.jsx(Re.button,{id:c,disabled:r,"data-disabled":r?"":void 0,"data-state":pp(m),"aria-expanded":m,"aria-controls":d,...n,ref:l,onPointerEnter:Me(e.onPointerEnter,()=>{h.current=!1,i.wasEscapeCloseRef.current=!1}),onPointerMove:Me(e.onPointerMove,xp(()=>{r||h.current||i.wasEscapeCloseRef.current||u.current||(a.onTriggerEnter(i.value),u.current=!0)})),onPointerLeave:Me(e.onPointerLeave,xp(()=>{r||(a.onTriggerLeave(),u.current=!1)})),onClick:Me(e.onClick,()=>{a.onItemSelect(i.value),h.current=m}),onKeyDown:Me(e.onKeyDown,e=>{const t={horizontal:"ArrowDown",vertical:"rtl"===a.dir?"ArrowLeft":"ArrowRight"}[a.orientation];m&&e.key===t&&(i.onEntryKeyDown(),e.preventDefault())})})})}),m&&Ee.jsxs(Ee.Fragment,{children:[Ee.jsx(We,{"aria-hidden":!0,tabIndex:0,ref:i.focusProxyRef,onFocus:e=>{const t=i.contentRef.current,s=e.relatedTarget,r=s===o.current,n=null==t?void 0:t.contains(s);!r&&n||i.onFocusProxyEnter(r?"start":"end")}}),a.viewport&&Ee.jsx("span",{"aria-owns":d})]})]})});Gm.displayName=Vm;var Zm="navigationMenu.linkSelect",Jm=zt.forwardRef((e,t)=>{const{__scopeNavigationMenu:s,active:r,onSelect:n,...a}=e;return Ee.jsx(dp,{asChild:!0,children:Ee.jsx(Re.a,{"data-active":r?"":void 0,"aria-current":r?"page":void 0,...a,ref:t,onClick:Me(e.onClick,e=>{const t=e.target,s=new CustomEvent(Zm,{bubbles:!0,cancelable:!0});if(t.addEventListener(Zm,e=>null==n?void 0:n(e),{once:!0}),Ue(t,s),!s.defaultPrevented&&!e.metaKey){const e=new CustomEvent(rp,{bubbles:!0,cancelable:!0});Ue(t,e)}},{checkForDefaultPrevented:!1})})})});Jm.displayName="NavigationMenuLink";var Ym="NavigationMenuIndicator",Qm=zt.forwardRef((e,t)=>{const{forceMount:s,...r}=e,n=Mm(Ym,e.__scopeNavigationMenu),a=Boolean(n.value);return n.indicatorTrack?qt.createPortal(Ee.jsx(Pe,{present:s||a,children:Ee.jsx(Xm,{...r,ref:t})}),n.indicatorTrack):null});Qm.displayName=Ym;var Xm=zt.forwardRef((e,t)=>{const{__scopeNavigationMenu:s,...r}=e,n=Mm(Ym,s),a=Cm(s),[i,o]=zt.useState(null),[l,c]=zt.useState(null),d="horizontal"===n.orientation,u=Boolean(n.value);zt.useEffect(()=>{var e;const t=null==(e=a().find(e=>e.value===n.value))?void 0:e.ref.current;t&&o(t)},[a,n.value]);const h=()=>{i&&c({size:d?i.offsetWidth:i.offsetHeight,offset:d?i.offsetLeft:i.offsetTop})};return mp(i,h),mp(n.indicatorTrack,h),l?Ee.jsx(Re.div,{"aria-hidden":!0,"data-state":u?"visible":"hidden","data-orientation":n.orientation,...r,ref:t,style:{position:"absolute",...d?{left:0,width:l.size+"px",transform:`translateX(${l.offset}px)`}:{top:0,height:l.size+"px",transform:`translateY(${l.offset}px)`},...r.style}}):null}),ep="NavigationMenuContent",tp=zt.forwardRef((e,t)=>{const{forceMount:s,...r}=e,n=Mm(ep,e.__scopeNavigationMenu),a=Hm(ep,e.__scopeNavigationMenu),i=Ce(a.contentRef,t),o=a.value===n.value,l={value:a.value,triggerRef:a.triggerRef,focusProxyRef:a.focusProxyRef,wasEscapeCloseRef:a.wasEscapeCloseRef,onContentFocusOutside:a.onContentFocusOutside,onRootContentClose:a.onRootContentClose,...r};return n.viewport?Ee.jsx(sp,{forceMount:s,...l,ref:i}):Ee.jsx(Pe,{present:s||o,children:Ee.jsx(np,{"data-state":pp(o),...l,ref:i,onPointerEnter:Me(e.onPointerEnter,n.onContentEnter),onPointerLeave:Me(e.onPointerLeave,xp(n.onContentLeave)),style:{pointerEvents:!o&&n.isRootMenu?"none":void 0,...l.style}})})});tp.displayName=ep;var sp=zt.forwardRef((e,t)=>{const s=Mm(ep,e.__scopeNavigationMenu),{onViewportContentChange:r,onViewportContentRemove:n}=s;return Le(()=>{r(e.value,{ref:t,...e})},[e,t,r]),Le(()=>()=>n(e.value),[e.value,n]),null}),rp="navigationMenu.rootContentDismiss",np=zt.forwardRef((e,t)=>{const{__scopeNavigationMenu:s,value:r,triggerRef:n,focusProxyRef:a,wasEscapeCloseRef:i,onRootContentClose:o,onContentFocusOutside:l,...c}=e,d=Mm(ep,s),u=zt.useRef(null),h=Ce(u,t),m=fp(d.baseId,r),p=gp(d.baseId,r),f=Cm(s),g=zt.useRef(null),{onItemDismiss:x}=d;zt.useEffect(()=>{const e=u.current;if(d.isRootMenu&&e){const t=()=>{var t;x(),o(),e.contains(document.activeElement)&&(null==(t=n.current)||t.focus())};return e.addEventListener(rp,t),()=>e.removeEventListener(rp,t)}},[d.isRootMenu,e.value,n,x,o]);const v=zt.useMemo(()=>{const e=f().map(e=>e.value);"rtl"===d.dir&&e.reverse();const t=e.indexOf(d.value),s=e.indexOf(d.previousValue),n=r===d.value,a=s===e.indexOf(r);if(!n&&!a)return g.current;const i=(()=>{if(t!==s){if(n&&-1!==s)return t>s?"from-end":"from-start";if(a&&-1!==t)return t>s?"to-start":"to-end"}return null})();return g.current=i,i},[d.previousValue,d.value,d.dir,f,r]);return Ee.jsx(lp,{asChild:!0,children:Ee.jsx(ze,{id:p,"aria-labelledby":m,"data-motion":v,"data-orientation":d.orientation,...c,ref:h,disableOutsidePointerEvents:!1,onDismiss:()=>{var e;const t=new Event(rp,{bubbles:!0,cancelable:!0});null==(e=u.current)||e.dispatchEvent(t)},onFocusOutside:Me(e.onFocusOutside,e=>{var t;l();const s=e.target;(null==(t=d.rootNavigationMenu)?void 0:t.contains(s))&&e.preventDefault()}),onPointerDownOutside:Me(e.onPointerDownOutside,e=>{var t;const s=e.target,r=f().some(e=>{var t;return null==(t=e.ref.current)?void 0:t.contains(s)}),n=d.isRootMenu&&(null==(t=d.viewport)?void 0:t.contains(s));(r||n||!d.isRootMenu)&&e.preventDefault()}),onKeyDown:Me(e.onKeyDown,e=>{var t;const s=e.altKey||e.ctrlKey||e.metaKey;if("Tab"===e.key&&!s){const s=up(e.currentTarget),r=document.activeElement,n=s.findIndex(e=>e===r);hp(e.shiftKey?s.slice(0,n).reverse():s.slice(n+1,s.length))?e.preventDefault():null==(t=a.current)||t.focus()}}),onEscapeKeyDown:Me(e.onEscapeKeyDown,e=>{i.current=!0})})})}),ap="NavigationMenuViewport",ip=zt.forwardRef((e,t)=>{const{forceMount:s,...r}=e,n=Mm(ap,e.__scopeNavigationMenu),a=Boolean(n.value);return Ee.jsx(Pe,{present:s||a,children:Ee.jsx(op,{...r,ref:t})})});ip.displayName=ap;var op=zt.forwardRef((e,t)=>{const{__scopeNavigationMenu:s,children:r,...n}=e,a=Mm(ap,s),i=Ce(t,a.onViewportChange),o=$m(ep,e.__scopeNavigationMenu),[l,c]=zt.useState(null),[d,u]=zt.useState(null),h=l?(null==l?void 0:l.width)+"px":void 0,m=l?(null==l?void 0:l.height)+"px":void 0,p=Boolean(a.value),f=p?a.value:a.previousValue;return mp(d,()=>{d&&c({width:d.offsetWidth,height:d.offsetHeight})}),Ee.jsx(Re.div,{"data-state":pp(p),"data-orientation":a.orientation,...n,ref:i,style:{pointerEvents:!p&&a.isRootMenu?"none":void 0,"--radix-navigation-menu-viewport-width":h,"--radix-navigation-menu-viewport-height":m,...n.style},onPointerEnter:Me(e.onPointerEnter,a.onContentEnter),onPointerLeave:Me(e.onPointerLeave,xp(a.onContentLeave)),children:Array.from(o.items).map(([e,{ref:t,forceMount:s,...r}])=>{const n=f===e;return Ee.jsx(Pe,{present:s||n,children:Ee.jsx(np,{...r,ref:lt(t,e=>{n&&e&&u(e)})})},e)})})}),lp=zt.forwardRef((e,t)=>{const{__scopeNavigationMenu:s,...r}=e,n=Mm("FocusGroup",s);return Ee.jsx(Tm.Provider,{scope:s,children:Ee.jsx(Tm.Slot,{scope:s,children:Ee.jsx(Re.div,{dir:n.dir,...r,ref:t})})})}),cp=["ArrowRight","ArrowLeft","ArrowUp","ArrowDown"],dp=zt.forwardRef((e,t)=>{const{__scopeNavigationMenu:s,...r}=e,n=Rm(s),a=Mm("FocusGroupItem",s);return Ee.jsx(Tm.ItemSlot,{scope:s,children:Ee.jsx(Re.button,{...r,ref:t,onKeyDown:Me(e.onKeyDown,e=>{if(["Home","End",...cp].includes(e.key)){let t=n().map(e=>e.ref.current);if(["rtl"===a.dir?"ArrowRight":"ArrowLeft","ArrowUp","End"].includes(e.key)&&t.reverse(),cp.includes(e.key)){const s=t.indexOf(e.currentTarget);t=t.slice(s+1)}setTimeout(()=>hp(t)),e.preventDefault()}})})})});function up(e){const t=[],s=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:e=>{const t="INPUT"===e.tagName&&"hidden"===e.type;return e.disabled||e.hidden||t?NodeFilter.FILTER_SKIP:e.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;s.nextNode();)t.push(s.currentNode);return t}function hp(e){const t=document.activeElement;return e.some(e=>e===t||(e.focus(),document.activeElement!==t))}function mp(e,t){const s=Ie(t);Le(()=>{let t=0;if(e){const r=new ResizeObserver(()=>{cancelAnimationFrame(t),t=window.requestAnimationFrame(s)});return r.observe(e),()=>{window.cancelAnimationFrame(t),r.unobserve(e)}}},[e,s])}function pp(e){return e?"open":"closed"}function fp(e,t){return`${e}-trigger-${t}`}function gp(e,t){return`${e}-content-${t}`}function xp(e){return t=>"mouse"===t.pointerType?e(t):void 0}var vp=Lm,yp=zm,bp=Km,wp=Gm,jp=Jm,_p=Qm,Np=tp,kp=ip;const Sp=zt.forwardRef(({className:e,children:t,...s},r)=>Ee.jsxs(vp,{ref:r,className:Wa("relative z-10 flex max-w-max flex-1 items-center justify-center",e),...s,children:[t,Ee.jsx(Pp,{})]}));Sp.displayName=vp.displayName;const Cp=zt.forwardRef(({className:e,...t},s)=>Ee.jsx(yp,{ref:s,className:Wa("group flex flex-1 list-none items-center justify-center space-x-1",e),...t}));Cp.displayName=yp.displayName;const Ep=bp,Tp=Yr("group inline-flex h-10 w-max items-center justify-center rounded-md bg-background px-4 py-2 text-sm font-medium transition-colors hover:bg-accent hover:text-accent-foreground focus:bg-accent focus:text-accent-foreground focus:outline-none disabled:pointer-events-none disabled:opacity-50 data-[active]:bg-accent/50 data-[state=open]:bg-accent/50"),Rp=zt.forwardRef(({className:e,children:t,...s},r)=>Ee.jsxs(wp,{ref:r,className:Wa(Tp(),"group",e),...s,children:[t," ",Ee.jsx(hn,{className:"relative top-[1px] ml-1 h-3 w-3 transition duration-200 group-data-[state=open]:rotate-180","aria-hidden":"true"})]}));Rp.displayName=wp.displayName;const Op=zt.forwardRef(({className:e,...t},s)=>Ee.jsx(Np,{ref:s,className:Wa("left-0 top-0 w-full data-[motion^=from-]:animate-in data-[motion^=to-]:animate-out data-[motion^=from-]:fade-in data-[motion^=to-]:fade-out data-[motion=from-end]:slide-in-from-right-52 data-[motion=from-start]:slide-in-from-left-52 data-[motion=to-end]:slide-out-to-right-52 data-[motion=to-start]:slide-out-to-left-52 md:absolute md:w-auto",e),...t}));Op.displayName=Np.displayName;const Ap=jp,Pp=zt.forwardRef(({className:e,...t},s)=>Ee.jsx("div",{className:Wa("absolute left-0 top-full flex justify-center"),children:Ee.jsx(kp,{className:Wa("origin-top-center relative mt-1.5 h-[var(--radix-navigation-menu-viewport-height)] w-full overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-90 md:w-[var(--radix-navigation-menu-viewport-width)]",e),ref:s,...t})}));Pp.displayName=kp.displayName;zt.forwardRef(({className:e,...t},s)=>Ee.jsx(_p,{ref:s,className:Wa("top-full z-[1] flex h-1.5 items-end justify-center overflow-hidden data-[state=visible]:animate-in data-[state=hidden]:animate-out data-[state=hidden]:fade-out data-[state=visible]:fade-in",e),...t,children:Ee.jsx("div",{className:"relative top-[60%] h-2 w-2 rotate-45 rounded-tl-sm bg-border shadow-md"})})).displayName=_p.displayName;const Ip=""+new URL("logo-1RfAReF4.jpg",import.meta.url).href,Mp=()=>{const[e,t]=zt.useState(!1),[s,r]=zt.useState(!1),n=Ht(),{toast:a}=ir();zt.useEffect(()=>{xh.auth.getSession().then(({data:{session:e}})=>{r(!!e)});const{data:{subscription:e}}=xh.auth.onAuthStateChange((e,t)=>{r(!!t)});return()=>e.unsubscribe()},[]);const i=async()=>{const{error:e}=await xh.auth.signOut();e?a({title:"Error",description:"Failed to log out",variant:"destructive"}):(a({title:"Logged out",description:"You've been successfully logged out"}),n("/"))};return Ee.jsxs("header",{className:"sticky top-0 z-50 w-full border-b border-border bg-background/95 backdrop-blur supports-[backdrop-filter]:bg-background/60",children:[Ee.jsxs("nav",{className:"container mx-auto flex h-16 items-center justify-between px-4",children:[Ee.jsxs(Kt,{to:"/",className:"flex items-center space-x-3",children:[Ee.jsx("img",{src:Ip,alt:"Happy Space World Logo",className:"h-10 w-10 object-contain rounded-full"}),Ee.jsx("span",{className:"text-2xl font-bold text-primary",children:"Happy Space World"})]}),Ee.jsxs("div",{className:"hidden md:flex items-center space-x-6",children:[Ee.jsx(Sp,{children:Ee.jsxs(Cp,{children:[Ee.jsx(Ep,{children:Ee.jsx(Kt,{to:"/",children:Ee.jsx(Ap,{className:"group inline-flex h-10 w-max items-center justify-center rounded-md bg-background px-4 py-2 text-sm font-medium transition-colors hover:bg-muted hover:text-primary",children:"Home"})})}),Ee.jsxs(Ep,{children:[Ee.jsx(Rp,{children:"For Students"}),Ee.jsx(Op,{children:Ee.jsxs("ul",{className:"grid w-[400px] gap-3 p-4",children:[Ee.jsx("li",{children:Ee.jsx(Ap,{asChild:!0,children:Ee.jsxs(Kt,{to:"/students",className:"block select-none space-y-1 rounded-md p-3 leading-none no-underline outline-none transition-colors hover:bg-accent hover:text-accent-foreground",children:[Ee.jsx("div",{className:"text-sm font-medium",children:"Services"}),Ee.jsx("p",{className:"text-sm text-muted-foreground",children:"Counseling, pet therapy, and wellness programs"})]})})}),Ee.jsx("li",{children:Ee.jsx(Ap,{asChild:!0,children:Ee.jsxs(Kt,{to:"/resources",className:"block select-none space-y-1 rounded-md p-3 leading-none no-underline outline-none transition-colors hover:bg-accent hover:text-accent-foreground",children:[Ee.jsx("div",{className:"text-sm font-medium",children:"Resources"}),Ee.jsx("p",{className:"text-sm text-muted-foreground",children:"Self-help tools, worksheets, and guides"})]})})})]})})]}),Ee.jsxs(Ep,{children:[Ee.jsx(Rp,{children:"For Schools"}),Ee.jsx(Op,{children:Ee.jsx("ul",{className:"grid w-[400px] gap-3 p-4",children:Ee.jsx("li",{children:Ee.jsx(Ap,{asChild:!0,children:Ee.jsxs(Kt,{to:"/schools",className:"block select-none space-y-1 rounded-md p-3 leading-none no-underline outline-none transition-colors hover:bg-accent hover:text-accent-foreground",children:[Ee.jsx("div",{className:"text-sm font-medium",children:"Programs"}),Ee.jsx("p",{className:"text-sm text-muted-foreground",children:"Campus counseling and pet therapy programs"})]})})})})})]}),Ee.jsx(Ep,{children:Ee.jsx(Kt,{to:"/about",children:Ee.jsx(Ap,{className:"group inline-flex h-10 w-max items-center justify-center rounded-md bg-background px-4 py-2 text-sm font-medium transition-colors hover:bg-muted hover:text-primary",children:"About"})})}),Ee.jsx(Ep,{children:Ee.jsx(Kt,{to:"/blog",children:Ee.jsx(Ap,{className:"group inline-flex h-10 w-max items-center justify-center rounded-md bg-background px-4 py-2 text-sm font-medium transition-colors hover:bg-muted hover:text-primary",children:"Blog"})})}),Ee.jsx(Ep,{children:Ee.jsx(Kt,{to:"/gallery",children:Ee.jsx(Ap,{className:"group inline-flex h-10 w-max items-center justify-center rounded-md bg-background px-4 py-2 text-sm font-medium transition-colors hover:bg-muted hover:text-primary",children:"Gallery"})})}),Ee.jsx(Ep,{children:Ee.jsx(Kt,{to:"/testimonials",children:Ee.jsx(Ap,{className:"group inline-flex h-10 w-max items-center justify-center rounded-md bg-background px-4 py-2 text-sm font-medium transition-colors hover:bg-muted hover:text-primary",children:"Testimonials"})})})]})}),Ee.jsxs("div",{className:"flex items-center gap-2",children:[Ee.jsx(Kt,{to:"/contact?type=student&source=booking",children:Ee.jsx(Yo,{className:"bg-primary hover:bg-primary-dark text-primary-foreground font-semibold px-6",children:"Book Session"})}),s&&Ee.jsx(Yo,{onClick:i,variant:"outline",size:"icon",className:"ml-2",title:"Logout",children:Ee.jsx(Pn,{className:"h-4 w-4"})})]})]}),Ee.jsx("button",{onClick:()=>t(!e),className:"md:hidden p-2 rounded-md hover:bg-muted","aria-label":"Toggle menu",children:e?Ee.jsx(Yn,{className:"h-6 w-6"}):Ee.jsx(Mn,{className:"h-6 w-6"})})]}),e&&Ee.jsx("div",{className:"md:hidden border-t border-border bg-background/95 backdrop-blur",children:Ee.jsxs("nav",{className:"container mx-auto px-4 py-4 space-y-4",children:[Ee.jsx(Kt,{to:"/",className:"block px-4 py-2 rounded-md hover:bg-muted",onClick:()=>t(!1),children:"Home"}),Ee.jsx(Kt,{to:"/students",className:"block px-4 py-2 rounded-md hover:bg-muted",onClick:()=>t(!1),children:"For Students"}),Ee.jsx(Kt,{to:"/schools",className:"block px-4 py-2 rounded-md hover:bg-muted",onClick:()=>t(!1),children:"For Schools"}),Ee.jsx(Kt,{to:"/about",className:"block px-4 py-2 rounded-md hover:bg-muted",onClick:()=>t(!1),children:"About"}),Ee.jsx(Kt,{to:"/resources",className:"block px-4 py-2 rounded-md hover:bg-muted",onClick:()=>t(!1),children:"Resources"}),Ee.jsx(Kt,{to:"/blog",className:"block px-4 py-2 rounded-md hover:bg-muted",onClick:()=>t(!1),children:"Blog"}),Ee.jsx(Kt,{to:"/gallery",className:"block px-4 py-2 rounded-md hover:bg-muted",onClick:()=>t(!1),children:"Gallery"}),Ee.jsx(Kt,{to:"/testimonials",className:"block px-4 py-2 rounded-md hover:bg-muted",onClick:()=>t(!1),children:"Testimonials"}),Ee.jsx(Kt,{to:"/contact?type=student&source=booking",children:Ee.jsx(Yo,{className:"w-full bg-primary hover:bg-primary-dark text-primary-foreground font-semibold",onClick:()=>t(!1),children:"Book Session"})}),s&&Ee.jsxs(Yo,{onClick:()=>{i(),t(!1)},variant:"outline",className:"w-full",children:[Ee.jsx(Pn,{className:"h-4 w-4 mr-2"}),"Logout"]})]})})]})},Dp=()=>Ee.jsx("footer",{className:"bg-card border-t border-border",children:Ee.jsxs("div",{className:"container mx-auto px-4 py-12",children:[Ee.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8",children:[Ee.jsxs("div",{className:"space-y-4",children:[Ee.jsx("h3",{className:"text-lg font-semibold text-primary",children:"Happy Space World"}),Ee.jsx("p",{className:"text-sm text-muted-foreground leading-relaxed",children:"Cultivating Calm, Confidence and Connection through expert counseling and pet therapy for students."}),Ee.jsxs("div",{className:"flex space-x-4",children:[Ee.jsx("a",{href:"https://facebook.com",target:"_blank",rel:"noopener noreferrer",className:"text-muted-foreground hover:text-primary transition-colors",children:Ee.jsx(_n,{className:"h-5 w-5"})}),Ee.jsx("a",{href:"https://instagram.com",target:"_blank",rel:"noopener noreferrer",className:"text-muted-foreground hover:text-primary transition-colors",children:Ee.jsx(En,{className:"h-5 w-5"})}),Ee.jsx("a",{href:"https://linkedin.com",target:"_blank",rel:"noopener noreferrer",className:"text-muted-foreground hover:text-primary transition-colors",children:Ee.jsx(On,{className:"h-5 w-5"})}),Ee.jsx("a",{href:"https://twitter.com",target:"_blank",rel:"noopener noreferrer",className:"text-muted-foreground hover:text-primary transition-colors",children:Ee.jsx(Kn,{className:"h-5 w-5"})})]})]}),Ee.jsxs("div",{className:"space-y-4",children:[Ee.jsx("h3",{className:"text-lg font-semibold text-foreground",children:"For Students"}),Ee.jsxs("ul",{className:"space-y-2 text-sm",children:[Ee.jsx("li",{children:Ee.jsx(Kt,{to:"/students",className:"text-muted-foreground hover:text-primary transition-colors",children:"Services & Programs"})}),Ee.jsx("li",{children:Ee.jsx(Kt,{to:"/resources",className:"text-muted-foreground hover:text-primary transition-colors",children:"Resources & Blog"})}),Ee.jsx("li",{children:Ee.jsx(Kt,{to:"/contact#booking",className:"text-muted-foreground hover:text-primary transition-colors",children:"Book a Session"})}),Ee.jsx("li",{children:Ee.jsx(Kt,{to:"/#faqs",className:"text-muted-foreground hover:text-primary transition-colors",children:"FAQs"})})]})]}),Ee.jsxs("div",{className:"space-y-4",children:[Ee.jsx("h3",{className:"text-lg font-semibold text-foreground",children:"For Schools"}),Ee.jsxs("ul",{className:"space-y-2 text-sm",children:[Ee.jsx("li",{children:Ee.jsx(Kt,{to:"/schools",className:"text-muted-foreground hover:text-primary transition-colors",children:"Partnership Program"})}),Ee.jsx("li",{children:Ee.jsx(Kt,{to:"/schools#certification",className:"text-muted-foreground hover:text-primary transition-colors",children:"School Certification"})}),Ee.jsx("li",{children:Ee.jsx(Kt,{to:"/schools#pricing",className:"text-muted-foreground hover:text-primary transition-colors",children:"Pricing & Packages"})}),Ee.jsx("li",{children:Ee.jsx(Kt,{to:"/contact",className:"text-muted-foreground hover:text-primary transition-colors",children:"Request Demo"})})]})]}),Ee.jsxs("div",{className:"space-y-4",children:[Ee.jsx("h3",{className:"text-lg font-semibold text-foreground",children:"Contact Us"}),Ee.jsxs("ul",{className:"space-y-3 text-sm",children:[Ee.jsxs("li",{className:"flex items-start space-x-2",children:[Ee.jsx(Ln,{className:"h-4 w-4 mt-0.5 text-primary flex-shrink-0"}),Ee.jsx("a",{href:"tel:8937915125",className:"text-muted-foreground hover:text-primary transition-colors",children:"8937915125"})]}),Ee.jsxs("li",{className:"flex items-start space-x-2",children:[Ee.jsx(In,{className:"h-4 w-4 mt-0.5 text-primary flex-shrink-0"}),Ee.jsx("a",{href:"mailto:happyspaceschool@gmail.com",className:"text-muted-foreground hover:text-primary transition-colors break-all",children:"happyspaceschool@gmail.com"})]})]}),Ee.jsx("div",{className:"pt-2",children:Ee.jsx(Kt,{to:"/about",className:"text-sm text-muted-foreground hover:text-primary transition-colors",children:"About Us"})})]})]}),Ee.jsx("div",{className:"mt-12 pt-8 border-t border-border",children:Ee.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center space-y-4 md:space-y-0",children:[Ee.jsxs("p",{className:"text-sm text-muted-foreground text-center md:text-left",children:[" ",(new Date).getFullYear()," Happy Space World. All rights reserved."]}),Ee.jsxs("div",{className:"flex space-x-6 text-sm",children:[Ee.jsx(Kt,{to:"/privacy",className:"text-muted-foreground hover:text-primary transition-colors",children:"Privacy Policy"}),Ee.jsx(Kt,{to:"/terms",className:"text-muted-foreground hover:text-primary transition-colors",children:"Terms of Service"})]})]})})]})});function $p({title:e,description:t,image:s,type:r="website",preloadImage:n}){const a=Vt(),[i,o]=zt.useState(null);zt.useEffect(()=>{(async()=>{const{data:e}=await xh.from("page_metadata").select("*").eq("page_path",a.pathname).maybeSingle();e&&o(e)})()},[a.pathname]);const l=`${window.location.origin}/happy-space-og.png`,c=(null==i?void 0:i.meta_title)||e||"Happy Space World  Student Mental Wellness",d=(null==i?void 0:i.meta_description)||t||"Expert counseling and pet therapy for students (Classes 8-12). Cultivating calm, confidence, and connection through mindfulness.",u=(null==i?void 0:i.og_image)||s||l,h=(null==i?void 0:i.og_title)||c,m=(null==i?void 0:i.og_description)||d,p=window.location.origin,f=(null==i?void 0:i.canonical_url)||`${p}${a.pathname}`;return Ee.jsxs(Ys,{children:[n&&Ee.jsx("link",{rel:"preload",as:"image",href:n,fetchPriority:"high"}),Ee.jsx("title",{children:c}),Ee.jsx("meta",{name:"description",content:d}),Ee.jsx("link",{rel:"canonical",href:f}),(null==i?void 0:i.robots)&&Ee.jsx("meta",{name:"robots",content:i.robots}),Ee.jsx("meta",{property:"og:title",content:h}),Ee.jsx("meta",{property:"og:description",content:m}),Ee.jsx("meta",{property:"og:image",content:u}),Ee.jsx("meta",{property:"og:url",content:f}),Ee.jsx("meta",{property:"og:type",content:r}),Ee.jsx("meta",{property:"og:site_name",content:"Happy Space World"}),Ee.jsx("meta",{name:"twitter:card",content:(null==i?void 0:i.twitter_card)||"summary_large_image"}),Ee.jsx("meta",{name:"twitter:title",content:h}),Ee.jsx("meta",{name:"twitter:description",content:m}),Ee.jsx("meta",{name:"twitter:image",content:u}),Ee.jsx("meta",{name:"theme-color",content:"#52A5A5"}),Ee.jsx("meta",{name:"apple-mobile-web-app-capable",content:"yes"}),Ee.jsx("meta",{name:"apple-mobile-web-app-status-bar-style",content:"default"})]})}const Lp=""+new URL("hero-students-pets-DvMuwxRd.jpg",import.meta.url).href,Up=""+new URL("therapy-pet-BsmY_eoV.jpg",import.meta.url).href,Fp=""+new URL("counseling-session-CUUluy_w.jpg",import.meta.url).href,Bp=""+new URL("progress-tracking-DcWu27YH.jpg",import.meta.url).href,zp=()=>Ee.jsxs(Ee.Fragment,{children:[Ee.jsx($p,{preloadImage:Lp}),Ee.jsxs("div",{className:"min-h-screen flex flex-col",children:[Ee.jsx(Mp,{}),Ee.jsxs("main",{className:"flex-1",children:[Ee.jsxs("section",{className:"relative h-[600px] flex items-center justify-center overflow-hidden",children:[Ee.jsxs("div",{className:"absolute inset-0 z-0",children:[Ee.jsx("img",{src:Lp,alt:"Students with therapy animals",className:"w-full h-full object-cover"}),Ee.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-primary/95 to-tertiary/85"})]}),Ee.jsxs("div",{className:"container mx-auto px-4 relative z-10 text-center text-white",children:[Ee.jsxs("h1",{className:"text-4xl md:text-6xl font-bold mb-6 leading-tight",children:["Cultivating Calm, Confidence",Ee.jsx("br",{}),"and Connection"]}),Ee.jsxs("p",{className:"text-xl md:text-2xl mb-8 max-w-3xl mx-auto opacity-95",children:["Mental Health + Pet Therapy for Students (Classes 8-12)",Ee.jsx("br",{}),"Expert Counseling Backed by Sivaram Raghavan's Stop, Look, Go Model"]}),Ee.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[Ee.jsx(Yo,{asChild:!0,size:"lg",className:"bg-secondary hover:bg-secondary-dark text-lg px-8 py-6",children:Ee.jsx(Kt,{to:"/contact#booking",children:"Start Your Happy Journey"})}),Ee.jsx(Yo,{asChild:!0,size:"lg",variant:"outline",className:"text-lg px-8 py-6 bg-white/10 backdrop-blur border-white text-white hover:bg-white/20",children:Ee.jsx(Kt,{to:"/schools",children:"For Schools: Learn More"})})]})]})]}),Ee.jsx("section",{className:"py-20 bg-background",children:Ee.jsxs("div",{className:"container mx-auto px-4",children:[Ee.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-center mb-12 text-foreground",children:"Students Face Real Challenges"}),Ee.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[Ee.jsx(Qo,{className:"hover:shadow-lg transition-all duration-300 border-border",children:Ee.jsxs(sl,{className:"p-6 text-center",children:[Ee.jsx("div",{className:"w-16 h-16 mx-auto mb-4 bg-secondary/10 rounded-full flex items-center justify-center",children:Ee.jsx(on,{className:"h-8 w-8 text-secondary"})}),Ee.jsx("h3",{className:"text-xl font-semibold mb-3 text-foreground",children:"Academic Pressure"}),Ee.jsx("p",{className:"text-muted-foreground",children:"80% of students report exam stress and focus issues affecting their performance"})]})}),Ee.jsx(Qo,{className:"hover:shadow-lg transition-all duration-300 border-border",children:Ee.jsxs(sl,{className:"p-6 text-center",children:[Ee.jsx("div",{className:"w-16 h-16 mx-auto mb-4 bg-tertiary/10 rounded-full flex items-center justify-center",children:Ee.jsx(Zn,{className:"h-8 w-8 text-tertiary"})}),Ee.jsx("h3",{className:"text-xl font-semibold mb-3 text-foreground",children:"Social & Relationship Issues"}),Ee.jsx("p",{className:"text-muted-foreground",children:"Peer pressure and conflict impact emotional health and wellbeing"})]})}),Ee.jsx(Qo,{className:"hover:shadow-lg transition-all duration-300 border-border",children:Ee.jsxs(sl,{className:"p-6 text-center",children:[Ee.jsx("div",{className:"w-16 h-16 mx-auto mb-4 bg-primary/10 rounded-full flex items-center justify-center",children:Ee.jsx(sn,{className:"h-8 w-8 text-primary"})}),Ee.jsx("h3",{className:"text-xl font-semibold mb-3 text-foreground",children:"Emotional Overwhelm"}),Ee.jsx("p",{className:"text-muted-foreground",children:"Anxiety, distraction, and loss of motivation affect daily life"})]})})]})]})}),Ee.jsx("section",{className:"py-20 bg-muted/30",children:Ee.jsxs("div",{className:"container mx-auto px-4",children:[Ee.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-center mb-4 text-foreground",children:"Happy Space World's Proven Three-Pillar Approach"}),Ee.jsx("p",{className:"text-center text-muted-foreground mb-12 max-w-2xl mx-auto",children:"A comprehensive program combining therapy, counseling, and progress tracking"}),Ee.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[Ee.jsxs(Qo,{className:"overflow-hidden hover:shadow-xl transition-all duration-300",children:[Ee.jsx("div",{className:"h-48 overflow-hidden",children:Ee.jsx("img",{src:Up,alt:"Pet Therapy",className:"w-full h-full object-cover"})}),Ee.jsxs(sl,{className:"p-6",children:[Ee.jsxs("div",{className:"flex items-center mb-4",children:[Ee.jsx("div",{className:"w-12 h-12 bg-secondary/10 rounded-full flex items-center justify-center mr-3",children:Ee.jsx(Cn,{className:"h-6 w-6 text-secondary"})}),Ee.jsx("h3",{className:"text-xl font-semibold text-foreground",children:"Pet Therapy & Activities"})]}),Ee.jsx("p",{className:"text-muted-foreground mb-4",children:"Emotional connection and stress reduction through interaction with trained therapy animals"}),Ee.jsxs("ul",{className:"space-y-2 text-sm text-muted-foreground",children:[Ee.jsxs("li",{className:"flex items-start",children:[Ee.jsx(un,{className:"h-4 w-4 text-success mr-2 mt-0.5 flex-shrink-0"}),Ee.jsx("span",{children:"Paint with Pets"})]}),Ee.jsxs("li",{className:"flex items-start",children:[Ee.jsx(un,{className:"h-4 w-4 text-success mr-2 mt-0.5 flex-shrink-0"}),Ee.jsx("span",{children:"Icebreaking Games"})]}),Ee.jsxs("li",{className:"flex items-start",children:[Ee.jsx(un,{className:"h-4 w-4 text-success mr-2 mt-0.5 flex-shrink-0"}),Ee.jsx("span",{children:"Grounding Exercises"})]})]})]})]}),Ee.jsxs(Qo,{className:"overflow-hidden hover:shadow-xl transition-all duration-300",children:[Ee.jsx("div",{className:"h-48 overflow-hidden",children:Ee.jsx("img",{src:Fp,alt:"Expert Counseling",className:"w-full h-full object-cover"})}),Ee.jsxs(sl,{className:"p-6",children:[Ee.jsxs("div",{className:"flex items-center mb-4",children:[Ee.jsx("div",{className:"w-12 h-12 bg-primary/10 rounded-full flex items-center justify-center mr-3",children:Ee.jsx(ln,{className:"h-6 w-6 text-primary"})}),Ee.jsx("h3",{className:"text-xl font-semibold text-foreground",children:"Expert Counseling"})]}),Ee.jsx("p",{className:"text-muted-foreground mb-4",children:"Personalized guidance using Sivaram Raghavan's Stop, Look, Go mindfulness model"}),Ee.jsxs("ul",{className:"space-y-2 text-sm text-muted-foreground",children:[Ee.jsxs("li",{className:"flex items-start",children:[Ee.jsx(un,{className:"h-4 w-4 text-success mr-2 mt-0.5 flex-shrink-0"}),Ee.jsx("span",{children:"One-on-one sessions"})]}),Ee.jsxs("li",{className:"flex items-start",children:[Ee.jsx(un,{className:"h-4 w-4 text-success mr-2 mt-0.5 flex-shrink-0"}),Ee.jsx("span",{children:"Group discussions"})]}),Ee.jsxs("li",{className:"flex items-start",children:[Ee.jsx(un,{className:"h-4 w-4 text-success mr-2 mt-0.5 flex-shrink-0"}),Ee.jsx("span",{children:"Personalized coaching"})]})]})]})]}),Ee.jsxs(Qo,{className:"overflow-hidden hover:shadow-xl transition-all duration-300",children:[Ee.jsx("div",{className:"h-48 overflow-hidden",children:Ee.jsx("img",{src:Bp,alt:"Progress Tracking",className:"w-full h-full object-cover"})}),Ee.jsxs(sl,{className:"p-6",children:[Ee.jsxs("div",{className:"flex items-center mb-4",children:[Ee.jsx("div",{className:"w-12 h-12 bg-tertiary/10 rounded-full flex items-center justify-center mr-3",children:Ee.jsx(Wn,{className:"h-6 w-6 text-tertiary"})}),Ee.jsx("h3",{className:"text-xl font-semibold text-foreground",children:"Wellness Tracking"})]}),Ee.jsx("p",{className:"text-muted-foreground mb-4",children:"Measure progress through Happiness & Stress Questionnaires and real-time tracking"}),Ee.jsxs("ul",{className:"space-y-2 text-sm text-muted-foreground",children:[Ee.jsxs("li",{className:"flex items-start",children:[Ee.jsx(un,{className:"h-4 w-4 text-success mr-2 mt-0.5 flex-shrink-0"}),Ee.jsx("span",{children:"Weekly assessments"})]}),Ee.jsxs("li",{className:"flex items-start",children:[Ee.jsx(un,{className:"h-4 w-4 text-success mr-2 mt-0.5 flex-shrink-0"}),Ee.jsx("span",{children:"Progress reports"})]}),Ee.jsxs("li",{className:"flex items-start",children:[Ee.jsx(un,{className:"h-4 w-4 text-success mr-2 mt-0.5 flex-shrink-0"}),Ee.jsx("span",{children:"Milestone celebrations"})]})]})]})]})]})]})}),Ee.jsx("section",{className:"py-20 bg-primary text-white",children:Ee.jsx("div",{className:"container mx-auto px-4",children:Ee.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-8 text-center",children:[Ee.jsxs("div",{children:[Ee.jsx("div",{className:"text-4xl md:text-5xl font-bold mb-2",children:"500+"}),Ee.jsx("div",{className:"text-primary-foreground/80",children:"Students Served"})]}),Ee.jsxs("div",{children:[Ee.jsx("div",{className:"text-4xl md:text-5xl font-bold mb-2",children:"92%"}),Ee.jsx("div",{className:"text-primary-foreground/80",children:"Improved Happiness"})]}),Ee.jsxs("div",{children:[Ee.jsx("div",{className:"text-4xl md:text-5xl font-bold mb-2",children:"87%"}),Ee.jsx("div",{className:"text-primary-foreground/80",children:"Reduced Stress"})]}),Ee.jsxs("div",{children:[Ee.jsx("div",{className:"text-4xl md:text-5xl font-bold mb-2",children:"100%"}),Ee.jsx("div",{className:"text-primary-foreground/80",children:"School Recommendations"})]})]})})}),Ee.jsx("section",{id:"faqs",className:"py-20 bg-muted/30",children:Ee.jsxs("div",{className:"container mx-auto px-4 max-w-3xl",children:[Ee.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-center mb-12 text-foreground",children:"Frequently Asked Questions"}),Ee.jsxs(wm,{type:"multiple",defaultValue:["item-1","item-2","item-3"],className:"space-y-4",children:[Ee.jsxs(jm,{value:"item-1",className:"bg-card border border-border rounded-lg px-6",children:[Ee.jsx(_m,{className:"text-left hover:no-underline",children:"What is Happy Space World?"}),Ee.jsx(Nm,{className:"text-muted-foreground",children:"Happy Space World is a comprehensive mental wellness program for students in Classes 8-12, combining expert counseling, pet therapy, and progress tracking to help students manage stress, build confidence, and improve their overall wellbeing."})]}),Ee.jsxs(jm,{value:"item-2",className:"bg-card border border-border rounded-lg px-6",children:[Ee.jsx(_m,{className:"text-left hover:no-underline",children:"How does pet therapy help?"}),Ee.jsx(Nm,{className:"text-muted-foreground",children:"Pet therapy has been scientifically proven to reduce stress hormones, lower blood pressure, and increase feelings of happiness. Interacting with trained therapy animals helps students relax, build emotional connections, and develop coping mechanisms in a safe, non-judgmental environment."})]}),Ee.jsxs(jm,{value:"item-3",className:"bg-card border border-border rounded-lg px-6",children:[Ee.jsx(_m,{className:"text-left hover:no-underline",children:"What is the Stop, Look, Go model?"}),Ee.jsx(Nm,{className:"text-muted-foreground",children:"The Stop, Look, Go model is Sivaram Raghavan's mindfulness-based approach: Stop (pause and recognize emotions), Look (observe without judgment), and Go (take positive action). This methodology helps students develop emotional awareness and healthy coping strategies."})]}),Ee.jsxs(jm,{value:"item-4",className:"bg-card border border-border rounded-lg px-6",children:[Ee.jsx(_m,{className:"text-left hover:no-underline",children:"Is this confidential?"}),Ee.jsx(Nm,{className:"text-muted-foreground",children:"Absolutely. All counseling sessions and student information are kept strictly confidential. We follow best practices in data protection and student privacy to ensure a safe, trustworthy environment."})]}),Ee.jsxs(jm,{value:"item-5",className:"bg-card border border-border rounded-lg px-6",children:[Ee.jsx(_m,{className:"text-left hover:no-underline",children:"How much does it cost?"}),Ee.jsx(Nm,{className:"text-muted-foreground",children:"Individual student programs start at 3,500, which includes counseling sessions, pet therapy, questionnaires, and activities. School programs have customized pricing based on batch size and requirements. Contact us for a personalized quote."})]})]})]})}),Ee.jsx("section",{className:"py-20 bg-gradient-to-r from-secondary to-secondary-light",children:Ee.jsxs("div",{className:"container mx-auto px-4 text-center",children:[Ee.jsx("h2",{className:"text-3xl md:text-4xl font-bold mb-6 text-white",children:"Ready to Transform Your Well-being?"}),Ee.jsx("p",{className:"text-xl mb-8 text-white/90 max-w-2xl mx-auto",children:"Join hundreds of students who have found their calm, confidence, and connection"}),Ee.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[Ee.jsx(Yo,{asChild:!0,size:"lg",className:"bg-white text-secondary hover:bg-white/90 text-lg px-8 py-6",children:Ee.jsxs(Kt,{to:"/students",children:["I'm a Student  Start Now ",Ee.jsx(nn,{className:"ml-2 h-5 w-5"})]})}),Ee.jsx(Yo,{asChild:!0,size:"lg",className:"bg-white text-secondary hover:bg-white/90 text-lg px-8 py-6",children:Ee.jsxs(Kt,{to:"/schools",children:["I'm a School  Get Info ",Ee.jsx(nn,{className:"ml-2 h-5 w-5"})]})})]})]})}),Ee.jsx("section",{className:"py-20 bg-muted/30",children:Ee.jsxs("div",{className:"container mx-auto px-4",children:[Ee.jsxs("div",{className:"text-center mb-12",children:[Ee.jsx("h2",{className:"text-3xl md:text-4xl font-bold mb-4 text-foreground",children:"Our Happy Moments & Stories"}),Ee.jsx("p",{className:"text-muted-foreground max-w-2xl mx-auto",children:"Explore our gallery and read testimonials from students, parents, and educators"})]}),Ee.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8 max-w-4xl mx-auto",children:[Ee.jsx(Qo,{className:"hover:shadow-lg transition-all duration-300",children:Ee.jsxs(sl,{className:"pt-8 text-center",children:[Ee.jsx("h3",{className:"text-2xl font-bold mb-4 text-foreground",children:"Gallery"}),Ee.jsx("p",{className:"text-muted-foreground mb-6",children:"View photos from our programs and see the joy and transformation firsthand"}),Ee.jsx(Yo,{asChild:!0,variant:"outline",size:"lg",children:Ee.jsx(Kt,{to:"/gallery",children:"View Gallery"})})]})}),Ee.jsx(Qo,{className:"hover:shadow-lg transition-all duration-300",children:Ee.jsxs(sl,{className:"pt-8 text-center",children:[Ee.jsx("h3",{className:"text-2xl font-bold mb-4 text-foreground",children:"Testimonials"}),Ee.jsx("p",{className:"text-muted-foreground mb-6",children:"Read real stories from people who've experienced our programs"}),Ee.jsx(Yo,{asChild:!0,variant:"outline",size:"lg",children:Ee.jsx(Kt,{to:"/testimonials",children:"Read Testimonials"})})]})})]})]})})]}),Ee.jsx(Dp,{})]})]}),qp=()=>Ee.jsxs(Ee.Fragment,{children:[Ee.jsx($p,{title:"About Us - Happy Space World",description:"Learn about Happy Space World's mission to empower student mental wellness through innovative pet therapy and expert counseling programs."}),Ee.jsxs("div",{className:"min-h-screen flex flex-col",children:[Ee.jsx(Mp,{}),Ee.jsxs("main",{className:"flex-1",children:[Ee.jsx("section",{className:"py-20 bg-gradient-to-br from-primary to-primary-light text-white",children:Ee.jsxs("div",{className:"container mx-auto px-4 text-center",children:[Ee.jsx("h1",{className:"text-4xl md:text-5xl font-bold mb-6",children:"About Happy Space World"}),Ee.jsx("p",{className:"text-xl max-w-3xl mx-auto opacity-95",children:"Empowering student mental wellness through innovative pet therapy and expert counseling"})]})}),Ee.jsx("section",{className:"py-20 bg-background",children:Ee.jsx("div",{className:"container mx-auto px-4",children:Ee.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-12 items-center max-w-6xl mx-auto",children:[Ee.jsxs("div",{children:[Ee.jsx("h2",{className:"text-3xl md:text-4xl font-bold mb-6 text-foreground",children:"Our Story"}),Ee.jsxs("div",{className:"space-y-4 text-muted-foreground",children:[Ee.jsx("p",{children:"Happy Space World was founded with a simple yet powerful vision: to create a safe, supportive environment where every student can thrive emotionally and mentally during their crucial teenage years."}),Ee.jsx("p",{children:"We recognized that students in Classes 8-12 face unprecedented challengesacademic pressure, social dynamics, and emotional overwhelm. Traditional approaches weren't enough. We needed something different, something holistic."}),Ee.jsx("p",{children:"That's why we combined the proven benefits of pet therapy with expert counseling, grounded in Sivaram Raghavan's Stop, Look, Go mindfulness model. The result? A comprehensive program that has helped over 500 students find their calm, build confidence, and create meaningful connections."})]})]}),Ee.jsxs("div",{className:"bg-muted/50 rounded-xl p-8",children:[Ee.jsx("h3",{className:"text-2xl font-semibold mb-6 text-foreground",children:"Our Mission"}),Ee.jsx("p",{className:"text-muted-foreground mb-6",children:"To cultivate calm, confidence, and connection in every student through accessible, compassionate, and effective mental wellness programs that combine the healing power of animals with expert psychological guidance."}),Ee.jsx("h3",{className:"text-2xl font-semibold mb-6 text-foreground",children:"Our Vision"}),Ee.jsx("p",{className:"text-muted-foreground",children:"A future where every school prioritizes mental wellness as much as academic excellence, and where every student has the tools and support they need to navigate life's challenges with resilience and hope."})]})]})})}),Ee.jsx("section",{className:"py-20 bg-muted/30",children:Ee.jsxs("div",{className:"container mx-auto px-4",children:[Ee.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-center mb-12 text-foreground",children:"Meet the Expert"}),Ee.jsx(Qo,{className:"max-w-4xl mx-auto border-2 border-primary",children:Ee.jsx(sl,{className:"p-8",children:Ee.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[Ee.jsx("div",{className:"md:col-span-1",children:Ee.jsx("div",{className:"w-48 h-48 mx-auto bg-primary/10 rounded-full flex items-center justify-center",children:Ee.jsx("div",{className:"text-6xl font-bold text-primary",children:"SR"})})}),Ee.jsxs("div",{className:"md:col-span-2",children:[Ee.jsx("h3",{className:"text-3xl font-bold mb-2 text-foreground",children:"Sivaram Raghavan"}),Ee.jsx("p",{className:"text-lg text-primary mb-4",children:"Counselor, Coach, Mediator"}),Ee.jsxs("div",{className:"space-y-4 text-muted-foreground",children:[Ee.jsx("p",{children:"With over years of experience in counseling and mental health support, Sivaram Raghavan has dedicated his career to helping young people navigate the complexities of adolescence and early adulthood."}),Ee.jsxs("p",{children:["His groundbreaking ",Ee.jsx("strong",{className:"text-foreground",children:'"Stop, Look, Go"'})," mindfulness model has transformed the way students approach stress, anxiety, and emotional challenges. This three-step approach teaches students to pause (Stop), observe their thoughts and feelings without judgment (Look), and take constructive action (Go)."]}),Ee.jsx("p",{children:"Sivaram's unique integration of pet therapy with traditional counseling methods has proven remarkably effective, with over 90% of students reporting significant improvements in their mental wellbeing."})]}),Ee.jsxs("div",{className:"mt-6 p-4 bg-secondary/10 rounded-lg border-l-4 border-secondary",children:[Ee.jsx("p",{className:"italic text-foreground",children:'"Mental health is not a destination, it\'s a journey. And every student deserves a guide who believes in their potential to heal and grow."'}),Ee.jsx("p",{className:"text-sm text-muted-foreground mt-2",children:" Sivaram Raghavan"})]})]})]})})})]})}),Ee.jsx("section",{className:"py-20 bg-background",children:Ee.jsxs("div",{className:"container mx-auto px-4",children:[Ee.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-center mb-12 text-foreground",children:"Our Unique Approach"}),Ee.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8 max-w-6xl mx-auto",children:[Ee.jsx(Qo,{className:"border-border",children:Ee.jsxs(sl,{className:"p-6",children:[Ee.jsx("div",{className:"w-16 h-16 bg-secondary/10 rounded-full flex items-center justify-center mb-4 mx-auto",children:Ee.jsx(Cn,{className:"h-8 w-8 text-secondary"})}),Ee.jsx("h3",{className:"text-xl font-semibold text-center mb-4 text-foreground",children:"Pet Therapy Science"}),Ee.jsx("p",{className:"text-muted-foreground text-sm",children:"Animal-assisted therapy has been scientifically proven to reduce cortisol levels (the stress hormone), lower blood pressure, and increase oxytocin (the bonding hormone). Our trained therapy animals provide unconditional acceptance, helping students feel safe to express their emotions."})]})}),Ee.jsx(Qo,{className:"border-border",children:Ee.jsxs(sl,{className:"p-6",children:[Ee.jsx("div",{className:"w-16 h-16 bg-primary/10 rounded-full flex items-center justify-center mb-4 mx-auto",children:Ee.jsx(ln,{className:"h-8 w-8 text-primary"})}),Ee.jsx("h3",{className:"text-xl font-semibold text-center mb-4 text-foreground",children:"Stop, Look, Go Model"}),Ee.jsx("p",{className:"text-muted-foreground text-sm",children:"This mindfulness-based cognitive approach teaches students practical skills: Stop (recognize emotional triggers), Look (observe thoughts without judgment), Go (choose healthy responses). It's simple, memorable, and highly effective for teens navigating complex emotions."})]})}),Ee.jsx(Qo,{className:"border-border",children:Ee.jsxs(sl,{className:"p-6",children:[Ee.jsx("div",{className:"w-16 h-16 bg-tertiary/10 rounded-full flex items-center justify-center mb-4 mx-auto",children:Ee.jsx(an,{className:"h-8 w-8 text-tertiary"})}),Ee.jsx("h3",{className:"text-xl font-semibold text-center mb-4 text-foreground",children:"Certification Methodology"}),Ee.jsx("p",{className:"text-muted-foreground text-sm",children:"Our school certification program is based on measurable outcomespre and post-program assessments of happiness and stress levels. Schools are awarded Gold, Silver, or Bronze tiers based on demonstrated impact, ensuring accountability and excellence."})]})})]})]})}),Ee.jsx("section",{className:"py-20 bg-muted/30",children:Ee.jsxs("div",{className:"container mx-auto px-4",children:[Ee.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-center mb-12 text-foreground",children:"Our Core Values"}),Ee.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 max-w-4xl mx-auto",children:[Ee.jsxs("div",{className:"flex items-start space-x-4",children:[Ee.jsx("div",{className:"w-12 h-12 bg-primary/10 rounded-full flex items-center justify-center flex-shrink-0",children:Ee.jsx("span",{className:"text-primary font-bold",children:"C"})}),Ee.jsxs("div",{children:[Ee.jsx("h3",{className:"text-lg font-semibold mb-2 text-foreground",children:"Compassion"}),Ee.jsx("p",{className:"text-sm text-muted-foreground",children:"Every student deserves to be heard, understood, and supported without judgment"})]})]}),Ee.jsxs("div",{className:"flex items-start space-x-4",children:[Ee.jsx("div",{className:"w-12 h-12 bg-secondary/10 rounded-full flex items-center justify-center flex-shrink-0",children:Ee.jsx("span",{className:"text-secondary font-bold",children:"E"})}),Ee.jsxs("div",{children:[Ee.jsx("h3",{className:"text-lg font-semibold mb-2 text-foreground",children:"Evidence-Based"}),Ee.jsx("p",{className:"text-sm text-muted-foreground",children:"Our methods are grounded in research and proven to create lasting positive change"})]})]}),Ee.jsxs("div",{className:"flex items-start space-x-4",children:[Ee.jsx("div",{className:"w-12 h-12 bg-tertiary/10 rounded-full flex items-center justify-center flex-shrink-0",children:Ee.jsx("span",{className:"text-tertiary font-bold",children:"A"})}),Ee.jsxs("div",{children:[Ee.jsx("h3",{className:"text-lg font-semibold mb-2 text-foreground",children:"Accessibility"}),Ee.jsx("p",{className:"text-sm text-muted-foreground",children:"Mental wellness support should be available to all students, regardless of background"})]})]}),Ee.jsxs("div",{className:"flex items-start space-x-4",children:[Ee.jsx("div",{className:"w-12 h-12 bg-success/10 rounded-full flex items-center justify-center flex-shrink-0",children:Ee.jsx("span",{className:"text-success font-bold",children:"E"})}),Ee.jsxs("div",{children:[Ee.jsx("h3",{className:"text-lg font-semibold mb-2 text-foreground",children:"Excellence"}),Ee.jsx("p",{className:"text-sm text-muted-foreground",children:"We hold ourselves to the highest standards of professional practice and student care"})]})]})]})]})}),Ee.jsx("section",{className:"py-20 bg-gradient-to-r from-primary to-tertiary text-white",children:Ee.jsxs("div",{className:"container mx-auto px-4 text-center",children:[Ee.jsx("h2",{className:"text-3xl md:text-4xl font-bold mb-6",children:"Want to Learn More?"}),Ee.jsx("p",{className:"text-xl mb-8 max-w-2xl mx-auto opacity-95",children:"We'd love to tell you more about our programs and answer any questions"}),Ee.jsx(Yo,{asChild:!0,size:"lg",className:"bg-white text-primary hover:bg-white/90 font-semibold",children:Ee.jsx(Kt,{to:"/contact",children:"Contact Us"})})]})})]}),Ee.jsx(Dp,{})]})]});function Wp({className:e,...t}){return Ee.jsx("div",{className:Wa("animate-pulse rounded-md bg-muted",e),...t})}const Hp=()=>{const{data:e=[],isLoading:t}=Zo({queryKey:["student-plan"],queryFn:async()=>{const{data:e,error:t}=await xh.from("plans").select("*").in("plan_type",["student","both"]).eq("is_active",!0).order("display_order",{ascending:!0});if(t)throw t;return(e||[]).map(e=>({...e,features:Array.isArray(e.features)?e.features:[]}))},staleTime:0,refetchOnWindowFocus:!0});return Ee.jsxs(Ee.Fragment,{children:[Ee.jsx($p,{title:"For Students - Happy Space World",description:"Personalized counseling, pet therapy sessions, and digital resources to support your mental wellness journey. Track progress and build confidence."}),Ee.jsxs("div",{className:"min-h-screen flex flex-col",children:[Ee.jsx(Mp,{}),Ee.jsxs("main",{className:"flex-1",children:[Ee.jsx("section",{className:"py-20 bg-gradient-to-br from-primary to-primary-light text-white",children:Ee.jsxs("div",{className:"container mx-auto px-4 text-center",children:[Ee.jsx("h1",{className:"text-4xl md:text-5xl font-bold mb-6",children:"Your Personal Wellness Hub"}),Ee.jsx("p",{className:"text-xl mb-8 max-w-2xl mx-auto opacity-95",children:"Track your progress, celebrate your success, and discover your path to calm and confidence"}),Ee.jsx(Yo,{asChild:!0,size:"lg",className:"bg-secondary hover:bg-secondary-dark",children:Ee.jsx(Kt,{to:"/contact?type=student&source=booking#contact-form",children:"Book Your First Session"})})]})}),Ee.jsx("section",{className:"py-20 bg-background",children:Ee.jsxs("div",{className:"container mx-auto px-4",children:[Ee.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-center mb-12 text-foreground",children:"Our Services for Students"}),Ee.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[Ee.jsxs(Qo,{className:"hover:shadow-xl transition-all duration-300",children:[Ee.jsxs(Xo,{children:[Ee.jsx("div",{className:"w-16 h-16 bg-primary/10 rounded-full flex items-center justify-center mb-4",children:Ee.jsx(Gn,{className:"h-8 w-8 text-primary"})}),Ee.jsx(el,{children:"1-on-1 Expert Counseling"})]}),Ee.jsxs(sl,{children:[Ee.jsx("p",{className:"text-muted-foreground mb-4",children:"Personalized guidance from network of trained counselors"}),Ee.jsxs("ul",{className:"space-y-2 text-sm text-muted-foreground mb-6",children:[Ee.jsx("li",{children:" Duration: 45-60 minutes"}),Ee.jsx("li",{children:" Frequency: Weekly or bi-weekly"}),Ee.jsx("li",{children:" Confidential & supportive"})]}),Ee.jsx(Yo,{asChild:!0,className:"w-full",children:Ee.jsx(Kt,{to:"/contact?type=student&source=booking#contact-form",children:"Book Session"})})]})]}),Ee.jsxs(Qo,{className:"hover:shadow-xl transition-all duration-300 border-2 border-secondary",children:[Ee.jsxs(Xo,{children:[Ee.jsx("div",{className:"w-16 h-16 bg-secondary/10 rounded-full flex items-center justify-center mb-4",children:Ee.jsx(Zn,{className:"h-8 w-8 text-secondary"})}),Ee.jsx(el,{children:"Group Wellness Programs"})]}),Ee.jsxs(sl,{children:[Ee.jsx("p",{className:"text-muted-foreground mb-4",children:"Pet therapy, icebreakers, and group discussions with your schoolmates"}),Ee.jsxs("ul",{className:"space-y-2 text-sm text-muted-foreground mb-6",children:[Ee.jsx("li",{children:" Max 30 students per group"}),Ee.jsx("li",{children:" Duration: 60-90 minutes"}),Ee.jsx("li",{children:" Interactive & fun activities"})]}),Ee.jsx(Yo,{asChild:!0,className:"w-full bg-secondary hover:bg-secondary-dark",children:Ee.jsx(Kt,{to:"/contact?type=student&source=plan#contact-form",children:"Join Program"})})]})]}),Ee.jsxs(Qo,{className:"hover:shadow-xl transition-all duration-300",children:[Ee.jsxs(Xo,{children:[Ee.jsx("div",{className:"w-16 h-16 bg-tertiary/10 rounded-full flex items-center justify-center mb-4",children:Ee.jsx(on,{className:"h-8 w-8 text-tertiary"})}),Ee.jsx(el,{children:"Digital Resources"})]}),Ee.jsxs(sl,{children:[Ee.jsx("p",{className:"text-muted-foreground mb-4",children:"Self-help tools, worksheets, video tutorials, and blog content"}),Ee.jsxs("ul",{className:"space-y-2 text-sm text-muted-foreground mb-6",children:[Ee.jsx("li",{children:" Available 24/7"}),Ee.jsx("li",{children:" Downloadable materials"}),Ee.jsx("li",{children:" Mobile-friendly access"})]}),Ee.jsx(Yo,{asChild:!0,variant:"outline",className:"w-full",children:Ee.jsx(Kt,{to:"/resources",children:"Explore Resources"})})]})]})]})]})}),Ee.jsx("section",{className:"py-20 bg-muted/30",children:Ee.jsxs("div",{className:"container mx-auto px-4",children:[Ee.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-center mb-12 text-foreground",children:"What You'll Experience"}),Ee.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-12 max-w-4xl mx-auto",children:[Ee.jsxs("div",{className:"flex items-start space-x-4",children:[Ee.jsx("div",{className:"w-12 h-12 bg-primary/10 rounded-full flex items-center justify-center flex-shrink-0",children:Ee.jsx(dn,{className:"h-6 w-6 text-primary"})}),Ee.jsxs("div",{children:[Ee.jsx("h3",{className:"text-xl font-semibold mb-2 text-foreground",children:"Regular Sessions"}),Ee.jsx("p",{className:"text-muted-foreground",children:"Schedule weekly or bi-weekly sessions that fit your school routine and personal needs"})]})]}),Ee.jsxs("div",{className:"flex items-start space-x-4",children:[Ee.jsx("div",{className:"w-12 h-12 bg-secondary/10 rounded-full flex items-center justify-center flex-shrink-0",children:Ee.jsx(Wn,{className:"h-6 w-6 text-secondary"})}),Ee.jsxs("div",{children:[Ee.jsx("h3",{className:"text-xl font-semibold mb-2 text-foreground",children:"Progress Tracking"}),Ee.jsx("p",{className:"text-muted-foreground",children:"Monitor your mood, stress levels, and happiness scores with weekly check-ins"})]})]}),Ee.jsxs("div",{className:"flex items-start space-x-4",children:[Ee.jsx("div",{className:"w-12 h-12 bg-tertiary/10 rounded-full flex items-center justify-center flex-shrink-0",children:Ee.jsx(an,{className:"h-6 w-6 text-tertiary"})}),Ee.jsxs("div",{children:[Ee.jsx("h3",{className:"text-xl font-semibold mb-2 text-foreground",children:"Achievement Badges"}),Ee.jsx("p",{className:"text-muted-foreground",children:"Earn recognition for milestones like session completion and progress streaks"})]})]}),Ee.jsxs("div",{className:"flex items-start space-x-4",children:[Ee.jsx("div",{className:"w-12 h-12 bg-success/10 rounded-full flex items-center justify-center flex-shrink-0",children:Ee.jsx(Zn,{className:"h-6 w-6 text-success"})}),Ee.jsxs("div",{children:[Ee.jsx("h3",{className:"text-xl font-semibold mb-2 text-foreground",children:"Peer Support"}),Ee.jsx("p",{className:"text-muted-foreground",children:"Connect with other students in group activities and build a supportive community"})]})]})]})]})}),Ee.jsx("section",{className:"py-20 bg-background",children:Ee.jsxs("div",{className:"container mx-auto px-4",children:[Ee.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-center mb-4 text-foreground",children:"Simple, Transparent Pricing"}),Ee.jsx("p",{className:"text-center text-muted-foreground mb-12",children:"Invest in your mental wellness with our comprehensive program"}),t?Ee.jsxs(Qo,{className:"max-w-md mx-auto border-2 border-primary",children:[Ee.jsxs(Xo,{className:"text-center pb-8",children:[Ee.jsx(Wp,{className:"h-10 w-48 mx-auto mb-4"}),Ee.jsx(Wp,{className:"h-14 w-32 mx-auto"})]}),Ee.jsxs(sl,{children:[Ee.jsx("div",{className:"space-y-4 mb-8",children:Array.from({length:5}).map((e,t)=>Ee.jsx(Wp,{className:"h-6 w-full"},t))}),Ee.jsx(Wp,{className:"h-12 w-full"})]})]}):e.length>0?Ee.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8 max-w-5xl mx-auto",children:e.map(e=>Ee.jsxs(Qo,{className:"border-2 border-primary",children:[Ee.jsxs(Xo,{className:"text-center pb-8",children:[Ee.jsx(el,{className:"text-3xl font-bold text-foreground",children:e.name}),Ee.jsxs("div",{className:"mt-4",children:[Ee.jsx("span",{className:"text-5xl font-bold text-primary",children:e.price?`${e.price.toLocaleString()}`:"Contact Us"}),Ee.jsx("span",{className:"text-muted-foreground",children:" / student"})]})]}),Ee.jsxs(sl,{children:[Ee.jsx("ul",{className:"space-y-4 mb-8",children:e.features.map((e,t)=>Ee.jsxs("li",{className:"flex items-start",children:[Ee.jsx("div",{className:"w-6 h-6 bg-success/10 rounded-full flex items-center justify-center mr-3 flex-shrink-0 mt-0.5",children:Ee.jsx("svg",{className:"h-4 w-4 text-success",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:Ee.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})}),Ee.jsx("span",{className:"text-muted-foreground",children:e})]},t))}),Ee.jsx(Yo,{asChild:!0,className:"w-full",size:"lg",children:Ee.jsx(Kt,{to:`/contact?type=student&source=plan${e.contact_message?"&planId="+e.id:""}#contact-form`,children:"Get Started Today"})})]})]},e.id))}):Ee.jsx(Qo,{className:"max-w-md mx-auto",children:Ee.jsxs(sl,{className:"py-12 text-center",children:[Ee.jsx("p",{className:"text-muted-foreground",children:"No pricing plan available. Please contact us for details."}),Ee.jsx(Yo,{asChild:!0,className:"mt-4",children:Ee.jsx(Kt,{to:"/contact?type=student#contact-form",children:"Contact Us"})})]})})]})}),Ee.jsx("section",{className:"py-20 bg-gradient-to-r from-primary to-tertiary text-white",children:Ee.jsxs("div",{className:"container mx-auto px-4 text-center",children:[Ee.jsx("h2",{className:"text-3xl md:text-4xl font-bold mb-6",children:"Ready to Start Your Journey?"}),Ee.jsx("p",{className:"text-xl mb-8 max-w-2xl mx-auto opacity-95",children:"Join Happy Space World today and discover a calmer, more confident you"}),Ee.jsx(Yo,{asChild:!0,size:"lg",className:"bg-white text-primary hover:bg-white/90",children:Ee.jsx(Kt,{to:"/contact?type=student&source=booking#contact-form",children:"Book Your First Session"})})]})})]}),Ee.jsx(Dp,{})]})]})},Kp=()=>{const{data:e=[],isLoading:t}=Zo({queryKey:["school-plans"],queryFn:async()=>{const{data:e,error:t}=await xh.from("plans").select("*").in("plan_type",["school","both"]).eq("is_active",!0).order("display_order",{ascending:!0});if(t)throw t;return(e||[]).map(e=>({...e,features:Array.isArray(e.features)?e.features:[]}))},staleTime:0,refetchOnWindowFocus:!0});return Ee.jsxs(Ee.Fragment,{children:[Ee.jsx($p,{title:"For Schools - Happy Space World",description:"Transform your school's mental wellness with our certification programs. Proven results: 92% happiness improvement, 87% stress reduction."}),Ee.jsxs("div",{className:"min-h-screen flex flex-col",children:[Ee.jsx(Mp,{}),Ee.jsxs("main",{className:"flex-1",children:[Ee.jsx("section",{className:"py-20 bg-gradient-to-br from-primary to-tertiary text-white",children:Ee.jsxs("div",{className:"container mx-auto px-4 text-center",children:[Ee.jsx("h1",{className:"text-4xl md:text-5xl font-bold mb-6",children:"Transform Your School's Mental Wellness"}),Ee.jsx("p",{className:"text-xl mb-8 max-w-2xl mx-auto opacity-95",children:"Make your school a mental wellness pioneer with Happy Space World certification and programs"}),Ee.jsx(Yo,{asChild:!0,size:"lg",className:"bg-secondary hover:bg-secondary-dark",children:Ee.jsx(Kt,{to:"/contact?type=school&source=demo#contact-form",children:"Request School Demo"})})]})}),Ee.jsx("section",{className:"py-20 bg-background",children:Ee.jsxs("div",{className:"container mx-auto px-4",children:[Ee.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-center mb-12 text-foreground",children:"Why Schools Choose Happy Space World"}),Ee.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:[Ee.jsxs(Qo,{className:"border-border",children:[Ee.jsxs(Xo,{children:[Ee.jsx("div",{className:"w-12 h-12 bg-success/10 rounded-full flex items-center justify-center mb-3",children:Ee.jsx(Wn,{className:"h-6 w-6 text-success"})}),Ee.jsx(el,{children:"Improved Student Performance"})]}),Ee.jsx(sl,{children:Ee.jsx("p",{className:"text-muted-foreground",children:"92% improvement in happiness index and 87% reduction in stress levels leads to better academic outcomes"})})]}),Ee.jsxs(Qo,{className:"border-border",children:[Ee.jsxs(Xo,{children:[Ee.jsx("div",{className:"w-12 h-12 bg-primary/10 rounded-full flex items-center justify-center mb-3",children:Ee.jsx(an,{className:"h-6 w-6 text-primary"})}),Ee.jsx(el,{children:"Prestigious Certification"})]}),Ee.jsx(sl,{children:Ee.jsx("p",{className:"text-muted-foreground",children:"Earn Happy Space World Certified School status with Gold, Silver, or Bronze tier recognition"})})]}),Ee.jsxs(Qo,{className:"border-border",children:[Ee.jsxs(Xo,{children:[Ee.jsx("div",{className:"w-12 h-12 bg-secondary/10 rounded-full flex items-center justify-center mb-3",children:Ee.jsx(Zn,{className:"h-6 w-6 text-secondary"})}),Ee.jsx(el,{children:"Enhanced Reputation"})]}),Ee.jsx(sl,{children:Ee.jsx("p",{className:"text-muted-foreground",children:"Stand out as a wellness-focused institution with certification badge and media visibility"})})]}),Ee.jsxs(Qo,{className:"border-border",children:[Ee.jsxs(Xo,{children:[Ee.jsx("div",{className:"w-12 h-12 bg-tertiary/10 rounded-full flex items-center justify-center mb-3",children:Ee.jsx(Nn,{className:"h-6 w-6 text-tertiary"})}),Ee.jsx(el,{children:"Comprehensive Reports"})]}),Ee.jsx(sl,{children:Ee.jsx("p",{className:"text-muted-foreground",children:"Receive detailed annual wellness reports and data-driven insights about student progress"})})]}),Ee.jsxs(Qo,{className:"border-border",children:[Ee.jsxs(Xo,{children:[Ee.jsx("div",{className:"w-12 h-12 bg-warning/10 rounded-full flex items-center justify-center mb-3",children:Ee.jsx(Bn,{className:"h-6 w-6 text-warning"})}),Ee.jsx(el,{children:"Parent Satisfaction"})]}),Ee.jsx(sl,{children:Ee.jsx("p",{className:"text-muted-foreground",children:"Parents notice visible improvements in their children's focus, confidence, and emotional wellbeing"})})]}),Ee.jsxs(Qo,{className:"border-border",children:[Ee.jsxs(Xo,{children:[Ee.jsx("div",{className:"w-12 h-12 bg-calm-blue/10 rounded-full flex items-center justify-center mb-3",children:Ee.jsx(gn,{className:"h-6 w-6 text-calm-blue"})}),Ee.jsx(el,{children:"Expert Support"})]}),Ee.jsx(sl,{children:Ee.jsx("p",{className:"text-muted-foreground",children:"Guidance from Sivaram Raghavan and trained counselors using proven methodologies"})})]})]})]})}),Ee.jsx("section",{id:"certification",className:"py-20 bg-muted/30",children:Ee.jsxs("div",{className:"container mx-auto px-4",children:[Ee.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-center mb-4 text-foreground",children:"Certification Pathway"}),Ee.jsx("p",{className:"text-center text-muted-foreground mb-12 max-w-2xl mx-auto",children:"A simple 5-step process to become a Happy Space World Certified School"}),Ee.jsx("div",{className:"max-w-4xl mx-auto",children:Ee.jsxs("div",{className:"space-y-8",children:[Ee.jsxs("div",{className:"flex items-start",children:[Ee.jsx("div",{className:"flex-shrink-0 w-12 h-12 bg-primary text-white rounded-full flex items-center justify-center font-bold text-lg mr-4",children:"1"}),Ee.jsxs("div",{children:[Ee.jsx("h3",{className:"text-xl font-semibold mb-2 text-foreground",children:"Baseline Assessment"}),Ee.jsx("p",{className:"text-muted-foreground",children:"Conduct initial Happiness Index Survey to understand current student mental wellness levels"})]})]}),Ee.jsxs("div",{className:"flex items-start",children:[Ee.jsx("div",{className:"flex-shrink-0 w-12 h-12 bg-primary text-white rounded-full flex items-center justify-center font-bold text-lg mr-4",children:"2"}),Ee.jsxs("div",{children:[Ee.jsx("h3",{className:"text-xl font-semibold mb-2 text-foreground",children:"Program Execution"}),Ee.jsx("p",{className:"text-muted-foreground",children:"4-6 week comprehensive program with pet therapy sessions, expert counseling, and wellness activities"})]})]}),Ee.jsxs("div",{className:"flex items-start",children:[Ee.jsx("div",{className:"flex-shrink-0 w-12 h-12 bg-primary text-white rounded-full flex items-center justify-center font-bold text-lg mr-4",children:"3"}),Ee.jsxs("div",{children:[Ee.jsx("h3",{className:"text-xl font-semibold mb-2 text-foreground",children:"Post-Program Assessment"}),Ee.jsx("p",{className:"text-muted-foreground",children:"Re-survey students and analyze improvement data to measure program impact"})]})]}),Ee.jsxs("div",{className:"flex items-start",children:[Ee.jsx("div",{className:"flex-shrink-0 w-12 h-12 bg-primary text-white rounded-full flex items-center justify-center font-bold text-lg mr-4",children:"4"}),Ee.jsxs("div",{children:[Ee.jsx("h3",{className:"text-xl font-semibold mb-2 text-foreground",children:"Certification Award"}),Ee.jsx("p",{className:"text-muted-foreground",children:"Receive Gold, Silver, or Bronze tier certification based on measurable impact metrics"})]})]}),Ee.jsxs("div",{className:"flex items-start",children:[Ee.jsx("div",{className:"flex-shrink-0 w-12 h-12 bg-primary text-white rounded-full flex items-center justify-center font-bold text-lg mr-4",children:"5"}),Ee.jsxs("div",{children:[Ee.jsx("h3",{className:"text-xl font-semibold mb-2 text-foreground",children:"Recognition & Media"}),Ee.jsx("p",{className:"text-muted-foreground",children:"Display certification badge, receive media coverage, and get annual wellness reports"})]})]})]})})]})}),Ee.jsx("section",{id:"pricing",className:"py-20 bg-background",children:Ee.jsxs("div",{className:"container mx-auto px-4",children:[Ee.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-center mb-4 text-foreground",children:"Transparent, Flexible Pricing"}),Ee.jsx("p",{className:"text-center text-muted-foreground mb-12",children:"Choose the package that fits your school's needs"}),t?Ee.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8 max-w-6xl mx-auto",children:Array.from({length:3}).map((e,t)=>Ee.jsxs(Qo,{children:[Ee.jsxs(Xo,{children:[Ee.jsx(Wp,{className:"h-8 w-40 mb-4"}),Ee.jsx(Wp,{className:"h-12 w-32"}),Ee.jsx(Wp,{className:"h-4 w-48 mt-2"})]}),Ee.jsxs(sl,{children:[Ee.jsx("div",{className:"space-y-3 mb-6",children:Array.from({length:4}).map((e,t)=>Ee.jsx(Wp,{className:"h-4 w-full"},t))}),Ee.jsx(Wp,{className:"h-10 w-full"})]})]},t))}):Ee.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8 max-w-6xl mx-auto",children:e.map((e,t)=>{const s=1===t;return Ee.jsxs(Qo,{className:s?"border-2 border-secondary shadow-xl":"border-border",children:[s&&Ee.jsx("div",{className:"bg-secondary text-white text-center py-2 text-sm font-semibold",children:"RECOMMENDED"}),Ee.jsxs(Xo,{children:[Ee.jsx(el,{className:"text-2xl",children:e.name}),Ee.jsxs("div",{className:"mt-4",children:[Ee.jsx("span",{className:"text-4xl font-bold text-primary",children:e.price&&e.price>0?`${e.price.toLocaleString()}${e.name.includes("Growth")?"+":""}`:"Custom"}),Ee.jsx("p",{className:"text-sm text-muted-foreground mt-2",children:e.description})]})]}),Ee.jsxs(sl,{children:[Ee.jsx("ul",{className:"space-y-3 mb-6",children:e.features.map((e,t)=>Ee.jsxs("li",{className:"flex items-start",children:[Ee.jsx(gn,{className:"h-5 w-5 text-success mr-2 flex-shrink-0 mt-0.5"}),Ee.jsx("span",{className:"text-sm text-muted-foreground",children:e})]},t))}),Ee.jsx(Yo,{asChild:!0,variant:s?"default":"outline",className:s?"w-full bg-secondary hover:bg-secondary-dark":"w-full",children:Ee.jsx(Kt,{to:`/contact?type=school&source=${e.price&&e.price>0?"pricing":"quote"}${e.contact_message?"&planId="+e.id:""}#contact-form`,children:e.price&&e.price>0?`Choose ${e.name.split(" ")[0]}`:"Request Quote"})})]})]},e.id)})})]})}),Ee.jsx("section",{className:"py-20 bg-muted/30",children:Ee.jsxs("div",{className:"container mx-auto px-4",children:[Ee.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-center mb-12 text-foreground",children:"See the Impact"}),Ee.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[Ee.jsxs(Qo,{className:"border-border",children:[Ee.jsxs(Xo,{children:[Ee.jsxs("div",{className:"flex items-center justify-between mb-2",children:[Ee.jsx(el,{className:"text-lg",children:"Delhi Public School"}),Ee.jsx(an,{className:"h-6 w-6 text-warning"})]}),Ee.jsx("p",{className:"text-sm text-muted-foreground",children:"45 students participated"})]}),Ee.jsxs(sl,{children:[Ee.jsxs("div",{className:"mb-4",children:[Ee.jsx("div",{className:"text-3xl font-bold text-primary mb-1",children:"78%"}),Ee.jsx("p",{className:"text-sm text-muted-foreground",children:"Happiness improvement"})]}),Ee.jsx("p",{className:"text-sm text-muted-foreground italic",children:'"This program transformed our school culture and student wellbeing."'})]})]}),Ee.jsxs(Qo,{className:"border-border",children:[Ee.jsxs(Xo,{children:[Ee.jsxs("div",{className:"flex items-center justify-between mb-2",children:[Ee.jsx(el,{className:"text-lg",children:"Mumbai International"}),Ee.jsx(an,{className:"h-6 w-6 text-warning"})]}),Ee.jsx("p",{className:"text-sm text-muted-foreground",children:"60 students participated"})]}),Ee.jsxs(sl,{children:[Ee.jsxs("div",{className:"mb-4",children:[Ee.jsx("div",{className:"text-3xl font-bold text-primary mb-1",children:"85%"}),Ee.jsx("p",{className:"text-sm text-muted-foreground",children:"Stress reduction"})]}),Ee.jsx("p",{className:"text-sm text-muted-foreground italic",children:'"Parents noticed visible change in focus and emotional regulation."'})]})]}),Ee.jsxs(Qo,{className:"border-2 border-warning",children:[Ee.jsxs(Xo,{children:[Ee.jsxs("div",{className:"flex items-center justify-between mb-2",children:[Ee.jsx(el,{className:"text-lg",children:"Bangalore Academy"}),Ee.jsxs("div",{className:"flex items-center space-x-1",children:[Ee.jsx(Bn,{className:"h-5 w-5 fill-warning text-warning"}),Ee.jsx("span",{className:"text-xs font-semibold text-warning",children:"GOLD"})]})]}),Ee.jsx("p",{className:"text-sm text-muted-foreground",children:"30 students participated"})]}),Ee.jsxs(sl,{children:[Ee.jsxs("div",{className:"mb-4",children:[Ee.jsx("div",{className:"text-3xl font-bold text-primary mb-1",children:"Gold Tier"}),Ee.jsx("p",{className:"text-sm text-muted-foreground",children:"Certified Happy Space World"})]}),Ee.jsx("p",{className:"text-sm text-muted-foreground italic",children:'"Best decision we made for our students\' mental health."'})]})]})]})]})}),Ee.jsx("section",{className:"py-20 bg-gradient-to-r from-primary to-tertiary text-white",children:Ee.jsxs("div",{className:"container mx-auto px-4 text-center",children:[Ee.jsx("h2",{className:"text-3xl md:text-4xl font-bold mb-6",children:"Ready to Transform Your School?"}),Ee.jsx("p",{className:"text-xl mb-8 max-w-2xl mx-auto opacity-95",children:"Join leading schools in prioritizing student mental wellness"}),Ee.jsx(Yo,{asChild:!0,size:"lg",className:"bg-white text-primary hover:bg-white/90",children:Ee.jsx(Kt,{to:"/contact?type=school&source=cta#contact-form",children:"Request a Demo"})})]})})]}),Ee.jsx(Dp,{})]})]})};var Vp,Gp,Zp;(Gp=Vp||(Vp={})).assertEqual=e=>{},Gp.assertIs=function(e){},Gp.assertNever=function(e){throw new Error},Gp.arrayToEnum=e=>{const t={};for(const s of e)t[s]=s;return t},Gp.getValidEnumValues=e=>{const t=Gp.objectKeys(e).filter(t=>"number"!=typeof e[e[t]]),s={};for(const r of t)s[r]=e[r];return Gp.objectValues(s)},Gp.objectValues=e=>Gp.objectKeys(e).map(function(t){return e[t]}),Gp.objectKeys="function"==typeof Object.keys?e=>Object.keys(e):e=>{const t=[];for(const s in e)Object.prototype.hasOwnProperty.call(e,s)&&t.push(s);return t},Gp.find=(e,t)=>{for(const s of e)if(t(s))return s},Gp.isInteger="function"==typeof Number.isInteger?e=>Number.isInteger(e):e=>"number"==typeof e&&Number.isFinite(e)&&Math.floor(e)===e,Gp.joinValues=function(e,t=" | "){return e.map(e=>"string"==typeof e?`'${e}'`:e).join(t)},Gp.jsonStringifyReplacer=(e,t)=>"bigint"==typeof t?t.toString():t,(Zp||(Zp={})).mergeShapes=(e,t)=>({...e,...t});const Jp=Vp.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),Yp=e=>{switch(typeof e){case"undefined":return Jp.undefined;case"string":return Jp.string;case"number":return Number.isNaN(e)?Jp.nan:Jp.number;case"boolean":return Jp.boolean;case"function":return Jp.function;case"bigint":return Jp.bigint;case"symbol":return Jp.symbol;case"object":return Array.isArray(e)?Jp.array:null===e?Jp.null:e.then&&"function"==typeof e.then&&e.catch&&"function"==typeof e.catch?Jp.promise:"undefined"!=typeof Map&&e instanceof Map?Jp.map:"undefined"!=typeof Set&&e instanceof Set?Jp.set:"undefined"!=typeof Date&&e instanceof Date?Jp.date:Jp.object;default:return Jp.unknown}},Qp=Vp.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]);class Xp extends Error{get errors(){return this.issues}constructor(e){super(),this.issues=[],this.addIssue=e=>{this.issues=[...this.issues,e]},this.addIssues=(e=[])=>{this.issues=[...this.issues,...e]};const t=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,t):this.__proto__=t,this.name="ZodError",this.issues=e}format(e){const t=e||function(e){return e.message},s={_errors:[]},r=e=>{for(const n of e.issues)if("invalid_union"===n.code)n.unionErrors.map(r);else if("invalid_return_type"===n.code)r(n.returnTypeError);else if("invalid_arguments"===n.code)r(n.argumentsError);else if(0===n.path.length)s._errors.push(t(n));else{let e=s,r=0;for(;r<n.path.length;){const s=n.path[r];r===n.path.length-1?(e[s]=e[s]||{_errors:[]},e[s]._errors.push(t(n))):e[s]=e[s]||{_errors:[]},e=e[s],r++}}};return r(this),s}static assert(e){if(!(e instanceof Xp))throw new Error(`Not a ZodError: ${e}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,Vp.jsonStringifyReplacer,2)}get isEmpty(){return 0===this.issues.length}flatten(e=e=>e.message){const t={},s=[];for(const r of this.issues)if(r.path.length>0){const s=r.path[0];t[s]=t[s]||[],t[s].push(e(r))}else s.push(e(r));return{formErrors:s,fieldErrors:t}}get formErrors(){return this.flatten()}}Xp.create=e=>new Xp(e);const ef=(e,t)=>{let s;switch(e.code){case Qp.invalid_type:s=e.received===Jp.undefined?"Required":`Expected ${e.expected}, received ${e.received}`;break;case Qp.invalid_literal:s=`Invalid literal value, expected ${JSON.stringify(e.expected,Vp.jsonStringifyReplacer)}`;break;case Qp.unrecognized_keys:s=`Unrecognized key(s) in object: ${Vp.joinValues(e.keys,", ")}`;break;case Qp.invalid_union:s="Invalid input";break;case Qp.invalid_union_discriminator:s=`Invalid discriminator value. Expected ${Vp.joinValues(e.options)}`;break;case Qp.invalid_enum_value:s=`Invalid enum value. Expected ${Vp.joinValues(e.options)}, received '${e.received}'`;break;case Qp.invalid_arguments:s="Invalid function arguments";break;case Qp.invalid_return_type:s="Invalid function return type";break;case Qp.invalid_date:s="Invalid date";break;case Qp.invalid_string:"object"==typeof e.validation?"includes"in e.validation?(s=`Invalid input: must include "${e.validation.includes}"`,"number"==typeof e.validation.position&&(s=`${s} at one or more positions greater than or equal to ${e.validation.position}`)):"startsWith"in e.validation?s=`Invalid input: must start with "${e.validation.startsWith}"`:"endsWith"in e.validation?s=`Invalid input: must end with "${e.validation.endsWith}"`:Vp.assertNever(e.validation):s="regex"!==e.validation?`Invalid ${e.validation}`:"Invalid";break;case Qp.too_small:s="array"===e.type?`Array must contain ${e.exact?"exactly":e.inclusive?"at least":"more than"} ${e.minimum} element(s)`:"string"===e.type?`String must contain ${e.exact?"exactly":e.inclusive?"at least":"over"} ${e.minimum} character(s)`:"number"===e.type||"bigint"===e.type?`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:"date"===e.type?`Date must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(e.minimum))}`:"Invalid input";break;case Qp.too_big:s="array"===e.type?`Array must contain ${e.exact?"exactly":e.inclusive?"at most":"less than"} ${e.maximum} element(s)`:"string"===e.type?`String must contain ${e.exact?"exactly":e.inclusive?"at most":"under"} ${e.maximum} character(s)`:"number"===e.type?`Number must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:"bigint"===e.type?`BigInt must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:"date"===e.type?`Date must be ${e.exact?"exactly":e.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(e.maximum))}`:"Invalid input";break;case Qp.custom:s="Invalid input";break;case Qp.invalid_intersection_types:s="Intersection results could not be merged";break;case Qp.not_multiple_of:s=`Number must be a multiple of ${e.multipleOf}`;break;case Qp.not_finite:s="Number must be finite";break;default:s=t.defaultError,Vp.assertNever(e)}return{message:s}};let tf=ef;function sf(e,t){const s=tf,r=(e=>{const{data:t,path:s,errorMaps:r,issueData:n}=e,a=[...s,...n.path||[]],i={...n,path:a};if(void 0!==n.message)return{...n,path:a,message:n.message};let o="";const l=r.filter(e=>!!e).slice().reverse();for(const c of l)o=c(i,{data:t,defaultError:o}).message;return{...n,path:a,message:o}})({issueData:t,data:e.data,path:e.path,errorMaps:[e.common.contextualErrorMap,e.schemaErrorMap,s,s===ef?void 0:ef].filter(e=>!!e)});e.common.issues.push(r)}class rf{constructor(){this.value="valid"}dirty(){"valid"===this.value&&(this.value="dirty")}abort(){"aborted"!==this.value&&(this.value="aborted")}static mergeArray(e,t){const s=[];for(const r of t){if("aborted"===r.status)return nf;"dirty"===r.status&&e.dirty(),s.push(r.value)}return{status:e.value,value:s}}static async mergeObjectAsync(e,t){const s=[];for(const r of t){const e=await r.key,t=await r.value;s.push({key:e,value:t})}return rf.mergeObjectSync(e,s)}static mergeObjectSync(e,t){const s={};for(const r of t){const{key:t,value:n}=r;if("aborted"===t.status)return nf;if("aborted"===n.status)return nf;"dirty"===t.status&&e.dirty(),"dirty"===n.status&&e.dirty(),"__proto__"===t.value||void 0===n.value&&!r.alwaysSet||(s[t.value]=n.value)}return{status:e.value,value:s}}}const nf=Object.freeze({status:"aborted"}),af=e=>({status:"dirty",value:e}),of=e=>({status:"valid",value:e}),lf=e=>"aborted"===e.status,cf=e=>"dirty"===e.status,df=e=>"valid"===e.status,uf=e=>"undefined"!=typeof Promise&&e instanceof Promise;var hf,mf;(mf=hf||(hf={})).errToObj=e=>"string"==typeof e?{message:e}:e||{},mf.toString=e=>"string"==typeof e?e:null==e?void 0:e.message;class pf{constructor(e,t,s,r){this._cachedPath=[],this.parent=e,this.data=t,this._path=s,this._key=r}get path(){return this._cachedPath.length||(Array.isArray(this._key)?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const ff=(e,t)=>{if(df(t))return{success:!0,data:t.value};if(!e.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const t=new Xp(e.common.issues);return this._error=t,this._error}}};function gf(e){if(!e)return{};const{errorMap:t,invalid_type_error:s,required_error:r,description:n}=e;if(t&&(s||r))throw new Error('Can\'t use "invalid_type_error" or "required_error" in conjunction with custom error map.');if(t)return{errorMap:t,description:n};return{errorMap:(t,n)=>{const{message:a}=e;return"invalid_enum_value"===t.code?{message:a??n.defaultError}:void 0===n.data?{message:a??r??n.defaultError}:"invalid_type"!==t.code?{message:n.defaultError}:{message:a??s??n.defaultError}},description:n}}class xf{get description(){return this._def.description}_getType(e){return Yp(e.data)}_getOrReturnCtx(e,t){return t||{common:e.parent.common,data:e.data,parsedType:Yp(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new rf,ctx:{common:e.parent.common,data:e.data,parsedType:Yp(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){const t=this._parse(e);if(uf(t))throw new Error("Synchronous parse encountered promise.");return t}_parseAsync(e){const t=this._parse(e);return Promise.resolve(t)}parse(e,t){const s=this.safeParse(e,t);if(s.success)return s.data;throw s.error}safeParse(e,t){const s={common:{issues:[],async:(null==t?void 0:t.async)??!1,contextualErrorMap:null==t?void 0:t.errorMap},path:(null==t?void 0:t.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Yp(e)},r=this._parseSync({data:e,path:s.path,parent:s});return ff(s,r)}"~validate"(e){var t,s;const r={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Yp(e)};if(!this["~standard"].async)try{const t=this._parseSync({data:e,path:[],parent:r});return df(t)?{value:t.value}:{issues:r.common.issues}}catch(n){(null==(s=null==(t=null==n?void 0:n.message)?void 0:t.toLowerCase())?void 0:s.includes("encountered"))&&(this["~standard"].async=!0),r.common={issues:[],async:!0}}return this._parseAsync({data:e,path:[],parent:r}).then(e=>df(e)?{value:e.value}:{issues:r.common.issues})}async parseAsync(e,t){const s=await this.safeParseAsync(e,t);if(s.success)return s.data;throw s.error}async safeParseAsync(e,t){const s={common:{issues:[],contextualErrorMap:null==t?void 0:t.errorMap,async:!0},path:(null==t?void 0:t.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Yp(e)},r=this._parse({data:e,path:s.path,parent:s}),n=await(uf(r)?r:Promise.resolve(r));return ff(s,n)}refine(e,t){const s=e=>"string"==typeof t||void 0===t?{message:t}:"function"==typeof t?t(e):t;return this._refinement((t,r)=>{const n=e(t),a=()=>r.addIssue({code:Qp.custom,...s(t)});return"undefined"!=typeof Promise&&n instanceof Promise?n.then(e=>!!e||(a(),!1)):!!n||(a(),!1)})}refinement(e,t){return this._refinement((s,r)=>!!e(s)||(r.addIssue("function"==typeof t?t(s,r):t),!1))}_refinement(e){return new fg({schema:this,typeName:Ng.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:e=>this["~validate"](e)}}optional(){return gg.create(this,this._def)}nullable(){return xg.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return eg.create(this)}promise(){return pg.create(this,this._def)}or(e){return rg.create([this,e],this._def)}and(e){return ag.create(this,e,this._def)}transform(e){return new fg({...gf(this._def),schema:this,typeName:Ng.ZodEffects,effect:{type:"transform",transform:e}})}default(e){const t="function"==typeof e?e:()=>e;return new vg({...gf(this._def),innerType:this,defaultValue:t,typeName:Ng.ZodDefault})}brand(){return new wg({typeName:Ng.ZodBranded,type:this,...gf(this._def)})}catch(e){const t="function"==typeof e?e:()=>e;return new yg({...gf(this._def),innerType:this,catchValue:t,typeName:Ng.ZodCatch})}describe(e){return new(0,this.constructor)({...this._def,description:e})}pipe(e){return jg.create(this,e)}readonly(){return _g.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const vf=/^c[^\s-]{8,}$/i,yf=/^[0-9a-z]+$/,bf=/^[0-9A-HJKMNP-TV-Z]{26}$/i,wf=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,jf=/^[a-z0-9_-]{21}$/i,_f=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,Nf=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,kf=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i;let Sf;const Cf=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,Ef=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,Tf=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,Rf=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,Of=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,Af=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,Pf="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",If=new RegExp(`^${Pf}$`);function Mf(e){let t="[0-5]\\d";e.precision?t=`${t}\\.\\d{${e.precision}}`:null==e.precision&&(t=`${t}(\\.\\d+)?`);return`([01]\\d|2[0-3]):[0-5]\\d(:${t})${e.precision?"+":"?"}`}function Df(e){return new RegExp(`^${Mf(e)}$`)}function $f(e){let t=`${Pf}T${Mf(e)}`;const s=[];return s.push(e.local?"Z?":"Z"),e.offset&&s.push("([+-]\\d{2}:?\\d{2})"),t=`${t}(${s.join("|")})`,new RegExp(`^${t}$`)}function Lf(e,t){return!("v4"!==t&&t||!Cf.test(e))||!("v6"!==t&&t||!Tf.test(e))}function Uf(e,t){if(!_f.test(e))return!1;try{const[s]=e.split(".");if(!s)return!1;const r=s.replace(/-/g,"+").replace(/_/g,"/").padEnd(s.length+(4-s.length%4)%4,"="),n=JSON.parse(atob(r));return"object"==typeof n&&null!==n&&((!("typ"in n)||"JWT"===(null==n?void 0:n.typ))&&(!!n.alg&&(!t||n.alg===t)))}catch{return!1}}function Ff(e,t){return!("v4"!==t&&t||!Ef.test(e))||!("v6"!==t&&t||!Rf.test(e))}class Bf extends xf{_parse(e){this._def.coerce&&(e.data=String(e.data));if(this._getType(e)!==Jp.string){const t=this._getOrReturnCtx(e);return sf(t,{code:Qp.invalid_type,expected:Jp.string,received:t.parsedType}),nf}const t=new rf;let s;for(const r of this._def.checks)if("min"===r.kind)e.data.length<r.value&&(s=this._getOrReturnCtx(e,s),sf(s,{code:Qp.too_small,minimum:r.value,type:"string",inclusive:!0,exact:!1,message:r.message}),t.dirty());else if("max"===r.kind)e.data.length>r.value&&(s=this._getOrReturnCtx(e,s),sf(s,{code:Qp.too_big,maximum:r.value,type:"string",inclusive:!0,exact:!1,message:r.message}),t.dirty());else if("length"===r.kind){const n=e.data.length>r.value,a=e.data.length<r.value;(n||a)&&(s=this._getOrReturnCtx(e,s),n?sf(s,{code:Qp.too_big,maximum:r.value,type:"string",inclusive:!0,exact:!0,message:r.message}):a&&sf(s,{code:Qp.too_small,minimum:r.value,type:"string",inclusive:!0,exact:!0,message:r.message}),t.dirty())}else if("email"===r.kind)kf.test(e.data)||(s=this._getOrReturnCtx(e,s),sf(s,{validation:"email",code:Qp.invalid_string,message:r.message}),t.dirty());else if("emoji"===r.kind)Sf||(Sf=new RegExp("^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$","u")),Sf.test(e.data)||(s=this._getOrReturnCtx(e,s),sf(s,{validation:"emoji",code:Qp.invalid_string,message:r.message}),t.dirty());else if("uuid"===r.kind)wf.test(e.data)||(s=this._getOrReturnCtx(e,s),sf(s,{validation:"uuid",code:Qp.invalid_string,message:r.message}),t.dirty());else if("nanoid"===r.kind)jf.test(e.data)||(s=this._getOrReturnCtx(e,s),sf(s,{validation:"nanoid",code:Qp.invalid_string,message:r.message}),t.dirty());else if("cuid"===r.kind)vf.test(e.data)||(s=this._getOrReturnCtx(e,s),sf(s,{validation:"cuid",code:Qp.invalid_string,message:r.message}),t.dirty());else if("cuid2"===r.kind)yf.test(e.data)||(s=this._getOrReturnCtx(e,s),sf(s,{validation:"cuid2",code:Qp.invalid_string,message:r.message}),t.dirty());else if("ulid"===r.kind)bf.test(e.data)||(s=this._getOrReturnCtx(e,s),sf(s,{validation:"ulid",code:Qp.invalid_string,message:r.message}),t.dirty());else if("url"===r.kind)try{new URL(e.data)}catch{s=this._getOrReturnCtx(e,s),sf(s,{validation:"url",code:Qp.invalid_string,message:r.message}),t.dirty()}else if("regex"===r.kind){r.regex.lastIndex=0;r.regex.test(e.data)||(s=this._getOrReturnCtx(e,s),sf(s,{validation:"regex",code:Qp.invalid_string,message:r.message}),t.dirty())}else if("trim"===r.kind)e.data=e.data.trim();else if("includes"===r.kind)e.data.includes(r.value,r.position)||(s=this._getOrReturnCtx(e,s),sf(s,{code:Qp.invalid_string,validation:{includes:r.value,position:r.position},message:r.message}),t.dirty());else if("toLowerCase"===r.kind)e.data=e.data.toLowerCase();else if("toUpperCase"===r.kind)e.data=e.data.toUpperCase();else if("startsWith"===r.kind)e.data.startsWith(r.value)||(s=this._getOrReturnCtx(e,s),sf(s,{code:Qp.invalid_string,validation:{startsWith:r.value},message:r.message}),t.dirty());else if("endsWith"===r.kind)e.data.endsWith(r.value)||(s=this._getOrReturnCtx(e,s),sf(s,{code:Qp.invalid_string,validation:{endsWith:r.value},message:r.message}),t.dirty());else if("datetime"===r.kind){$f(r).test(e.data)||(s=this._getOrReturnCtx(e,s),sf(s,{code:Qp.invalid_string,validation:"datetime",message:r.message}),t.dirty())}else if("date"===r.kind){If.test(e.data)||(s=this._getOrReturnCtx(e,s),sf(s,{code:Qp.invalid_string,validation:"date",message:r.message}),t.dirty())}else if("time"===r.kind){Df(r).test(e.data)||(s=this._getOrReturnCtx(e,s),sf(s,{code:Qp.invalid_string,validation:"time",message:r.message}),t.dirty())}else"duration"===r.kind?Nf.test(e.data)||(s=this._getOrReturnCtx(e,s),sf(s,{validation:"duration",code:Qp.invalid_string,message:r.message}),t.dirty()):"ip"===r.kind?Lf(e.data,r.version)||(s=this._getOrReturnCtx(e,s),sf(s,{validation:"ip",code:Qp.invalid_string,message:r.message}),t.dirty()):"jwt"===r.kind?Uf(e.data,r.alg)||(s=this._getOrReturnCtx(e,s),sf(s,{validation:"jwt",code:Qp.invalid_string,message:r.message}),t.dirty()):"cidr"===r.kind?Ff(e.data,r.version)||(s=this._getOrReturnCtx(e,s),sf(s,{validation:"cidr",code:Qp.invalid_string,message:r.message}),t.dirty()):"base64"===r.kind?Of.test(e.data)||(s=this._getOrReturnCtx(e,s),sf(s,{validation:"base64",code:Qp.invalid_string,message:r.message}),t.dirty()):"base64url"===r.kind?Af.test(e.data)||(s=this._getOrReturnCtx(e,s),sf(s,{validation:"base64url",code:Qp.invalid_string,message:r.message}),t.dirty()):Vp.assertNever(r);return{status:t.value,value:e.data}}_regex(e,t,s){return this.refinement(t=>e.test(t),{validation:t,code:Qp.invalid_string,...hf.errToObj(s)})}_addCheck(e){return new Bf({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...hf.errToObj(e)})}url(e){return this._addCheck({kind:"url",...hf.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...hf.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...hf.errToObj(e)})}nanoid(e){return this._addCheck({kind:"nanoid",...hf.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...hf.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...hf.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...hf.errToObj(e)})}base64(e){return this._addCheck({kind:"base64",...hf.errToObj(e)})}base64url(e){return this._addCheck({kind:"base64url",...hf.errToObj(e)})}jwt(e){return this._addCheck({kind:"jwt",...hf.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...hf.errToObj(e)})}cidr(e){return this._addCheck({kind:"cidr",...hf.errToObj(e)})}datetime(e){return"string"==typeof e?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:e}):this._addCheck({kind:"datetime",precision:void 0===(null==e?void 0:e.precision)?null:null==e?void 0:e.precision,offset:(null==e?void 0:e.offset)??!1,local:(null==e?void 0:e.local)??!1,...hf.errToObj(null==e?void 0:e.message)})}date(e){return this._addCheck({kind:"date",message:e})}time(e){return"string"==typeof e?this._addCheck({kind:"time",precision:null,message:e}):this._addCheck({kind:"time",precision:void 0===(null==e?void 0:e.precision)?null:null==e?void 0:e.precision,...hf.errToObj(null==e?void 0:e.message)})}duration(e){return this._addCheck({kind:"duration",...hf.errToObj(e)})}regex(e,t){return this._addCheck({kind:"regex",regex:e,...hf.errToObj(t)})}includes(e,t){return this._addCheck({kind:"includes",value:e,position:null==t?void 0:t.position,...hf.errToObj(null==t?void 0:t.message)})}startsWith(e,t){return this._addCheck({kind:"startsWith",value:e,...hf.errToObj(t)})}endsWith(e,t){return this._addCheck({kind:"endsWith",value:e,...hf.errToObj(t)})}min(e,t){return this._addCheck({kind:"min",value:e,...hf.errToObj(t)})}max(e,t){return this._addCheck({kind:"max",value:e,...hf.errToObj(t)})}length(e,t){return this._addCheck({kind:"length",value:e,...hf.errToObj(t)})}nonempty(e){return this.min(1,hf.errToObj(e))}trim(){return new Bf({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new Bf({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new Bf({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(e=>"datetime"===e.kind)}get isDate(){return!!this._def.checks.find(e=>"date"===e.kind)}get isTime(){return!!this._def.checks.find(e=>"time"===e.kind)}get isDuration(){return!!this._def.checks.find(e=>"duration"===e.kind)}get isEmail(){return!!this._def.checks.find(e=>"email"===e.kind)}get isURL(){return!!this._def.checks.find(e=>"url"===e.kind)}get isEmoji(){return!!this._def.checks.find(e=>"emoji"===e.kind)}get isUUID(){return!!this._def.checks.find(e=>"uuid"===e.kind)}get isNANOID(){return!!this._def.checks.find(e=>"nanoid"===e.kind)}get isCUID(){return!!this._def.checks.find(e=>"cuid"===e.kind)}get isCUID2(){return!!this._def.checks.find(e=>"cuid2"===e.kind)}get isULID(){return!!this._def.checks.find(e=>"ulid"===e.kind)}get isIP(){return!!this._def.checks.find(e=>"ip"===e.kind)}get isCIDR(){return!!this._def.checks.find(e=>"cidr"===e.kind)}get isBase64(){return!!this._def.checks.find(e=>"base64"===e.kind)}get isBase64url(){return!!this._def.checks.find(e=>"base64url"===e.kind)}get minLength(){let e=null;for(const t of this._def.checks)"min"===t.kind&&(null===e||t.value>e)&&(e=t.value);return e}get maxLength(){let e=null;for(const t of this._def.checks)"max"===t.kind&&(null===e||t.value<e)&&(e=t.value);return e}}function zf(e,t){const s=(e.toString().split(".")[1]||"").length,r=(t.toString().split(".")[1]||"").length,n=s>r?s:r;return Number.parseInt(e.toFixed(n).replace(".",""))%Number.parseInt(t.toFixed(n).replace(".",""))/10**n}Bf.create=e=>new Bf({checks:[],typeName:Ng.ZodString,coerce:(null==e?void 0:e.coerce)??!1,...gf(e)});class qf extends xf{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){this._def.coerce&&(e.data=Number(e.data));if(this._getType(e)!==Jp.number){const t=this._getOrReturnCtx(e);return sf(t,{code:Qp.invalid_type,expected:Jp.number,received:t.parsedType}),nf}let t;const s=new rf;for(const r of this._def.checks)if("int"===r.kind)Vp.isInteger(e.data)||(t=this._getOrReturnCtx(e,t),sf(t,{code:Qp.invalid_type,expected:"integer",received:"float",message:r.message}),s.dirty());else if("min"===r.kind){(r.inclusive?e.data<r.value:e.data<=r.value)&&(t=this._getOrReturnCtx(e,t),sf(t,{code:Qp.too_small,minimum:r.value,type:"number",inclusive:r.inclusive,exact:!1,message:r.message}),s.dirty())}else if("max"===r.kind){(r.inclusive?e.data>r.value:e.data>=r.value)&&(t=this._getOrReturnCtx(e,t),sf(t,{code:Qp.too_big,maximum:r.value,type:"number",inclusive:r.inclusive,exact:!1,message:r.message}),s.dirty())}else"multipleOf"===r.kind?0!==zf(e.data,r.value)&&(t=this._getOrReturnCtx(e,t),sf(t,{code:Qp.not_multiple_of,multipleOf:r.value,message:r.message}),s.dirty()):"finite"===r.kind?Number.isFinite(e.data)||(t=this._getOrReturnCtx(e,t),sf(t,{code:Qp.not_finite,message:r.message}),s.dirty()):Vp.assertNever(r);return{status:s.value,value:e.data}}gte(e,t){return this.setLimit("min",e,!0,hf.toString(t))}gt(e,t){return this.setLimit("min",e,!1,hf.toString(t))}lte(e,t){return this.setLimit("max",e,!0,hf.toString(t))}lt(e,t){return this.setLimit("max",e,!1,hf.toString(t))}setLimit(e,t,s,r){return new qf({...this._def,checks:[...this._def.checks,{kind:e,value:t,inclusive:s,message:hf.toString(r)}]})}_addCheck(e){return new qf({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:hf.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:hf.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:hf.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:hf.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:hf.toString(e)})}multipleOf(e,t){return this._addCheck({kind:"multipleOf",value:e,message:hf.toString(t)})}finite(e){return this._addCheck({kind:"finite",message:hf.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:hf.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:hf.toString(e)})}get minValue(){let e=null;for(const t of this._def.checks)"min"===t.kind&&(null===e||t.value>e)&&(e=t.value);return e}get maxValue(){let e=null;for(const t of this._def.checks)"max"===t.kind&&(null===e||t.value<e)&&(e=t.value);return e}get isInt(){return!!this._def.checks.find(e=>"int"===e.kind||"multipleOf"===e.kind&&Vp.isInteger(e.value))}get isFinite(){let e=null,t=null;for(const s of this._def.checks){if("finite"===s.kind||"int"===s.kind||"multipleOf"===s.kind)return!0;"min"===s.kind?(null===t||s.value>t)&&(t=s.value):"max"===s.kind&&(null===e||s.value<e)&&(e=s.value)}return Number.isFinite(t)&&Number.isFinite(e)}}qf.create=e=>new qf({checks:[],typeName:Ng.ZodNumber,coerce:(null==e?void 0:e.coerce)||!1,...gf(e)});class Wf extends xf{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce)try{e.data=BigInt(e.data)}catch{return this._getInvalidInput(e)}if(this._getType(e)!==Jp.bigint)return this._getInvalidInput(e);let t;const s=new rf;for(const r of this._def.checks)if("min"===r.kind){(r.inclusive?e.data<r.value:e.data<=r.value)&&(t=this._getOrReturnCtx(e,t),sf(t,{code:Qp.too_small,type:"bigint",minimum:r.value,inclusive:r.inclusive,message:r.message}),s.dirty())}else if("max"===r.kind){(r.inclusive?e.data>r.value:e.data>=r.value)&&(t=this._getOrReturnCtx(e,t),sf(t,{code:Qp.too_big,type:"bigint",maximum:r.value,inclusive:r.inclusive,message:r.message}),s.dirty())}else"multipleOf"===r.kind?e.data%r.value!==BigInt(0)&&(t=this._getOrReturnCtx(e,t),sf(t,{code:Qp.not_multiple_of,multipleOf:r.value,message:r.message}),s.dirty()):Vp.assertNever(r);return{status:s.value,value:e.data}}_getInvalidInput(e){const t=this._getOrReturnCtx(e);return sf(t,{code:Qp.invalid_type,expected:Jp.bigint,received:t.parsedType}),nf}gte(e,t){return this.setLimit("min",e,!0,hf.toString(t))}gt(e,t){return this.setLimit("min",e,!1,hf.toString(t))}lte(e,t){return this.setLimit("max",e,!0,hf.toString(t))}lt(e,t){return this.setLimit("max",e,!1,hf.toString(t))}setLimit(e,t,s,r){return new Wf({...this._def,checks:[...this._def.checks,{kind:e,value:t,inclusive:s,message:hf.toString(r)}]})}_addCheck(e){return new Wf({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:hf.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:hf.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:hf.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:hf.toString(e)})}multipleOf(e,t){return this._addCheck({kind:"multipleOf",value:e,message:hf.toString(t)})}get minValue(){let e=null;for(const t of this._def.checks)"min"===t.kind&&(null===e||t.value>e)&&(e=t.value);return e}get maxValue(){let e=null;for(const t of this._def.checks)"max"===t.kind&&(null===e||t.value<e)&&(e=t.value);return e}}Wf.create=e=>new Wf({checks:[],typeName:Ng.ZodBigInt,coerce:(null==e?void 0:e.coerce)??!1,...gf(e)});class Hf extends xf{_parse(e){this._def.coerce&&(e.data=Boolean(e.data));if(this._getType(e)!==Jp.boolean){const t=this._getOrReturnCtx(e);return sf(t,{code:Qp.invalid_type,expected:Jp.boolean,received:t.parsedType}),nf}return of(e.data)}}Hf.create=e=>new Hf({typeName:Ng.ZodBoolean,coerce:(null==e?void 0:e.coerce)||!1,...gf(e)});class Kf extends xf{_parse(e){this._def.coerce&&(e.data=new Date(e.data));if(this._getType(e)!==Jp.date){const t=this._getOrReturnCtx(e);return sf(t,{code:Qp.invalid_type,expected:Jp.date,received:t.parsedType}),nf}if(Number.isNaN(e.data.getTime())){return sf(this._getOrReturnCtx(e),{code:Qp.invalid_date}),nf}const t=new rf;let s;for(const r of this._def.checks)"min"===r.kind?e.data.getTime()<r.value&&(s=this._getOrReturnCtx(e,s),sf(s,{code:Qp.too_small,message:r.message,inclusive:!0,exact:!1,minimum:r.value,type:"date"}),t.dirty()):"max"===r.kind?e.data.getTime()>r.value&&(s=this._getOrReturnCtx(e,s),sf(s,{code:Qp.too_big,message:r.message,inclusive:!0,exact:!1,maximum:r.value,type:"date"}),t.dirty()):Vp.assertNever(r);return{status:t.value,value:new Date(e.data.getTime())}}_addCheck(e){return new Kf({...this._def,checks:[...this._def.checks,e]})}min(e,t){return this._addCheck({kind:"min",value:e.getTime(),message:hf.toString(t)})}max(e,t){return this._addCheck({kind:"max",value:e.getTime(),message:hf.toString(t)})}get minDate(){let e=null;for(const t of this._def.checks)"min"===t.kind&&(null===e||t.value>e)&&(e=t.value);return null!=e?new Date(e):null}get maxDate(){let e=null;for(const t of this._def.checks)"max"===t.kind&&(null===e||t.value<e)&&(e=t.value);return null!=e?new Date(e):null}}Kf.create=e=>new Kf({checks:[],coerce:(null==e?void 0:e.coerce)||!1,typeName:Ng.ZodDate,...gf(e)});class Vf extends xf{_parse(e){if(this._getType(e)!==Jp.symbol){const t=this._getOrReturnCtx(e);return sf(t,{code:Qp.invalid_type,expected:Jp.symbol,received:t.parsedType}),nf}return of(e.data)}}Vf.create=e=>new Vf({typeName:Ng.ZodSymbol,...gf(e)});class Gf extends xf{_parse(e){if(this._getType(e)!==Jp.undefined){const t=this._getOrReturnCtx(e);return sf(t,{code:Qp.invalid_type,expected:Jp.undefined,received:t.parsedType}),nf}return of(e.data)}}Gf.create=e=>new Gf({typeName:Ng.ZodUndefined,...gf(e)});class Zf extends xf{_parse(e){if(this._getType(e)!==Jp.null){const t=this._getOrReturnCtx(e);return sf(t,{code:Qp.invalid_type,expected:Jp.null,received:t.parsedType}),nf}return of(e.data)}}Zf.create=e=>new Zf({typeName:Ng.ZodNull,...gf(e)});class Jf extends xf{constructor(){super(...arguments),this._any=!0}_parse(e){return of(e.data)}}Jf.create=e=>new Jf({typeName:Ng.ZodAny,...gf(e)});class Yf extends xf{constructor(){super(...arguments),this._unknown=!0}_parse(e){return of(e.data)}}Yf.create=e=>new Yf({typeName:Ng.ZodUnknown,...gf(e)});class Qf extends xf{_parse(e){const t=this._getOrReturnCtx(e);return sf(t,{code:Qp.invalid_type,expected:Jp.never,received:t.parsedType}),nf}}Qf.create=e=>new Qf({typeName:Ng.ZodNever,...gf(e)});class Xf extends xf{_parse(e){if(this._getType(e)!==Jp.undefined){const t=this._getOrReturnCtx(e);return sf(t,{code:Qp.invalid_type,expected:Jp.void,received:t.parsedType}),nf}return of(e.data)}}Xf.create=e=>new Xf({typeName:Ng.ZodVoid,...gf(e)});class eg extends xf{_parse(e){const{ctx:t,status:s}=this._processInputParams(e),r=this._def;if(t.parsedType!==Jp.array)return sf(t,{code:Qp.invalid_type,expected:Jp.array,received:t.parsedType}),nf;if(null!==r.exactLength){const e=t.data.length>r.exactLength.value,n=t.data.length<r.exactLength.value;(e||n)&&(sf(t,{code:e?Qp.too_big:Qp.too_small,minimum:n?r.exactLength.value:void 0,maximum:e?r.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:r.exactLength.message}),s.dirty())}if(null!==r.minLength&&t.data.length<r.minLength.value&&(sf(t,{code:Qp.too_small,minimum:r.minLength.value,type:"array",inclusive:!0,exact:!1,message:r.minLength.message}),s.dirty()),null!==r.maxLength&&t.data.length>r.maxLength.value&&(sf(t,{code:Qp.too_big,maximum:r.maxLength.value,type:"array",inclusive:!0,exact:!1,message:r.maxLength.message}),s.dirty()),t.common.async)return Promise.all([...t.data].map((e,s)=>r.type._parseAsync(new pf(t,e,t.path,s)))).then(e=>rf.mergeArray(s,e));const n=[...t.data].map((e,s)=>r.type._parseSync(new pf(t,e,t.path,s)));return rf.mergeArray(s,n)}get element(){return this._def.type}min(e,t){return new eg({...this._def,minLength:{value:e,message:hf.toString(t)}})}max(e,t){return new eg({...this._def,maxLength:{value:e,message:hf.toString(t)}})}length(e,t){return new eg({...this._def,exactLength:{value:e,message:hf.toString(t)}})}nonempty(e){return this.min(1,e)}}function tg(e){if(e instanceof sg){const t={};for(const s in e.shape){const r=e.shape[s];t[s]=gg.create(tg(r))}return new sg({...e._def,shape:()=>t})}return e instanceof eg?new eg({...e._def,type:tg(e.element)}):e instanceof gg?gg.create(tg(e.unwrap())):e instanceof xg?xg.create(tg(e.unwrap())):e instanceof ig?ig.create(e.items.map(e=>tg(e))):e}eg.create=(e,t)=>new eg({type:e,minLength:null,maxLength:null,exactLength:null,typeName:Ng.ZodArray,...gf(t)});class sg extends xf{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(null!==this._cached)return this._cached;const e=this._def.shape(),t=Vp.objectKeys(e);return this._cached={shape:e,keys:t},this._cached}_parse(e){if(this._getType(e)!==Jp.object){const t=this._getOrReturnCtx(e);return sf(t,{code:Qp.invalid_type,expected:Jp.object,received:t.parsedType}),nf}const{status:t,ctx:s}=this._processInputParams(e),{shape:r,keys:n}=this._getCached(),a=[];if(!(this._def.catchall instanceof Qf&&"strip"===this._def.unknownKeys))for(const o in s.data)n.includes(o)||a.push(o);const i=[];for(const o of n){const e=r[o],t=s.data[o];i.push({key:{status:"valid",value:o},value:e._parse(new pf(s,t,s.path,o)),alwaysSet:o in s.data})}if(this._def.catchall instanceof Qf){const e=this._def.unknownKeys;if("passthrough"===e)for(const t of a)i.push({key:{status:"valid",value:t},value:{status:"valid",value:s.data[t]}});else if("strict"===e)a.length>0&&(sf(s,{code:Qp.unrecognized_keys,keys:a}),t.dirty());else if("strip"!==e)throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const e=this._def.catchall;for(const t of a){const r=s.data[t];i.push({key:{status:"valid",value:t},value:e._parse(new pf(s,r,s.path,t)),alwaysSet:t in s.data})}}return s.common.async?Promise.resolve().then(async()=>{const e=[];for(const t of i){const s=await t.key,r=await t.value;e.push({key:s,value:r,alwaysSet:t.alwaysSet})}return e}).then(e=>rf.mergeObjectSync(t,e)):rf.mergeObjectSync(t,i)}get shape(){return this._def.shape()}strict(e){return hf.errToObj,new sg({...this._def,unknownKeys:"strict",...void 0!==e?{errorMap:(t,s)=>{var r,n;const a=(null==(n=(r=this._def).errorMap)?void 0:n.call(r,t,s).message)??s.defaultError;return"unrecognized_keys"===t.code?{message:hf.errToObj(e).message??a}:{message:a}}}:{}})}strip(){return new sg({...this._def,unknownKeys:"strip"})}passthrough(){return new sg({...this._def,unknownKeys:"passthrough"})}extend(e){return new sg({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new sg({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:Ng.ZodObject})}setKey(e,t){return this.augment({[e]:t})}catchall(e){return new sg({...this._def,catchall:e})}pick(e){const t={};for(const s of Vp.objectKeys(e))e[s]&&this.shape[s]&&(t[s]=this.shape[s]);return new sg({...this._def,shape:()=>t})}omit(e){const t={};for(const s of Vp.objectKeys(this.shape))e[s]||(t[s]=this.shape[s]);return new sg({...this._def,shape:()=>t})}deepPartial(){return tg(this)}partial(e){const t={};for(const s of Vp.objectKeys(this.shape)){const r=this.shape[s];e&&!e[s]?t[s]=r:t[s]=r.optional()}return new sg({...this._def,shape:()=>t})}required(e){const t={};for(const s of Vp.objectKeys(this.shape))if(e&&!e[s])t[s]=this.shape[s];else{let e=this.shape[s];for(;e instanceof gg;)e=e._def.innerType;t[s]=e}return new sg({...this._def,shape:()=>t})}keyof(){return ug(Vp.objectKeys(this.shape))}}sg.create=(e,t)=>new sg({shape:()=>e,unknownKeys:"strip",catchall:Qf.create(),typeName:Ng.ZodObject,...gf(t)}),sg.strictCreate=(e,t)=>new sg({shape:()=>e,unknownKeys:"strict",catchall:Qf.create(),typeName:Ng.ZodObject,...gf(t)}),sg.lazycreate=(e,t)=>new sg({shape:e,unknownKeys:"strip",catchall:Qf.create(),typeName:Ng.ZodObject,...gf(t)});class rg extends xf{_parse(e){const{ctx:t}=this._processInputParams(e),s=this._def.options;if(t.common.async)return Promise.all(s.map(async e=>{const s={...t,common:{...t.common,issues:[]},parent:null};return{result:await e._parseAsync({data:t.data,path:t.path,parent:s}),ctx:s}})).then(function(e){for(const t of e)if("valid"===t.result.status)return t.result;for(const r of e)if("dirty"===r.result.status)return t.common.issues.push(...r.ctx.common.issues),r.result;const s=e.map(e=>new Xp(e.ctx.common.issues));return sf(t,{code:Qp.invalid_union,unionErrors:s}),nf});{let e;const r=[];for(const a of s){const s={...t,common:{...t.common,issues:[]},parent:null},n=a._parseSync({data:t.data,path:t.path,parent:s});if("valid"===n.status)return n;"dirty"!==n.status||e||(e={result:n,ctx:s}),s.common.issues.length&&r.push(s.common.issues)}if(e)return t.common.issues.push(...e.ctx.common.issues),e.result;const n=r.map(e=>new Xp(e));return sf(t,{code:Qp.invalid_union,unionErrors:n}),nf}}get options(){return this._def.options}}function ng(e,t){const s=Yp(e),r=Yp(t);if(e===t)return{valid:!0,data:e};if(s===Jp.object&&r===Jp.object){const s=Vp.objectKeys(t),r=Vp.objectKeys(e).filter(e=>-1!==s.indexOf(e)),n={...e,...t};for(const a of r){const s=ng(e[a],t[a]);if(!s.valid)return{valid:!1};n[a]=s.data}return{valid:!0,data:n}}if(s===Jp.array&&r===Jp.array){if(e.length!==t.length)return{valid:!1};const s=[];for(let r=0;r<e.length;r++){const n=ng(e[r],t[r]);if(!n.valid)return{valid:!1};s.push(n.data)}return{valid:!0,data:s}}return s===Jp.date&&r===Jp.date&&+e===+t?{valid:!0,data:e}:{valid:!1}}rg.create=(e,t)=>new rg({options:e,typeName:Ng.ZodUnion,...gf(t)});class ag extends xf{_parse(e){const{status:t,ctx:s}=this._processInputParams(e),r=(e,r)=>{if(lf(e)||lf(r))return nf;const n=ng(e.value,r.value);return n.valid?((cf(e)||cf(r))&&t.dirty(),{status:t.value,value:n.data}):(sf(s,{code:Qp.invalid_intersection_types}),nf)};return s.common.async?Promise.all([this._def.left._parseAsync({data:s.data,path:s.path,parent:s}),this._def.right._parseAsync({data:s.data,path:s.path,parent:s})]).then(([e,t])=>r(e,t)):r(this._def.left._parseSync({data:s.data,path:s.path,parent:s}),this._def.right._parseSync({data:s.data,path:s.path,parent:s}))}}ag.create=(e,t,s)=>new ag({left:e,right:t,typeName:Ng.ZodIntersection,...gf(s)});class ig extends xf{_parse(e){const{status:t,ctx:s}=this._processInputParams(e);if(s.parsedType!==Jp.array)return sf(s,{code:Qp.invalid_type,expected:Jp.array,received:s.parsedType}),nf;if(s.data.length<this._def.items.length)return sf(s,{code:Qp.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),nf;!this._def.rest&&s.data.length>this._def.items.length&&(sf(s,{code:Qp.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),t.dirty());const r=[...s.data].map((e,t)=>{const r=this._def.items[t]||this._def.rest;return r?r._parse(new pf(s,e,s.path,t)):null}).filter(e=>!!e);return s.common.async?Promise.all(r).then(e=>rf.mergeArray(t,e)):rf.mergeArray(t,r)}get items(){return this._def.items}rest(e){return new ig({...this._def,rest:e})}}ig.create=(e,t)=>{if(!Array.isArray(e))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new ig({items:e,typeName:Ng.ZodTuple,rest:null,...gf(t)})};class og extends xf{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:t,ctx:s}=this._processInputParams(e);if(s.parsedType!==Jp.map)return sf(s,{code:Qp.invalid_type,expected:Jp.map,received:s.parsedType}),nf;const r=this._def.keyType,n=this._def.valueType,a=[...s.data.entries()].map(([e,t],a)=>({key:r._parse(new pf(s,e,s.path,[a,"key"])),value:n._parse(new pf(s,t,s.path,[a,"value"]))}));if(s.common.async){const e=new Map;return Promise.resolve().then(async()=>{for(const s of a){const r=await s.key,n=await s.value;if("aborted"===r.status||"aborted"===n.status)return nf;"dirty"!==r.status&&"dirty"!==n.status||t.dirty(),e.set(r.value,n.value)}return{status:t.value,value:e}})}{const e=new Map;for(const s of a){const r=s.key,n=s.value;if("aborted"===r.status||"aborted"===n.status)return nf;"dirty"!==r.status&&"dirty"!==n.status||t.dirty(),e.set(r.value,n.value)}return{status:t.value,value:e}}}}og.create=(e,t,s)=>new og({valueType:t,keyType:e,typeName:Ng.ZodMap,...gf(s)});class lg extends xf{_parse(e){const{status:t,ctx:s}=this._processInputParams(e);if(s.parsedType!==Jp.set)return sf(s,{code:Qp.invalid_type,expected:Jp.set,received:s.parsedType}),nf;const r=this._def;null!==r.minSize&&s.data.size<r.minSize.value&&(sf(s,{code:Qp.too_small,minimum:r.minSize.value,type:"set",inclusive:!0,exact:!1,message:r.minSize.message}),t.dirty()),null!==r.maxSize&&s.data.size>r.maxSize.value&&(sf(s,{code:Qp.too_big,maximum:r.maxSize.value,type:"set",inclusive:!0,exact:!1,message:r.maxSize.message}),t.dirty());const n=this._def.valueType;function a(e){const s=new Set;for(const r of e){if("aborted"===r.status)return nf;"dirty"===r.status&&t.dirty(),s.add(r.value)}return{status:t.value,value:s}}const i=[...s.data.values()].map((e,t)=>n._parse(new pf(s,e,s.path,t)));return s.common.async?Promise.all(i).then(e=>a(e)):a(i)}min(e,t){return new lg({...this._def,minSize:{value:e,message:hf.toString(t)}})}max(e,t){return new lg({...this._def,maxSize:{value:e,message:hf.toString(t)}})}size(e,t){return this.min(e,t).max(e,t)}nonempty(e){return this.min(1,e)}}lg.create=(e,t)=>new lg({valueType:e,minSize:null,maxSize:null,typeName:Ng.ZodSet,...gf(t)});class cg extends xf{get schema(){return this._def.getter()}_parse(e){const{ctx:t}=this._processInputParams(e);return this._def.getter()._parse({data:t.data,path:t.path,parent:t})}}cg.create=(e,t)=>new cg({getter:e,typeName:Ng.ZodLazy,...gf(t)});class dg extends xf{_parse(e){if(e.data!==this._def.value){const t=this._getOrReturnCtx(e);return sf(t,{received:t.data,code:Qp.invalid_literal,expected:this._def.value}),nf}return{status:"valid",value:e.data}}get value(){return this._def.value}}function ug(e,t){return new hg({values:e,typeName:Ng.ZodEnum,...gf(t)})}dg.create=(e,t)=>new dg({value:e,typeName:Ng.ZodLiteral,...gf(t)});class hg extends xf{_parse(e){if("string"!=typeof e.data){const t=this._getOrReturnCtx(e),s=this._def.values;return sf(t,{expected:Vp.joinValues(s),received:t.parsedType,code:Qp.invalid_type}),nf}if(this._cache||(this._cache=new Set(this._def.values)),!this._cache.has(e.data)){const t=this._getOrReturnCtx(e),s=this._def.values;return sf(t,{received:t.data,code:Qp.invalid_enum_value,options:s}),nf}return of(e.data)}get options(){return this._def.values}get enum(){const e={};for(const t of this._def.values)e[t]=t;return e}get Values(){const e={};for(const t of this._def.values)e[t]=t;return e}get Enum(){const e={};for(const t of this._def.values)e[t]=t;return e}extract(e,t=this._def){return hg.create(e,{...this._def,...t})}exclude(e,t=this._def){return hg.create(this.options.filter(t=>!e.includes(t)),{...this._def,...t})}}hg.create=ug;class mg extends xf{_parse(e){const t=Vp.getValidEnumValues(this._def.values),s=this._getOrReturnCtx(e);if(s.parsedType!==Jp.string&&s.parsedType!==Jp.number){const e=Vp.objectValues(t);return sf(s,{expected:Vp.joinValues(e),received:s.parsedType,code:Qp.invalid_type}),nf}if(this._cache||(this._cache=new Set(Vp.getValidEnumValues(this._def.values))),!this._cache.has(e.data)){const e=Vp.objectValues(t);return sf(s,{received:s.data,code:Qp.invalid_enum_value,options:e}),nf}return of(e.data)}get enum(){return this._def.values}}mg.create=(e,t)=>new mg({values:e,typeName:Ng.ZodNativeEnum,...gf(t)});class pg extends xf{unwrap(){return this._def.type}_parse(e){const{ctx:t}=this._processInputParams(e);if(t.parsedType!==Jp.promise&&!1===t.common.async)return sf(t,{code:Qp.invalid_type,expected:Jp.promise,received:t.parsedType}),nf;const s=t.parsedType===Jp.promise?t.data:Promise.resolve(t.data);return of(s.then(e=>this._def.type.parseAsync(e,{path:t.path,errorMap:t.common.contextualErrorMap})))}}pg.create=(e,t)=>new pg({type:e,typeName:Ng.ZodPromise,...gf(t)});class fg extends xf{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===Ng.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){const{status:t,ctx:s}=this._processInputParams(e),r=this._def.effect||null,n={addIssue:e=>{sf(s,e),e.fatal?t.abort():t.dirty()},get path(){return s.path}};if(n.addIssue=n.addIssue.bind(n),"preprocess"===r.type){const e=r.transform(s.data,n);if(s.common.async)return Promise.resolve(e).then(async e=>{if("aborted"===t.value)return nf;const r=await this._def.schema._parseAsync({data:e,path:s.path,parent:s});return"aborted"===r.status?nf:"dirty"===r.status||"dirty"===t.value?af(r.value):r});{if("aborted"===t.value)return nf;const r=this._def.schema._parseSync({data:e,path:s.path,parent:s});return"aborted"===r.status?nf:"dirty"===r.status||"dirty"===t.value?af(r.value):r}}if("refinement"===r.type){const e=e=>{const t=r.refinement(e,n);if(s.common.async)return Promise.resolve(t);if(t instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return e};if(!1===s.common.async){const r=this._def.schema._parseSync({data:s.data,path:s.path,parent:s});return"aborted"===r.status?nf:("dirty"===r.status&&t.dirty(),e(r.value),{status:t.value,value:r.value})}return this._def.schema._parseAsync({data:s.data,path:s.path,parent:s}).then(s=>"aborted"===s.status?nf:("dirty"===s.status&&t.dirty(),e(s.value).then(()=>({status:t.value,value:s.value}))))}if("transform"===r.type){if(!1===s.common.async){const e=this._def.schema._parseSync({data:s.data,path:s.path,parent:s});if(!df(e))return nf;const a=r.transform(e.value,n);if(a instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:t.value,value:a}}return this._def.schema._parseAsync({data:s.data,path:s.path,parent:s}).then(e=>df(e)?Promise.resolve(r.transform(e.value,n)).then(e=>({status:t.value,value:e})):nf)}Vp.assertNever(r)}}fg.create=(e,t,s)=>new fg({schema:e,typeName:Ng.ZodEffects,effect:t,...gf(s)}),fg.createWithPreprocess=(e,t,s)=>new fg({schema:t,effect:{type:"preprocess",transform:e},typeName:Ng.ZodEffects,...gf(s)});class gg extends xf{_parse(e){return this._getType(e)===Jp.undefined?of(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}gg.create=(e,t)=>new gg({innerType:e,typeName:Ng.ZodOptional,...gf(t)});class xg extends xf{_parse(e){return this._getType(e)===Jp.null?of(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}xg.create=(e,t)=>new xg({innerType:e,typeName:Ng.ZodNullable,...gf(t)});class vg extends xf{_parse(e){const{ctx:t}=this._processInputParams(e);let s=t.data;return t.parsedType===Jp.undefined&&(s=this._def.defaultValue()),this._def.innerType._parse({data:s,path:t.path,parent:t})}removeDefault(){return this._def.innerType}}vg.create=(e,t)=>new vg({innerType:e,typeName:Ng.ZodDefault,defaultValue:"function"==typeof t.default?t.default:()=>t.default,...gf(t)});class yg extends xf{_parse(e){const{ctx:t}=this._processInputParams(e),s={...t,common:{...t.common,issues:[]}},r=this._def.innerType._parse({data:s.data,path:s.path,parent:{...s}});return uf(r)?r.then(e=>({status:"valid",value:"valid"===e.status?e.value:this._def.catchValue({get error(){return new Xp(s.common.issues)},input:s.data})})):{status:"valid",value:"valid"===r.status?r.value:this._def.catchValue({get error(){return new Xp(s.common.issues)},input:s.data})}}removeCatch(){return this._def.innerType}}yg.create=(e,t)=>new yg({innerType:e,typeName:Ng.ZodCatch,catchValue:"function"==typeof t.catch?t.catch:()=>t.catch,...gf(t)});class bg extends xf{_parse(e){if(this._getType(e)!==Jp.nan){const t=this._getOrReturnCtx(e);return sf(t,{code:Qp.invalid_type,expected:Jp.nan,received:t.parsedType}),nf}return{status:"valid",value:e.data}}}bg.create=e=>new bg({typeName:Ng.ZodNaN,...gf(e)});class wg extends xf{_parse(e){const{ctx:t}=this._processInputParams(e),s=t.data;return this._def.type._parse({data:s,path:t.path,parent:t})}unwrap(){return this._def.type}}class jg extends xf{_parse(e){const{status:t,ctx:s}=this._processInputParams(e);if(s.common.async){return(async()=>{const e=await this._def.in._parseAsync({data:s.data,path:s.path,parent:s});return"aborted"===e.status?nf:"dirty"===e.status?(t.dirty(),af(e.value)):this._def.out._parseAsync({data:e.value,path:s.path,parent:s})})()}{const e=this._def.in._parseSync({data:s.data,path:s.path,parent:s});return"aborted"===e.status?nf:"dirty"===e.status?(t.dirty(),{status:"dirty",value:e.value}):this._def.out._parseSync({data:e.value,path:s.path,parent:s})}}static create(e,t){return new jg({in:e,out:t,typeName:Ng.ZodPipeline})}}class _g extends xf{_parse(e){const t=this._def.innerType._parse(e),s=e=>(df(e)&&(e.value=Object.freeze(e.value)),e);return uf(t)?t.then(e=>s(e)):s(t)}unwrap(){return this._def.innerType}}var Ng,kg;_g.create=(e,t)=>new _g({innerType:e,typeName:Ng.ZodReadonly,...gf(t)}),sg.lazycreate,(kg=Ng||(Ng={})).ZodString="ZodString",kg.ZodNumber="ZodNumber",kg.ZodNaN="ZodNaN",kg.ZodBigInt="ZodBigInt",kg.ZodBoolean="ZodBoolean",kg.ZodDate="ZodDate",kg.ZodSymbol="ZodSymbol",kg.ZodUndefined="ZodUndefined",kg.ZodNull="ZodNull",kg.ZodAny="ZodAny",kg.ZodUnknown="ZodUnknown",kg.ZodNever="ZodNever",kg.ZodVoid="ZodVoid",kg.ZodArray="ZodArray",kg.ZodObject="ZodObject",kg.ZodUnion="ZodUnion",kg.ZodDiscriminatedUnion="ZodDiscriminatedUnion",kg.ZodIntersection="ZodIntersection",kg.ZodTuple="ZodTuple",kg.ZodRecord="ZodRecord",kg.ZodMap="ZodMap",kg.ZodSet="ZodSet",kg.ZodFunction="ZodFunction",kg.ZodLazy="ZodLazy",kg.ZodLiteral="ZodLiteral",kg.ZodEnum="ZodEnum",kg.ZodEffects="ZodEffects",kg.ZodNativeEnum="ZodNativeEnum",kg.ZodOptional="ZodOptional",kg.ZodNullable="ZodNullable",kg.ZodDefault="ZodDefault",kg.ZodCatch="ZodCatch",kg.ZodPromise="ZodPromise",kg.ZodBranded="ZodBranded",kg.ZodPipeline="ZodPipeline",kg.ZodReadonly="ZodReadonly";const Sg=Bf.create,Cg=Hf.create;Qf.create,eg.create;const Eg=sg.create;sg.strictCreate,rg.create,ag.create,ig.create;const Tg=dg.create,Rg=hg.create;pg.create,gg.create,xg.create;const Og=zt.forwardRef(({className:e,type:t,...s},r)=>Ee.jsx("input",{type:t,className:Wa("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base text-foreground ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:r,...s}));Og.displayName="Input";const Ag=Eg({email:Sg().email("Invalid email address").toLowerCase(),honeypot:Sg().max(0,"Invalid submission")});function Pg(){const[e,t]=zt.useState(""),[s,r]=zt.useState(""),[n,a]=zt.useState(!1),{toast:i}=ir();return Ee.jsxs("form",{onSubmit:async r=>{if(r.preventDefault(),!s){a(!0);try{const r=Ag.parse({email:e,honeypot:s}),{data:n,error:a}=await xh.functions.invoke("subscribe-newsletter",{body:{email:r.email}});if(a)throw a;i({title:"Success!",description:(null==n?void 0:n.message)||"You've been subscribed to our newsletter"}),t("")}catch(n){i(n instanceof Xp?{title:"Invalid Email",description:n.errors[0].message,variant:"destructive"}:{title:"Error",description:n.message||"Failed to subscribe. Please try again.",variant:"destructive"})}finally{a(!1)}}},className:"flex flex-col sm:flex-row gap-3 max-w-md mx-auto",children:[Ee.jsxs("div",{className:"relative flex-1",children:[Ee.jsx(In,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-5 w-5 text-foreground/60"}),Ee.jsx(Og,{type:"email",placeholder:"Enter your email",value:e,onChange:e=>t(e.target.value),className:"pl-10",disabled:n,required:!0,"aria-label":"Email address for newsletter"}),Ee.jsx("input",{type:"text",name:"website",value:s,onChange:e=>r(e.target.value),style:{position:"absolute",left:"-9999px",width:"1px",height:"1px"},tabIndex:-1,autoComplete:"off","aria-hidden":"true"})]}),Ee.jsx(Yo,{type:"submit",disabled:n,className:"min-w-[120px]",children:n?Ee.jsxs(Ee.Fragment,{children:[Ee.jsx(An,{className:"mr-2 h-4 w-4 animate-spin"}),"Subscribing..."]}):"Subscribe"})]})}const Ig=ht,Mg=zt.forwardRef(({className:e,...t},s)=>Ee.jsx(ct,{ref:s,className:Wa("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",e),...t}));Mg.displayName=ct.displayName;const Dg=zt.forwardRef(({className:e,...t},s)=>Ee.jsx(dt,{ref:s,className:Wa("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",e),...t}));Dg.displayName=dt.displayName;const $g=zt.forwardRef(({className:e,...t},s)=>Ee.jsx(ut,{ref:s,className:Wa("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",e),...t}));$g.displayName=ut.displayName;const Lg=e=>{switch(e){case"video":return Jn;case"article":return on;default:return kn}},Ug=e=>{switch(e){case"worksheet":return"Worksheet";case"guide":return"Guide";case"video":return"Video";case"article":return"Article";default:return e}},Fg=()=>{const[e,t]=zt.useState([]),[s,r]=zt.useState(!0),[n,a]=zt.useState("all");zt.useEffect(()=>{i()},[]);const i=async()=>{try{const{data:e,error:s}=await xh.from("resources").select("*").eq("is_active",!0).order("created_at",{ascending:!1});if(s)throw s;t(e||[])}catch(e){}finally{r(!1)}},o=()=>"all"===n?e:e.filter(e=>e.audience===n||"all"===e.audience);return Ee.jsxs(Ee.Fragment,{children:[Ee.jsx($p,{title:"Mental Wellness Resources - Happy Space World",description:"Access free mental health resources, worksheets, and guides for students"}),Ee.jsxs("div",{className:"min-h-screen flex flex-col",children:[Ee.jsx(Mp,{}),Ee.jsxs("main",{className:"flex-1",children:[Ee.jsx("section",{className:"py-20 bg-gradient-to-br from-tertiary to-primary text-white",children:Ee.jsxs("div",{className:"container mx-auto px-4 text-center",children:[Ee.jsx("h1",{className:"text-4xl md:text-5xl font-bold mb-6",children:"Mental Health & Wellness Resources"}),Ee.jsx("p",{className:"text-xl max-w-3xl mx-auto opacity-95",children:"Free tools, guides, and insights to support your mental wellness journey"})]})}),Ee.jsx("section",{className:"py-20 bg-background",children:Ee.jsx("div",{className:"container mx-auto px-4",children:Ee.jsxs(Ig,{defaultValue:"all",className:"max-w-6xl mx-auto",onValueChange:a,children:[Ee.jsxs(Mg,{className:"grid w-full grid-cols-2 md:grid-cols-4 mb-12",children:[Ee.jsx(Dg,{value:"all",children:"All"}),Ee.jsx(Dg,{value:"students",children:"For Students"}),Ee.jsx(Dg,{value:"parents",children:"For Parents"}),Ee.jsx(Dg,{value:"educators",children:"For Educators"})]}),Ee.jsx($g,{value:"all",className:"space-y-8",children:s?Ee.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:Array.from({length:6}).map((e,t)=>Ee.jsxs(Qo,{children:[Ee.jsxs(Xo,{children:[Ee.jsxs("div",{className:"flex items-start justify-between mb-3",children:[Ee.jsx(Wp,{className:"w-12 h-12 rounded-lg"}),Ee.jsx(Wp,{className:"h-5 w-20 rounded-full"})]}),Ee.jsx(Wp,{className:"h-6 w-3/4"})]}),Ee.jsxs(sl,{children:[Ee.jsx(Wp,{className:"h-16 w-full mb-4"}),Ee.jsx(Wp,{className:"h-8 w-24"})]})]},t))}):Ee.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:o().map(e=>{const t=Lg(e.category);return Ee.jsxs(Qo,{className:"hover:shadow-lg transition-all duration-300 border-border",children:[Ee.jsxs(Xo,{children:[Ee.jsxs("div",{className:"flex items-start justify-between mb-3",children:[Ee.jsx("div",{className:"w-12 h-12 bg-primary/10 rounded-lg flex items-center justify-center",children:Ee.jsx(t,{className:"h-6 w-6 text-primary"})}),Ee.jsx("span",{className:"text-xs px-3 py-1 bg-secondary/10 text-secondary rounded-full font-medium",children:Ug(e.category)})]}),Ee.jsx(el,{className:"text-lg",children:e.title})]}),Ee.jsxs(sl,{children:[Ee.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:e.description}),Ee.jsxs("div",{className:"flex items-center justify-between",children:[Ee.jsxs("span",{className:"text-xs text-muted-foreground",children:[e.downloads," downloads"]}),Ee.jsx(Yo,{size:"sm",variant:"outline",asChild:!!e.file_url,disabled:!e.file_url,children:e.file_url?Ee.jsxs("a",{href:e.file_url,target:"_blank",rel:"noopener noreferrer",children:[Ee.jsx(jn,{className:"h-4 w-4 mr-2"}),"Access"]}):Ee.jsxs(Ee.Fragment,{children:[Ee.jsx(jn,{className:"h-4 w-4 mr-2"}),"Coming Soon"]})})]})]})]},e.id)})})}),Ee.jsx($g,{value:"students",className:"space-y-8",children:Ee.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:o().map(e=>{const t=Lg(e.category);return Ee.jsxs(Qo,{className:"hover:shadow-lg transition-all duration-300 border-border",children:[Ee.jsxs(Xo,{children:[Ee.jsxs("div",{className:"flex items-start justify-between mb-3",children:[Ee.jsx("div",{className:"w-12 h-12 bg-primary/10 rounded-lg flex items-center justify-center",children:Ee.jsx(t,{className:"h-6 w-6 text-primary"})}),Ee.jsx("span",{className:"text-xs px-3 py-1 bg-secondary/10 text-secondary rounded-full font-medium",children:Ug(e.category)})]}),Ee.jsx(el,{className:"text-lg",children:e.title})]}),Ee.jsxs(sl,{children:[Ee.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:e.description}),Ee.jsxs("div",{className:"flex items-center justify-between",children:[Ee.jsxs("span",{className:"text-xs text-muted-foreground",children:[e.downloads," downloads"]}),Ee.jsx(Yo,{size:"sm",variant:"outline",asChild:!!e.file_url,disabled:!e.file_url,children:e.file_url?Ee.jsxs("a",{href:e.file_url,target:"_blank",rel:"noopener noreferrer",children:[Ee.jsx(jn,{className:"h-4 w-4 mr-2"}),"Access"]}):Ee.jsxs(Ee.Fragment,{children:[Ee.jsx(jn,{className:"h-4 w-4 mr-2"}),"Coming Soon"]})})]})]})]},e.id)})})}),Ee.jsx($g,{value:"parents",className:"space-y-8",children:Ee.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:o().map(e=>{const t=Lg(e.category);return Ee.jsxs(Qo,{className:"hover:shadow-lg transition-all duration-300 border-border",children:[Ee.jsxs(Xo,{children:[Ee.jsxs("div",{className:"flex items-start justify-between mb-3",children:[Ee.jsx("div",{className:"w-12 h-12 bg-primary/10 rounded-lg flex items-center justify-center",children:Ee.jsx(t,{className:"h-6 w-6 text-primary"})}),Ee.jsx("span",{className:"text-xs px-3 py-1 bg-secondary/10 text-secondary rounded-full font-medium",children:Ug(e.category)})]}),Ee.jsx(el,{className:"text-lg",children:e.title})]}),Ee.jsxs(sl,{children:[Ee.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:e.description}),Ee.jsxs("div",{className:"flex items-center justify-between",children:[Ee.jsxs("span",{className:"text-xs text-muted-foreground",children:[e.downloads," downloads"]}),Ee.jsx(Yo,{size:"sm",variant:"outline",asChild:!!e.file_url,disabled:!e.file_url,children:e.file_url?Ee.jsxs("a",{href:e.file_url,target:"_blank",rel:"noopener noreferrer",children:[Ee.jsx(jn,{className:"h-4 w-4 mr-2"}),"Access"]}):Ee.jsxs(Ee.Fragment,{children:[Ee.jsx(jn,{className:"h-4 w-4 mr-2"}),"Coming Soon"]})})]})]})]},e.id)})})}),Ee.jsx($g,{value:"educators",className:"space-y-8",children:Ee.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:o().map(e=>{const t=Lg(e.category);return Ee.jsxs(Qo,{className:"hover:shadow-lg transition-all duration-300 border-border",children:[Ee.jsxs(Xo,{children:[Ee.jsxs("div",{className:"flex items-start justify-between mb-3",children:[Ee.jsx("div",{className:"w-12 h-12 bg-primary/10 rounded-lg flex items-center justify-center",children:Ee.jsx(t,{className:"h-6 w-6 text-primary"})}),Ee.jsx("span",{className:"text-xs px-3 py-1 bg-secondary/10 text-secondary rounded-full font-medium",children:Ug(e.category)})]}),Ee.jsx(el,{className:"text-lg",children:e.title})]}),Ee.jsxs(sl,{children:[Ee.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:e.description}),Ee.jsxs("div",{className:"flex items-center justify-between",children:[Ee.jsxs("span",{className:"text-xs text-muted-foreground",children:[e.downloads," downloads"]}),Ee.jsx(Yo,{size:"sm",variant:"outline",asChild:!!e.file_url,disabled:!e.file_url,children:e.file_url?Ee.jsxs("a",{href:e.file_url,target:"_blank",rel:"noopener noreferrer",children:[Ee.jsx(jn,{className:"h-4 w-4 mr-2"}),"Access"]}):Ee.jsxs(Ee.Fragment,{children:[Ee.jsx(jn,{className:"h-4 w-4 mr-2"}),"Coming Soon"]})})]})]})]},e.id)})})})]})})}),Ee.jsx("section",{className:"py-20 bg-primary text-white",children:Ee.jsxs("div",{className:"container mx-auto px-4 text-center",children:[Ee.jsx("h2",{className:"text-3xl md:text-4xl font-bold mb-6",children:"Get Weekly Wellness Tips"}),Ee.jsx("p",{className:"text-xl mb-8 max-w-2xl mx-auto opacity-95",children:"Subscribe to receive helpful mental health resources and updates"}),Ee.jsx(Pg,{})]})})]}),Ee.jsx(Dp,{})]})]})};var Bg=zt.forwardRef((e,t)=>Ee.jsx(Re.label,{...e,ref:t,onMouseDown:t=>{var s;t.target.closest("button, input, select, textarea")||(null==(s=e.onMouseDown)||s.call(e,t),!t.defaultPrevented&&t.detail>1&&t.preventDefault())}}));Bg.displayName="Label";var zg=Bg;const qg=Yr("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),Wg=zt.forwardRef(({className:e,...t},s)=>Ee.jsx(zg,{ref:s,className:Wa(qg(),e),...t}));Wg.displayName=zg.displayName;const Hg=zt.forwardRef(({className:e,...t},s)=>Ee.jsx("textarea",{className:Wa("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:s,...t}));Hg.displayName="Textarea";const Kg=kt,Vg=St,Gg=zt.forwardRef(({className:e,children:t,...s},r)=>Ee.jsxs(mt,{ref:r,className:Wa("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...s,children:[t,Ee.jsx(pt,{asChild:!0,children:Ee.jsx(hn,{className:"h-4 w-4 opacity-50"})})]}));Gg.displayName=mt.displayName;const Zg=zt.forwardRef(({className:e,...t},s)=>Ee.jsx(ft,{ref:s,className:Wa("flex cursor-default items-center justify-center py-1",e),...t,children:Ee.jsx(fn,{className:"h-4 w-4"})}));Zg.displayName=ft.displayName;const Jg=zt.forwardRef(({className:e,...t},s)=>Ee.jsx(gt,{ref:s,className:Wa("flex cursor-default items-center justify-center py-1",e),...t,children:Ee.jsx(hn,{className:"h-4 w-4"})}));Jg.displayName=gt.displayName;const Yg=zt.forwardRef(({className:e,children:t,position:s="popper",...r},n)=>Ee.jsx(xt,{children:Ee.jsxs(vt,{ref:n,className:Wa("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2","popper"===s&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:s,...r,children:[Ee.jsx(Zg,{}),Ee.jsx(yt,{className:Wa("p-1","popper"===s&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t}),Ee.jsx(Jg,{})]})}));Yg.displayName=vt.displayName;zt.forwardRef(({className:e,...t},s)=>Ee.jsx(bt,{ref:s,className:Wa("py-1.5 pl-8 pr-2 text-sm font-semibold",e),...t})).displayName=bt.displayName;const Qg=zt.forwardRef(({className:e,children:t,...s},r)=>Ee.jsxs(wt,{ref:r,className:Wa("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground",e),...s,children:[Ee.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:Ee.jsx(jt,{children:Ee.jsx(un,{className:"h-4 w-4"})})}),Ee.jsx(_t,{children:t})]}));Qg.displayName=wt.displayName;zt.forwardRef(({className:e,...t},s)=>Ee.jsx(Nt,{ref:s,className:Wa("-mx-1 my-1 h-px bg-muted",e),...t})).displayName=Nt.displayName;var Xg="Checkbox",[ex,tx]=Se(Xg),[sx,rx]=ex(Xg);function nx(e){const{__scopeCheckbox:t,checked:s,children:r,defaultChecked:n,disabled:a,form:i,name:o,onCheckedChange:l,required:c,value:d="on",internal_do_not_use_render:u}=e,[h,m]=Ae({prop:s,defaultProp:n??!1,onChange:l,caller:Xg}),[p,f]=zt.useState(null),[g,x]=zt.useState(null),v=zt.useRef(!1),y=!p||(!!i||!!p.closest("form")),b={checked:h,disabled:a,setChecked:m,control:p,setControl:f,name:o,form:i,value:d,hasConsumerStoppedPropagationRef:v,required:c,defaultChecked:!mx(n)&&n,isFormControl:y,bubbleInput:g,setBubbleInput:x};return Ee.jsx(sx,{scope:t,...b,children:hx(u)?u(b):r})}var ax="CheckboxTrigger",ix=zt.forwardRef(({__scopeCheckbox:e,onKeyDown:t,onClick:s,...r},n)=>{const{control:a,value:i,disabled:o,checked:l,required:c,setControl:d,setChecked:u,hasConsumerStoppedPropagationRef:h,isFormControl:m,bubbleInput:p}=rx(ax,e),f=Ce(n,d),g=zt.useRef(l);return zt.useEffect(()=>{const e=null==a?void 0:a.form;if(e){const t=()=>u(g.current);return e.addEventListener("reset",t),()=>e.removeEventListener("reset",t)}},[a,u]),Ee.jsx(Re.button,{type:"button",role:"checkbox","aria-checked":mx(l)?"mixed":l,"aria-required":c,"data-state":px(l),"data-disabled":o?"":void 0,disabled:o,value:i,...r,ref:f,onKeyDown:Me(t,e=>{"Enter"===e.key&&e.preventDefault()}),onClick:Me(s,e=>{u(e=>!!mx(e)||!e),p&&m&&(h.current=e.isPropagationStopped(),h.current||e.stopPropagation())})})});ix.displayName=ax;var ox=zt.forwardRef((e,t)=>{const{__scopeCheckbox:s,name:r,checked:n,defaultChecked:a,required:i,disabled:o,value:l,onCheckedChange:c,form:d,...u}=e;return Ee.jsx(nx,{__scopeCheckbox:s,checked:n,defaultChecked:a,disabled:o,required:i,onCheckedChange:c,name:r,form:d,value:l,internal_do_not_use_render:({isFormControl:e})=>Ee.jsxs(Ee.Fragment,{children:[Ee.jsx(ix,{...u,ref:t,__scopeCheckbox:s}),e&&Ee.jsx(ux,{__scopeCheckbox:s})]})})});ox.displayName=Xg;var lx="CheckboxIndicator",cx=zt.forwardRef((e,t)=>{const{__scopeCheckbox:s,forceMount:r,...n}=e,a=rx(lx,s);return Ee.jsx(Pe,{present:r||mx(a.checked)||!0===a.checked,children:Ee.jsx(Re.span,{"data-state":px(a.checked),"data-disabled":a.disabled?"":void 0,...n,ref:t,style:{pointerEvents:"none",...e.style}})})});cx.displayName=lx;var dx="CheckboxBubbleInput",ux=zt.forwardRef(({__scopeCheckbox:e,...t},s)=>{const{control:r,hasConsumerStoppedPropagationRef:n,checked:a,defaultChecked:i,required:o,disabled:l,name:c,value:d,form:u,bubbleInput:h,setBubbleInput:m}=rx(dx,e),p=Ce(s,m),f=ot(a),g=Ct(r);zt.useEffect(()=>{const e=h;if(!e)return;const t=window.HTMLInputElement.prototype,s=Object.getOwnPropertyDescriptor(t,"checked").set,r=!n.current;if(f!==a&&s){const t=new Event("click",{bubbles:r});e.indeterminate=mx(a),s.call(e,!mx(a)&&a),e.dispatchEvent(t)}},[h,f,a,n]);const x=zt.useRef(!mx(a)&&a);return Ee.jsx(Re.input,{type:"checkbox","aria-hidden":!0,defaultChecked:i??x.current,required:o,disabled:l,name:c,value:d,form:u,...t,tabIndex:-1,ref:p,style:{...t.style,...g,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});function hx(e){return"function"==typeof e}function mx(e){return"indeterminate"===e}function px(e){return mx(e)?"indeterminate":e?"checked":"unchecked"}ux.displayName=dx;const fx=zt.forwardRef(({className:e,...t},s)=>Ee.jsx(ox,{ref:s,className:Wa("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),...t,children:Ee.jsx(cx,{className:Wa("flex items-center justify-center text-current"),children:Ee.jsx(un,{className:"h-4 w-4"})})}));fx.displayName=ox.displayName;const gx=Eg({name:Sg().trim().min(2,"Name must be at least 2 characters").max(100,"Name must be less than 100 characters").regex(/^[a-zA-Z\s'-]+$/,"Name contains invalid characters"),email:Sg().trim().email("Invalid email address").max(255,"Email too long").toLowerCase(),phone:Sg().trim().min(1,"Phone number is required").max(20,"Phone number too long").regex(/^[+]?[0-9\s()-]+$/,"Invalid phone format"),inquiryType:Rg(["general","student","school","partnership"],{errorMap:()=>({message:"Please select a valid inquiry type"})}),message:Sg().trim().min(10,"Message must be at least 10 characters").max(2e3,"Message must be less than 2000 characters"),privacyAccepted:Cg().refine(e=>!0===e,"You must accept the privacy policy")}),xx=Eg({bookingType:Rg(["student","school"]),name:Sg().trim().min(2,"Name must be at least 2 characters").max(100,"Name must be less than 100 characters").regex(/^[a-zA-Z\s'-]+$/,"Name contains invalid characters"),email:Sg().trim().email("Invalid email address").max(255,"Email too long").toLowerCase(),phone:Sg().trim().min(1,"Phone number is required").max(20,"Phone number too long").regex(/^[+]?[0-9\s()-]+$/,"Invalid phone format"),message:Sg().trim().max(2e3,"Message must be less than 2000 characters").optional().or(Tg("")),organizationName:Sg().trim().max(200,"Organization name must be less than 200 characters").optional().or(Tg(""))}),vx=()=>{const{toast:e}=ir(),[t]=Gt(),[s,r]=zt.useState(!1),[n,a]=zt.useState({name:"",email:"",phone:"",inquiryType:"",message:"",privacyAccepted:!1,organizationName:""});zt.useEffect(()=>{const e=t.get("type"),s=t.get("source"),r=t.get("planId");e&&a(t=>({...t,inquiryType:"student"===e||"school"===e?e:"general"}));(async()=>{if(r)try{const{data:e,error:t}=await xh.from("plans").select("contact_message").eq("id",r).maybeSingle();if(!t&&(null==e?void 0:e.contact_message))return void a(t=>({...t,message:e.contact_message}))}catch(t){}if(s&&e){const t={"student-booking":"I would like to book a student counseling session.","student-plan":"I would like to enroll in your student wellness program.","school-demo":"I would like to request a demo of your school programs.","school-pricing":"I would like more information about school program pricing.","school-quote":"I would like to request a custom quote for my school.",resources:"I have a question about your resources.",testimonials:"I would like to share my experience or ask about testimonials."},r=t[`${e}-${s}`]||t[s]||"";r&&a(e=>({...e,message:r}))}})()},[t]);const i=(e,t)=>{a(s=>({...s,[e]:t}))},o=async t=>{r(!0);const s={student:"I'm interested in 1-on-1 Expert Counseling. I would like personalized guidance from Sivaram Raghavan's network of trained counselors for weekly or bi-weekly sessions.",school:"I'm interested in Group Wellness Programs. I would like to arrange pet therapy, icebreakers, and group discussions for my school students."};try{const r=xx.parse({bookingType:t,name:n.name,email:n.email,phone:n.phone,message:s[t],organizationName:n.organizationName}),{error:i}=await xh.from("booking_requests").insert({booking_type:r.bookingType,name:r.name,email:r.email,phone:r.phone||null,message:r.message||null,organization_name:r.organizationName||null});if(i)throw i;const{error:o}=await xh.functions.invoke("send-notification-email",{body:{type:"booking",data:{...r,booking_type:t}}});e({title:"Booking Request Sent!",description:"We've received your booking request and will contact you soon."}),a({name:"",email:"",phone:"",inquiryType:"",message:"",privacyAccepted:!1,organizationName:""})}catch(i){e(i instanceof Xp?{title:"Validation Error",description:i.errors[0].message,variant:"destructive"}:{title:"Error",description:"There was a problem sending your booking request. Please try again.",variant:"destructive"})}finally{r(!1)}};return Ee.jsxs(Ee.Fragment,{children:[Ee.jsx($p,{title:"Contact Us - Happy Space World",description:"Get in touch with us for counseling sessions, school programs, or general inquiries. We're here to help support student mental wellness."}),Ee.jsxs("div",{className:"min-h-screen flex flex-col",children:[Ee.jsx(Mp,{}),Ee.jsxs("main",{className:"flex-1",children:[Ee.jsx("section",{className:"bg-gradient-to-b from-purple-50 to-white py-20",children:Ee.jsx("div",{className:"container mx-auto px-4",children:Ee.jsxs("div",{className:"max-w-2xl mx-auto text-center",children:[Ee.jsx("h1",{className:"text-4xl md:text-5xl font-bold text-gray-900 mb-6",children:"Get In Touch"}),Ee.jsx("p",{className:"text-xl text-gray-600",children:"Have questions? We're here to help! Reach out to us anytime."})]})})}),Ee.jsx("section",{className:"py-16 bg-white",children:Ee.jsx("div",{className:"container mx-auto px-4",children:Ee.jsxs("div",{className:"grid md:grid-cols-3 gap-8 max-w-4xl mx-auto",children:[Ee.jsxs(Qo,{className:"text-center",children:[Ee.jsxs(Xo,{children:[Ee.jsx("div",{className:"mx-auto w-12 h-12 bg-purple-100 rounded-full flex items-center justify-center mb-4",children:Ee.jsx(Ln,{className:"h-6 w-6 text-purple-600"})}),Ee.jsx(el,{children:"Phone"})]}),Ee.jsx(sl,{children:Ee.jsx("a",{href:"tel:+918937915125",className:"text-purple-600 hover:underline",children:"+918937915125"})})]}),Ee.jsxs(Qo,{className:"text-center",children:[Ee.jsxs(Xo,{children:[Ee.jsx("div",{className:"mx-auto w-12 h-12 bg-purple-100 rounded-full flex items-center justify-center mb-4",children:Ee.jsx(In,{className:"h-6 w-6 text-purple-600"})}),Ee.jsx(el,{children:"Email"})]}),Ee.jsx(sl,{children:Ee.jsx("a",{href:"mailto:happyspaceschool@gmail.com",className:"text-purple-600 hover:underline",children:"happyspaceschool@gmail.com"})})]}),Ee.jsxs(Qo,{className:"text-center",children:[Ee.jsxs(Xo,{children:[Ee.jsx("div",{className:"mx-auto w-12 h-12 bg-purple-100 rounded-full flex items-center justify-center mb-4",children:Ee.jsx(vn,{className:"h-6 w-6 text-purple-600"})}),Ee.jsx(el,{children:"Hours"})]}),Ee.jsx(sl,{children:Ee.jsx("p",{className:"text-purple-600",children:"Mon-Fri: 9AM-5PM EST"})})]})]})})}),Ee.jsx("section",{id:"contact-form",className:"py-16 bg-gray-50",children:Ee.jsx("div",{className:"container mx-auto px-4",children:Ee.jsxs(Qo,{className:"max-w-2xl mx-auto",children:[Ee.jsxs(Xo,{children:[Ee.jsx(el,{children:"Send Us a Message"}),Ee.jsx(tl,{children:"Fill out the form below and we'll get back to you as soon as possible."})]}),Ee.jsx(sl,{children:Ee.jsxs("form",{onSubmit:async t=>{if(t.preventDefault(),n.privacyAccepted){r(!0);try{const t=gx.parse(n),{error:s}=await xh.from("contact_submissions").insert({name:t.name,email:t.email,phone:t.phone||null,inquiry_type:t.inquiryType,message:t.message,privacy_accepted:t.privacyAccepted});if(s)throw s;const{error:r}=await xh.functions.invoke("send-notification-email",{body:{type:"contact",data:t}});e({title:"Message Sent!",description:"We've received your message and will get back to you within 24-48 hours."}),a({name:"",email:"",phone:"",inquiryType:"",message:"",privacyAccepted:!1,organizationName:""})}catch(s){e(s instanceof Xp?{title:"Validation Error",description:s.errors[0].message,variant:"destructive"}:{title:"Error",description:"There was a problem sending your message. Please try again.",variant:"destructive"})}finally{r(!1)}}else e({title:"Privacy Policy Required",description:"Please accept our privacy policy to continue.",variant:"destructive"})},className:"space-y-6",children:[Ee.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[Ee.jsxs("div",{className:"space-y-2",children:[Ee.jsx(Wg,{htmlFor:"name",children:"Full Name *"}),Ee.jsx(Og,{id:"name",placeholder:"John Doe",value:n.name,onChange:e=>i("name",e.target.value),required:!0,disabled:s})]}),Ee.jsxs("div",{className:"space-y-2",children:[Ee.jsx(Wg,{htmlFor:"email",children:"Email *"}),Ee.jsx(Og,{id:"email",type:"email",placeholder:"john@example.com",value:n.email,onChange:e=>i("email",e.target.value),required:!0,disabled:s})]})]}),Ee.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[Ee.jsxs("div",{className:"space-y-2",children:[Ee.jsx(Wg,{htmlFor:"phone",children:"Phone"}),Ee.jsx(Og,{id:"phone",type:"tel",placeholder:"(555) 123-4567",value:n.phone,onChange:e=>i("phone",e.target.value),disabled:s})]}),Ee.jsxs("div",{className:"space-y-2",children:[Ee.jsx(Wg,{htmlFor:"inquiryType",children:"Inquiry Type *"}),Ee.jsxs(Kg,{value:n.inquiryType,onValueChange:e=>i("inquiryType",e),disabled:s,required:!0,children:[Ee.jsx(Gg,{children:Ee.jsx(Vg,{placeholder:"Select type"})}),Ee.jsxs(Yg,{children:[Ee.jsx(Qg,{value:"general",children:"General Inquiry"}),Ee.jsx(Qg,{value:"student",children:"Student Services"}),Ee.jsx(Qg,{value:"school",children:"School Partnership"}),Ee.jsx(Qg,{value:"partnership",children:"Other Partnership"})]})]})]})]}),Ee.jsxs("div",{className:"space-y-2",children:[Ee.jsx(Wg,{htmlFor:"message",children:"Message *"}),Ee.jsx(Hg,{id:"message",placeholder:"Tell us about your inquiry...",rows:5,value:n.message,onChange:e=>i("message",e.target.value),required:!0,disabled:s})]}),Ee.jsxs("div",{className:"flex items-start space-x-2",children:[Ee.jsx(fx,{id:"privacy",checked:n.privacyAccepted,onCheckedChange:e=>i("privacyAccepted",e),disabled:s}),Ee.jsx(Wg,{htmlFor:"privacy",className:"text-sm text-gray-600 leading-tight",children:"I agree to the privacy policy and terms of service *"})]}),Ee.jsx(Yo,{type:"submit",className:"w-full",disabled:s,children:s?"Sending...":"Send Message"})]})})]})})}),Ee.jsx("section",{className:"py-16 bg-white",children:Ee.jsx("div",{className:"container mx-auto px-4",children:Ee.jsxs("div",{className:"grid md:grid-cols-2 gap-8 max-w-5xl mx-auto",children:[Ee.jsxs(Qo,{children:[Ee.jsxs(Xo,{children:[Ee.jsx(el,{children:"I'm a Student"}),Ee.jsx(tl,{children:"Book your personal counseling or pet therapy session"})]}),Ee.jsxs(sl,{className:"space-y-4",children:[Ee.jsxs("ul",{className:"space-y-2 text-sm text-gray-600",children:[Ee.jsx("li",{children:" One-on-one counseling sessions"}),Ee.jsx("li",{children:" Pet therapy sessions with certified therapy animals"}),Ee.jsx("li",{children:" Flexible scheduling to fit your needs"}),Ee.jsx("li",{children:" Safe, confidential environment"})]}),Ee.jsx(Yo,{className:"w-full",onClick:()=>o("student"),disabled:s,children:"Book Student Session"})]})]}),Ee.jsxs(Qo,{children:[Ee.jsxs(Xo,{children:[Ee.jsx(el,{children:"I'm a School"}),Ee.jsx(tl,{children:"Request information about our school programs"})]}),Ee.jsxs(sl,{className:"space-y-4",children:[Ee.jsxs("ul",{className:"space-y-2 text-sm text-gray-600",children:[Ee.jsx("li",{children:" On-campus counseling programs"}),Ee.jsx("li",{children:" Group pet therapy sessions"}),Ee.jsx("li",{children:" Professional development workshops"}),Ee.jsx("li",{children:" Customized wellness programs"})]}),Ee.jsx(Yo,{className:"w-full",onClick:()=>o("school"),disabled:s,children:"Get School Information"})]})]})]})})})]}),Ee.jsx(Dp,{})]})]})},yx=()=>{const[e,t]=zt.useState([]),[s,r]=zt.useState(!0),[n,a]=zt.useState(0),[i,o]=zt.useState(null);zt.useEffect(()=>{l()},[]);const l=async()=>{try{const{data:e,error:s}=await xh.from("gallery_items").select("*").eq("is_active",!0).order("display_order",{ascending:!0});if(s)throw s;t(e||[])}catch(e){}finally{r(!1)}},c=Array.from(new Set(e.map(e=>e.collection).filter(Boolean))),d=i?e.filter(e=>e.collection===i):e,u=Math.ceil(d.length/9),h=d.slice(9*n,9*(n+1));return Ee.jsxs(Ee.Fragment,{children:[Ee.jsx($p,{title:"Gallery - Happy Space World",description:"Explore our gallery of student wellness activities, events, and therapy pet sessions."}),Ee.jsxs("div",{className:"min-h-screen flex flex-col",children:[Ee.jsx(Mp,{}),Ee.jsxs("main",{className:"flex-1",children:[Ee.jsx("section",{className:"py-20 bg-gradient-to-br from-primary to-tertiary text-white",children:Ee.jsxs("div",{className:"container mx-auto px-4 text-center",children:[Ee.jsx("h1",{className:"text-4xl md:text-5xl font-bold mb-6",children:"Our Gallery"}),Ee.jsx("p",{className:"text-xl max-w-2xl mx-auto opacity-95",children:"Explore moments of joy, growth, and transformation from our programs"})]})}),Ee.jsx("section",{className:"py-20 bg-background",children:Ee.jsxs("div",{className:"container mx-auto px-4",children:[c.length>0&&Ee.jsxs("div",{className:"flex flex-wrap justify-center gap-2 mb-8",children:[Ee.jsx(Yo,{variant:i?"outline":"default",onClick:()=>o(null),children:"All"}),c.map(e=>Ee.jsx(Yo,{variant:i===e?"default":"outline",onClick:()=>{o(e),a(0)},children:e},e))]}),s?Ee.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[...Array(9)].map((e,t)=>Ee.jsx(Wp,{className:"h-64 rounded-lg"},t))}):0===h.length?Ee.jsx("div",{className:"text-center py-16",children:Ee.jsx("p",{className:"text-muted-foreground",children:"No gallery items found."})}):Ee.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 animate-fade-in",children:h.map((e,t)=>Ee.jsx(Qo,{className:"overflow-hidden hover:shadow-lg transition-all duration-300 group cursor-pointer animate-scale-in",style:{animationDelay:.1*t+"s"},children:Ee.jsxs("div",{className:"relative h-64 overflow-hidden",children:[Ee.jsx("img",{src:e.image_url,alt:e.alt_text,loading:"lazy",className:"w-full h-full object-cover transition-transform duration-300 group-hover:scale-110"}),Ee.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-foreground/80 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300 flex items-end",children:Ee.jsx("p",{className:"text-white p-4 font-semibold",children:e.title})})]})},e.id))}),u>1&&Ee.jsxs("div",{className:"flex items-center justify-center gap-4 mt-12",children:[Ee.jsx(Yo,{variant:"outline",size:"icon",onClick:()=>a(e=>Math.max(0,e-1)),disabled:0===n,className:"hover-scale",children:Ee.jsx(mn,{className:"h-4 w-4"})}),Ee.jsxs("span",{className:"text-sm text-muted-foreground",children:["Page ",n+1," of ",u]}),Ee.jsx(Yo,{variant:"outline",size:"icon",onClick:()=>a(e=>Math.min(u-1,e+1)),disabled:n===u-1,className:"hover-scale",children:Ee.jsx(pn,{className:"h-4 w-4"})})]})]})}),Ee.jsx("section",{className:"py-20 bg-gradient-to-br from-primary/10 to-tertiary/10",children:Ee.jsxs("div",{className:"container mx-auto px-4 text-center",children:[Ee.jsx("h2",{className:"text-3xl md:text-4xl font-bold mb-6 text-foreground",children:"Want to Be Part of Our Story?"}),Ee.jsx("p",{className:"text-muted-foreground mb-8 max-w-2xl mx-auto",children:"Join our programs and create your own moments of growth and happiness"}),Ee.jsx(Yo,{asChild:!0,size:"lg",children:Ee.jsx("a",{href:"/contact#booking",children:"Book Your Session"})})]})})]}),Ee.jsx(Dp,{})]})]})},bx=["bg-primary/20 text-primary","bg-secondary/20 text-secondary","bg-tertiary/20 text-tertiary"],wx=()=>{const[e,t]=zt.useState(0),[s,r]=zt.useState([]),[n,a]=zt.useState(!0);zt.useEffect(()=>{i()},[]);const i=async()=>{try{const{data:e,error:t}=await xh.from("testimonials").select("*").order("created_at",{ascending:!1});if(t)throw t;r(e||[])}catch(e){}finally{a(!1)}},o=Math.ceil(s.length/6),l=s.slice(6*e,6*(e+1));return Ee.jsxs(Ee.Fragment,{children:[Ee.jsx($p,{title:"Testimonials - Happy Space World",description:"Read what students, parents, and educators say about our mental wellness programs and therapy pet sessions."}),Ee.jsxs("div",{className:"min-h-screen flex flex-col",children:[Ee.jsx(Mp,{}),Ee.jsxs("main",{className:"flex-1",children:[Ee.jsx("section",{className:"py-20 bg-gradient-to-br from-primary to-tertiary text-white",children:Ee.jsxs("div",{className:"container mx-auto px-4 text-center",children:[Ee.jsx("h1",{className:"text-4xl md:text-5xl font-bold mb-6",children:"What People Say About Us"}),Ee.jsx("p",{className:"text-xl max-w-2xl mx-auto opacity-95",children:"Real stories from students, parents, and educators who've experienced transformation"})]})}),Ee.jsx("section",{className:"py-20 bg-background",children:Ee.jsxs("div",{className:"container mx-auto px-4",children:[n?Ee.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:Array.from({length:6}).map((e,t)=>Ee.jsx(Qo,{children:Ee.jsxs(sl,{className:"pt-6",children:[Ee.jsxs("div",{className:"flex items-start gap-4 mb-4",children:[Ee.jsx(Wp,{className:"w-12 h-12 rounded-full"}),Ee.jsxs("div",{className:"flex-1 space-y-2",children:[Ee.jsx(Wp,{className:"h-4 w-32"}),Ee.jsx(Wp,{className:"h-3 w-24"})]})]}),Ee.jsx(Wp,{className:"h-3 w-20 mb-3"}),Ee.jsx(Wp,{className:"h-16 w-full"})]})},t))}):Ee.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 animate-fade-in",children:l.map((e,t)=>{const s=e.name.charAt(0).toUpperCase(),r=bx[t%bx.length],n=e.rating||5;return Ee.jsx(Qo,{className:"hover:shadow-lg transition-all duration-300 animate-scale-in",style:{animationDelay:.1*t+"s"},children:Ee.jsxs(sl,{className:"pt-6",children:[Ee.jsxs("div",{className:"flex items-start gap-4 mb-4",children:[e.image_url?Ee.jsx("img",{src:e.image_url,alt:e.name,className:"w-12 h-12 rounded-full object-cover"}):Ee.jsx("div",{className:`w-12 h-12 rounded-full flex items-center justify-center font-bold text-lg ${r}`,children:s}),Ee.jsxs("div",{className:"flex-1",children:[Ee.jsx("h4",{className:"font-semibold text-foreground",children:e.name}),Ee.jsx("p",{className:"text-sm text-muted-foreground",children:e.role})]})]}),Ee.jsx("div",{className:"flex mb-3",children:Array.from({length:n}).map((e,t)=>Ee.jsx(Bn,{className:"h-4 w-4 fill-amber text-amber"},t))}),Ee.jsxs("p",{className:"text-muted-foreground leading-relaxed",children:['"',e.content,'"']})]})},e.id)})}),o>1&&Ee.jsxs("div",{className:"flex items-center justify-center gap-4 mt-12",children:[Ee.jsx(Yo,{variant:"outline",size:"icon",onClick:()=>t(e=>Math.max(0,e-1)),disabled:0===e,className:"hover-scale",children:Ee.jsx(mn,{className:"h-4 w-4"})}),Ee.jsxs("span",{className:"text-sm text-muted-foreground",children:["Page ",e+1," of ",o]}),Ee.jsx(Yo,{variant:"outline",size:"icon",onClick:()=>t(e=>Math.min(o-1,e+1)),disabled:e===o-1,className:"hover-scale",children:Ee.jsx(pn,{className:"h-4 w-4"})})]})]})}),Ee.jsx("section",{className:"py-20 bg-gradient-to-br from-primary/10 to-tertiary/10",children:Ee.jsxs("div",{className:"container mx-auto px-4 text-center",children:[Ee.jsx("h2",{className:"text-3xl md:text-4xl font-bold mb-6 text-foreground",children:"Ready to Start Your Journey?"}),Ee.jsx("p",{className:"text-muted-foreground mb-8 max-w-2xl mx-auto",children:"Join hundreds of students who have transformed their lives with our programs"}),Ee.jsx(Yo,{asChild:!0,size:"lg",children:Ee.jsx(Kt,{to:"/contact",children:"Get Started Today"})}),Ee.jsx(Yo,{asChild:!0,size:"lg",variant:"outline",className:"ml-4",children:Ee.jsx(Kt,{to:"/contact",children:"Book Your Session"})})]})})]}),Ee.jsx(Dp,{})]})]})};var jx=Object.defineProperty,_x=Object.defineProperties,Nx=Object.getOwnPropertyDescriptors,kx=Object.getOwnPropertySymbols,Sx=Object.prototype.hasOwnProperty,Cx=Object.prototype.propertyIsEnumerable,Ex=(e,t,s)=>t in e?jx(e,t,{enumerable:!0,configurable:!0,writable:!0,value:s}):e[t]=s;var Tx=["[data-lastpass-icon-root]","com-1password-button","[data-dashlanecreated]",'[style$="2147483647 !important;"]'].join(",");var Rx=zt.createContext({}),Ox=zt.forwardRef((e,t)=>{var s,r,n,a,i,o=e,{value:l,onChange:c,maxLength:d,textAlign:u="left",pattern:h,placeholder:m,inputMode:p="numeric",onComplete:f,pushPasswordManagerStrategy:g="increase-width",pasteTransformer:x,containerClassName:v,noScriptCSSFallback:y=Px,render:b,children:w}=o,j=((e,t)=>{var s={};for(var r in e)Sx.call(e,r)&&t.indexOf(r)<0&&(s[r]=e[r]);if(null!=e&&kx)for(var r of kx(e))t.indexOf(r)<0&&Cx.call(e,r)&&(s[r]=e[r]);return s})(o,["value","onChange","maxLength","textAlign","pattern","placeholder","inputMode","onComplete","pushPasswordManagerStrategy","pasteTransformer","containerClassName","noScriptCSSFallback","render","children"]);let[_,N]=zt.useState("string"==typeof j.defaultValue?j.defaultValue:""),k=null!=l?l:_,S=function(e){let t=zt.useRef();return zt.useEffect(()=>{t.current=e}),t.current}(k),C=zt.useCallback(e=>{null==c||c(e),N(e)},[c]),E=zt.useMemo(()=>h?"string"==typeof h?new RegExp(h):h:null,[h]),T=zt.useRef(null),R=zt.useRef(null),O=zt.useRef({value:k,onChange:C,isIOS:"undefined"!=typeof window&&(null==(r=null==(s=null==window?void 0:window.CSS)?void 0:s.supports)?void 0:r.call(s,"-webkit-touch-callout","none"))}),A=zt.useRef({prev:[null==(n=T.current)?void 0:n.selectionStart,null==(a=T.current)?void 0:a.selectionEnd,null==(i=T.current)?void 0:i.selectionDirection]});zt.useImperativeHandle(t,()=>T.current,[]),zt.useEffect(()=>{let e=T.current,t=R.current;if(!e||!t)return;function s(){if(document.activeElement!==e)return L(null),void F(null);let t,s=e.selectionStart,r=e.selectionEnd,n=e.selectionDirection,a=e.maxLength,i=e.value,o=A.current.prev,l=-1,c=-1;if(0!==i.length&&null!==s&&null!==r){let e=s===r,n=s===i.length&&i.length<a;if(e&&!n){let e=s;if(0===e)l=0,c=1,t="forward";else if(e===a)l=e-1,c=e,t="backward";else if(a>1&&i.length>1){let s=0;if(null!==o[0]&&null!==o[1]){t=e<o[1]?"backward":"forward";let r=o[0]===o[1]&&o[0]<a;"backward"===t&&!r&&(s=-1)}l=s+e,c=s+e+1}}-1!==l&&-1!==c&&l!==c&&T.current.setSelectionRange(l,c,t)}let d=-1!==l?l:s,u=-1!==c?c:r,h=null!=t?t:n;L(d),F(u),A.current.prev=[d,u,h]}if(O.current.value!==e.value&&O.current.onChange(e.value),A.current.prev=[e.selectionStart,e.selectionEnd,e.selectionDirection],document.addEventListener("selectionchange",s,{capture:!0}),s(),document.activeElement===e&&D(!0),!document.getElementById("input-otp-style")){let e=document.createElement("style");if(e.id="input-otp-style",document.head.appendChild(e),e.sheet){let t="background: transparent !important; color: transparent !important; border-color: transparent !important; opacity: 0 !important; box-shadow: none !important; -webkit-box-shadow: none !important; -webkit-text-fill-color: transparent !important;";Ax(e.sheet,"[data-input-otp]::selection { background: transparent !important; color: transparent !important; }"),Ax(e.sheet,`[data-input-otp]:autofill { ${t} }`),Ax(e.sheet,`[data-input-otp]:-webkit-autofill { ${t} }`),Ax(e.sheet,"@supports (-webkit-touch-callout: none) { [data-input-otp] { letter-spacing: -.6em !important; font-weight: 100 !important; font-stretch: ultra-condensed; font-optical-sizing: none !important; left: -1px !important; right: 1px !important; } }"),Ax(e.sheet,"[data-input-otp] + * { pointer-events: all !important; }")}}let r=()=>{t&&t.style.setProperty("--root-height",`${e.clientHeight}px`)};r();let n=new ResizeObserver(r);return n.observe(e),()=>{document.removeEventListener("selectionchange",s,{capture:!0}),n.disconnect()}},[]);let[P,I]=zt.useState(!1),[M,D]=zt.useState(!1),[$,L]=zt.useState(null),[U,F]=zt.useState(null);zt.useEffect(()=>{!function(e){setTimeout(e,0),setTimeout(e,10),setTimeout(e,50)}(()=>{var e,t,s,r;null==(e=T.current)||e.dispatchEvent(new Event("input"));let n=null==(t=T.current)?void 0:t.selectionStart,a=null==(s=T.current)?void 0:s.selectionEnd,i=null==(r=T.current)?void 0:r.selectionDirection;null!==n&&null!==a&&(L(n),F(a),A.current.prev=[n,a,i])})},[k,M]),zt.useEffect(()=>{void 0!==S&&k!==S&&S.length<d&&k.length===d&&(null==f||f(k))},[d,f,S,k]);let B=function({containerRef:e,inputRef:t,pushPasswordManagerStrategy:s,isFocused:r}){let[n,a]=zt.useState(!1),[i,o]=zt.useState(!1),[l,c]=zt.useState(!1),d=zt.useMemo(()=>"none"!==s&&("increase-width"===s||"experimental-no-flickering"===s)&&n&&i,[n,i,s]),u=zt.useCallback(()=>{let r=e.current,n=t.current;if(!r||!n||l||"none"===s)return;let i=r,o=i.getBoundingClientRect().left+i.offsetWidth-18,d=i.getBoundingClientRect().top+i.offsetHeight/2;0===document.querySelectorAll(Tx).length&&document.elementFromPoint(o,d)===r||(a(!0),c(!0))},[e,t,l,s]);return zt.useEffect(()=>{let t=e.current;if(!t||"none"===s)return;function r(){let e=window.innerWidth-t.getBoundingClientRect().right;o(e>=40)}r();let n=setInterval(r,1e3);return()=>{clearInterval(n)}},[e,s]),zt.useEffect(()=>{let e=r||document.activeElement===t.current;if("none"===s||!e)return;let n=setTimeout(u,0),a=setTimeout(u,2e3),i=setTimeout(u,5e3),o=setTimeout(()=>{c(!0)},6e3);return()=>{clearTimeout(n),clearTimeout(a),clearTimeout(i),clearTimeout(o)}},[t,r,s,u]),{hasPWMBadge:n,willPushPWMBadge:d,PWM_BADGE_SPACE_WIDTH:"40px"}}({containerRef:R,inputRef:T,pushPasswordManagerStrategy:g,isFocused:M}),z=zt.useCallback(e=>{let t=e.currentTarget.value.slice(0,d);t.length>0&&E&&!E.test(t)?e.preventDefault():("string"==typeof S&&t.length<S.length&&document.dispatchEvent(new Event("selectionchange")),C(t))},[d,C,S,E]),q=zt.useCallback(()=>{var e;if(T.current){let t=Math.min(T.current.value.length,d-1),s=T.current.value.length;null==(e=T.current)||e.setSelectionRange(t,s),L(t),F(s)}D(!0)},[d]),W=zt.useCallback(e=>{var t,s;let r=T.current;if(!(x||O.current.isIOS&&e.clipboardData&&r))return;let n=e.clipboardData.getData("text/plain"),a=x?x(n):n;e.preventDefault();let i=null==(t=T.current)?void 0:t.selectionStart,o=null==(s=T.current)?void 0:s.selectionEnd,l=(i!==o?k.slice(0,i)+a+k.slice(o):k.slice(0,i)+a+k.slice(i)).slice(0,d);if(l.length>0&&E&&!E.test(l))return;r.value=l,C(l);let c=Math.min(l.length,d-1),u=l.length;r.setSelectionRange(c,u),L(c),F(u)},[d,C,E,k]),H=zt.useMemo(()=>({position:"relative",cursor:j.disabled?"default":"text",userSelect:"none",WebkitUserSelect:"none",pointerEvents:"none"}),[j.disabled]),K=zt.useMemo(()=>({position:"absolute",inset:0,width:B.willPushPWMBadge?`calc(100% + ${B.PWM_BADGE_SPACE_WIDTH})`:"100%",clipPath:B.willPushPWMBadge?`inset(0 ${B.PWM_BADGE_SPACE_WIDTH} 0 0)`:void 0,height:"100%",display:"flex",textAlign:u,opacity:"1",color:"transparent",pointerEvents:"all",background:"transparent",caretColor:"transparent",border:"0 solid transparent",outline:"0 solid transparent",boxShadow:"none",lineHeight:"1",letterSpacing:"-.5em",fontSize:"var(--root-height)",fontFamily:"monospace",fontVariantNumeric:"tabular-nums"}),[B.PWM_BADGE_SPACE_WIDTH,B.willPushPWMBadge,u]),V=zt.useMemo(()=>zt.createElement("input",((e,t)=>_x(e,Nx(t)))(((e,t)=>{for(var s in t||(t={}))Sx.call(t,s)&&Ex(e,s,t[s]);if(kx)for(var s of kx(t))Cx.call(t,s)&&Ex(e,s,t[s]);return e})({autoComplete:j.autoComplete||"one-time-code"},j),{"data-input-otp":!0,"data-input-otp-placeholder-shown":0===k.length||void 0,"data-input-otp-mss":$,"data-input-otp-mse":U,inputMode:p,pattern:null==E?void 0:E.source,"aria-placeholder":m,style:K,maxLength:d,value:k,ref:T,onPaste:e=>{var t;W(e),null==(t=j.onPaste)||t.call(j,e)},onChange:z,onMouseOver:e=>{var t;I(!0),null==(t=j.onMouseOver)||t.call(j,e)},onMouseLeave:e=>{var t;I(!1),null==(t=j.onMouseLeave)||t.call(j,e)},onFocus:e=>{var t;q(),null==(t=j.onFocus)||t.call(j,e)},onBlur:e=>{var t;D(!1),null==(t=j.onBlur)||t.call(j,e)}})),[z,q,W,p,K,d,U,$,j,null==E?void 0:E.source,k]),G=zt.useMemo(()=>({slots:Array.from({length:d}).map((e,t)=>{var s;let r=M&&null!==$&&null!==U&&($===U&&t===$||t>=$&&t<U),n=void 0!==k[t]?k[t]:null;return{char:n,placeholderChar:void 0!==k[0]?null:null!=(s=null==m?void 0:m[t])?s:null,isActive:r,hasFakeCaret:r&&null===n}}),isFocused:M,isHovering:!j.disabled&&P}),[M,P,d,U,$,j.disabled,k]),Z=zt.useMemo(()=>b?b(G):zt.createElement(Rx.Provider,{value:G},w),[w,G,b]);return zt.createElement(zt.Fragment,null,null!==y&&zt.createElement("noscript",null,zt.createElement("style",null,y)),zt.createElement("div",{ref:R,"data-input-otp-container":!0,style:H,className:v},Z,zt.createElement("div",{style:{position:"absolute",inset:0,pointerEvents:"none"}},V)))});function Ax(e,t){try{e.insertRule(t)}catch(s){}}Ox.displayName="Input";var Px="\n[data-input-otp] {\n  --nojs-bg: white !important;\n  --nojs-fg: black !important;\n\n  background-color: var(--nojs-bg) !important;\n  color: var(--nojs-fg) !important;\n  caret-color: var(--nojs-fg) !important;\n  letter-spacing: .25em !important;\n  text-align: center !important;\n  border: 1px solid var(--nojs-fg) !important;\n  border-radius: 4px !important;\n  width: 100% !important;\n}\n@media (prefers-color-scheme: dark) {\n  [data-input-otp] {\n    --nojs-bg: black !important;\n    --nojs-fg: white !important;\n  }\n}";const Ix=zt.forwardRef(({className:e,containerClassName:t,...s},r)=>Ee.jsx(Ox,{ref:r,containerClassName:Wa("flex items-center gap-2 has-[:disabled]:opacity-50",t),className:Wa("disabled:cursor-not-allowed",e),...s}));Ix.displayName="InputOTP";const Mx=zt.forwardRef(({className:e,...t},s)=>Ee.jsx("div",{ref:s,className:Wa("flex items-center",e),...t}));Mx.displayName="InputOTPGroup";const Dx=zt.forwardRef(({index:e,className:t,...s},r)=>{const n=zt.useContext(Rx),{char:a,hasFakeCaret:i,isActive:o}=n.slots[e];return Ee.jsxs("div",{ref:r,className:Wa("relative flex h-10 w-10 items-center justify-center border-y border-r border-input text-sm transition-all first:rounded-l-md first:border-l last:rounded-r-md",o&&"z-10 ring-2 ring-ring ring-offset-background",t),...s,children:[a,i&&Ee.jsx("div",{className:"pointer-events-none absolute inset-0 flex items-center justify-center",children:Ee.jsx("div",{className:"animate-caret-blink h-4 w-px bg-foreground duration-1000"})})]})});Dx.displayName="InputOTPSlot";function $x(){const e=Ht(),{toast:t}=ir(),[s,r]=zt.useState(!1),[n,a]=zt.useState(""),[i,o]=zt.useState(!1),[l,c]=zt.useState(""),[d,u]=zt.useState(null),[h,m]=zt.useState(null),[p,f]=zt.useState(!1),[g,x]=zt.useState("");zt.useEffect(()=>{const t="recovery"===new URLSearchParams(window.location.hash.substring(1)).get("type");t&&f(!0);const{data:{subscription:s}}=xh.auth.onAuthStateChange((t,s)=>{m(s),u((null==s?void 0:s.user)??null),"PASSWORD_RECOVERY"!==t?(null==s?void 0:s.user)&&e("/admin"):f(!0)});return t||xh.auth.getSession().then(({data:{session:t}})=>{m(t),u((null==t?void 0:t.user)??null),(null==t?void 0:t.user)&&e("/admin")}),()=>s.unsubscribe()},[e]);return Ee.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-blue-50 to-indigo-100 px-4",children:Ee.jsxs(Qo,{className:"w-full max-w-md",children:[Ee.jsxs(Xo,{children:[Ee.jsx(el,{children:p?"Set New Password":i?"Enter Code":"Admin Login"}),Ee.jsx(tl,{children:p?"Enter your new password below":i?"Enter the 6-digit code sent to your admin email":"Secure admin access with one-time code"})]}),Ee.jsx(sl,{children:p?Ee.jsxs("form",{onSubmit:async s=>{s.preventDefault(),r(!0);try{const{error:s}=await xh.auth.updateUser({password:g});if(s)throw s;t({title:"Password updated!",description:"Your password has been successfully reset."}),f(!1),x(""),e("/admin")}catch(n){t({title:"Error",description:n.message||"Failed to update password",variant:"destructive"})}finally{r(!1)}},className:"space-y-4",children:[Ee.jsxs("div",{className:"space-y-2",children:[Ee.jsx(Wg,{htmlFor:"newPassword",children:"New Password"}),Ee.jsx(Og,{id:"newPassword",type:"password",placeholder:"",value:g,onChange:e=>x(e.target.value),required:!0,disabled:s,minLength:6})]}),Ee.jsx(Yo,{type:"submit",className:"w-full",disabled:s,children:s?"Updating...":"Update Password"})]}):i?Ee.jsxs("form",{onSubmit:async e=>{if(e.preventDefault(),6===n.length){r(!0);try{const{error:e}=await xh.auth.verifyOtp({email:l,token:n,type:"email"});if(e)throw e;t({title:"Welcome!",description:"You've successfully logged in."})}catch(s){t({title:"Error",description:s.message||"Invalid OTP code",variant:"destructive"})}finally{r(!1)}}else t({title:"Invalid OTP",description:"Please enter a 6-digit code",variant:"destructive"})},className:"space-y-4",children:[Ee.jsxs("div",{className:"space-y-2",children:[Ee.jsx(Wg,{htmlFor:"otp",children:"One-Time Code"}),Ee.jsx(Ix,{maxLength:6,value:n,onChange:e=>a(e),disabled:s,children:Ee.jsxs(Mx,{className:"w-full justify-center",children:[Ee.jsx(Dx,{index:0}),Ee.jsx(Dx,{index:1}),Ee.jsx(Dx,{index:2}),Ee.jsx(Dx,{index:3}),Ee.jsx(Dx,{index:4}),Ee.jsx(Dx,{index:5})]})})]}),Ee.jsx(Yo,{type:"submit",className:"w-full",disabled:s||6!==n.length,children:s?"Verifying...":"Verify Code"}),Ee.jsx("div",{className:"text-center",children:Ee.jsx("button",{type:"button",onClick:()=>{o(!1),a("")},className:"text-sm text-primary hover:underline",disabled:s,children:"Request new code"})})]}):Ee.jsxs("form",{onSubmit:async e=>{e.preventDefault(),r(!0);try{const{data:e,error:s}=await xh.functions.invoke("send-admin-otp");if(s)throw s;c(e.adminEmail),o(!0),t({title:"OTP sent!",description:"Check your admin email for the 6-digit code."})}catch(s){t({title:"Error",description:s.message||"Failed to send OTP",variant:"destructive"})}finally{r(!1)}},className:"space-y-4",children:[Ee.jsx("p",{className:"text-center text-muted-foreground text-sm",children:"Click below to receive a one-time login code"}),Ee.jsx(Yo,{type:"submit",className:"w-full",disabled:s,children:s?"Sending...":"Send Login Code"})]})})]})})}zt.forwardRef(({...e},t)=>Ee.jsx("div",{ref:t,role:"separator",...e,children:Ee.jsx(wn,{})})).displayName="InputOTPSeparator";const Lx=Yr("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function Ux({className:e,variant:t,...s}){return Ee.jsx("div",{className:Wa(Lx({variant:t}),e),...s})}function Fx(){const[e,t]=zt.useState([]),[s,r]=zt.useState(!0),{toast:n}=ir();zt.useEffect(()=>{a()},[]);const a=async()=>{try{const{data:e,error:s}=await xh.from("contact_submissions").select("*").order("created_at",{ascending:!1});if(s)throw s;t(e||[])}catch(e){n({title:"Error",description:e.message,variant:"destructive"})}finally{r(!1)}};return s?Ee.jsx("div",{className:"text-center py-8",children:"Loading contacts..."}):Ee.jsxs("div",{className:"space-y-4",children:[Ee.jsxs("div",{className:"flex justify-between items-center mb-6",children:[Ee.jsx("h2",{className:"text-2xl font-bold",children:"Contact Submissions"}),Ee.jsxs(Ux,{variant:"secondary",children:[e.length," Total"]})]}),0===e.length?Ee.jsx(Qo,{children:Ee.jsx(sl,{className:"py-8 text-center text-muted-foreground",children:"No contact submissions yet."})}):Ee.jsx("div",{className:"grid gap-4",children:e.map(e=>Ee.jsxs(Qo,{className:"hover:shadow-md transition-shadow",children:[Ee.jsx(Xo,{children:Ee.jsxs("div",{className:"flex justify-between items-start",children:[Ee.jsxs("div",{className:"flex items-center gap-3",children:[Ee.jsx(Gn,{className:"h-5 w-5 text-primary"}),Ee.jsxs("div",{children:[Ee.jsx(el,{className:"text-lg",children:e.name}),Ee.jsx(Ux,{className:"mt-1",children:e.inquiry_type})]})]}),Ee.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[Ee.jsx(vn,{className:"h-4 w-4"}),new Date(e.created_at).toLocaleDateString()]})]})}),Ee.jsx(sl,{children:Ee.jsxs("div",{className:"space-y-3",children:[Ee.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[Ee.jsx(In,{className:"h-4 w-4 text-muted-foreground"}),Ee.jsx("a",{href:`mailto:${e.email}`,className:"text-primary hover:underline",children:e.email})]}),e.phone&&Ee.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[Ee.jsx(Ln,{className:"h-4 w-4 text-muted-foreground"}),Ee.jsx("a",{href:`tel:${e.phone}`,className:"text-primary hover:underline",children:e.phone})]}),Ee.jsxs("div",{className:"mt-4 p-4 bg-muted rounded-lg",children:[Ee.jsx("p",{className:"text-sm font-semibold mb-2",children:"Message:"}),Ee.jsx("p",{className:"text-sm whitespace-pre-wrap",children:e.message})]})]})})]},e.id))})]})}function Bx(){const[e,t]=zt.useState([]),[s,r]=zt.useState(!0),{toast:n}=ir();zt.useEffect(()=>{a()},[]);const a=async()=>{try{const{data:e,error:s}=await xh.from("booking_requests").select("*").order("created_at",{ascending:!1});if(s)throw s;t(e||[])}catch(e){n({title:"Error",description:e.message,variant:"destructive"})}finally{r(!1)}};return s?Ee.jsx("div",{className:"text-center py-8",children:"Loading bookings..."}):Ee.jsxs("div",{className:"space-y-4",children:[Ee.jsxs("div",{className:"flex justify-between items-center mb-6",children:[Ee.jsx("h2",{className:"text-2xl font-bold",children:"Booking Requests"}),Ee.jsxs(Ux,{variant:"secondary",children:[e.length," Total"]})]}),0===e.length?Ee.jsx(Qo,{children:Ee.jsx(sl,{className:"py-8 text-center text-muted-foreground",children:"No booking requests yet."})}):Ee.jsx("div",{className:"grid gap-4",children:e.map(e=>{return Ee.jsxs(Qo,{className:"hover:shadow-md transition-shadow",children:[Ee.jsx(Xo,{children:Ee.jsxs("div",{className:"flex justify-between items-start",children:[Ee.jsxs("div",{className:"flex items-center gap-3",children:[Ee.jsx(Gn,{className:"h-5 w-5 text-primary"}),Ee.jsxs("div",{children:[Ee.jsx(el,{className:"text-lg",children:e.name}),Ee.jsxs("div",{className:"flex gap-2 mt-1",children:[Ee.jsx(Ux,{children:e.booking_type}),(t=e.status,Ee.jsx(Ux,{variant:{pending:"outline",confirmed:"default",completed:"secondary",cancelled:"destructive"}[t]||"outline",children:t}))]})]})]}),Ee.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[Ee.jsx(vn,{className:"h-4 w-4"}),new Date(e.created_at).toLocaleDateString()]})]})}),Ee.jsx(sl,{children:Ee.jsxs("div",{className:"space-y-3",children:[Ee.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[Ee.jsx(In,{className:"h-4 w-4 text-muted-foreground"}),Ee.jsx("a",{href:`mailto:${e.email}`,className:"text-primary hover:underline",children:e.email})]}),e.phone&&Ee.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[Ee.jsx(Ln,{className:"h-4 w-4 text-muted-foreground"}),Ee.jsx("a",{href:`tel:${e.phone}`,className:"text-primary hover:underline",children:e.phone})]}),e.organization_name&&Ee.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[Ee.jsx(cn,{className:"h-4 w-4 text-muted-foreground"}),Ee.jsx("span",{children:e.organization_name})]}),e.message&&Ee.jsxs("div",{className:"mt-4 p-4 bg-muted rounded-lg",children:[Ee.jsx("p",{className:"text-sm font-semibold mb-2",children:"Message:"}),Ee.jsx("p",{className:"text-sm whitespace-pre-wrap",children:e.message})]}),Ee.jsxs("div",{className:"mt-4 flex items-center gap-3",children:[Ee.jsx("span",{className:"text-sm font-semibold",children:"Update Status:"}),Ee.jsxs(Kg,{value:e.status,onValueChange:t=>(async(e,t)=>{try{const{error:s}=await xh.from("booking_requests").update({status:t}).eq("id",e);if(s)throw s;n({title:"Success",description:"Booking status updated"}),a()}catch(s){n({title:"Error",description:s.message,variant:"destructive"})}})(e.id,t),children:[Ee.jsx(Gg,{className:"w-[180px]",children:Ee.jsx(Vg,{})}),Ee.jsxs(Yg,{children:[Ee.jsx(Qg,{value:"pending",children:"Pending"}),Ee.jsx(Qg,{value:"confirmed",children:"Confirmed"}),Ee.jsx(Qg,{value:"completed",children:"Completed"}),Ee.jsx(Qg,{value:"cancelled",children:"Cancelled"})]})]})]})]})})]},e.id);var t})})]})}function zx({bucket:e,currentUrl:t,onUploadComplete:s,onRemove:r,label:n="Image",accept:a="image/*",fallbackUrl:i}){const[o,l]=zt.useState(!1),[c,d]=zt.useState(t||null),[u,h]=zt.useState(""),m=zt.useRef(null),{toast:p}=ir(),f=()=>{if(u.trim())try{new URL(u),d(u),s(u),h(""),p({title:"Success",description:"Image URL added successfully"})}catch{p({title:"Error",description:"Invalid URL format",variant:"destructive"})}else p({title:"Error",description:"Please enter a valid URL",variant:"destructive"})};return Ee.jsxs("div",{className:"space-y-2",children:[Ee.jsx(Wg,{children:n}),c?Ee.jsxs("div",{className:"relative inline-block",children:[Ee.jsx("img",{src:c,alt:"Preview",className:"w-32 h-32 object-cover rounded-lg border",onError:e=>{i&&e.currentTarget.src!==i&&(e.currentTarget.src=i)}}),Ee.jsx(Yo,{type:"button",size:"icon",variant:"destructive",className:"absolute -top-2 -right-2 h-6 w-6 rounded-full",onClick:()=>{d(null),r&&r(),m.current&&(m.current.value="")},children:Ee.jsx(Yn,{className:"h-4 w-4"})})]}):Ee.jsxs(Ig,{defaultValue:"upload",className:"w-full",children:[Ee.jsxs(Mg,{className:"grid w-full grid-cols-2",children:[Ee.jsx(Dg,{value:"upload",children:"Upload"}),Ee.jsx(Dg,{value:"url",children:"URL"})]}),Ee.jsxs($g,{value:"upload",className:"border-2 border-dashed rounded-lg p-6 text-center",children:[Ee.jsx("input",{ref:m,type:"file",accept:a,onChange:async t=>{var r;const n=null==(r=t.target.files)?void 0:r[0];if(n)if(n.size>5242880)p({title:"Error",description:"File size must be less than 5MB",variant:"destructive"});else if(n.type.startsWith("image/")){l(!0);try{let t=n;if(0===document.createElement("canvas").toDataURL("image/webp").indexOf("data:image/webp")&&n.type.startsWith("image/"))try{t=await async function(e,t=.85){return new Promise((s,r)=>{const n=new FileReader;n.onload=n=>{var a;const i=new Image;i.onload=()=>{const n=document.createElement("canvas");n.width=i.width,n.height=i.height;const a=n.getContext("2d");a?(a.drawImage(i,0,0),n.toBlob(t=>{if(!t)return void r(new Error("Conversion to WebP failed"));const n=new File([t],e.name.replace(/\.[^/.]+$/,".webp"),{type:"image/webp"});s(n)},"image/webp",t)):r(new Error("Could not get canvas context"))},i.onerror=()=>r(new Error("Failed to load image")),i.src=null==(a=n.target)?void 0:a.result},n.onerror=()=>r(new Error("Failed to read file")),n.readAsDataURL(e)})}(n,.85),p({title:"Optimizing",description:"Converting image to WebP format..."})}catch(a){}const r=t.name.split(".").pop(),i=`${`${Math.random().toString(36).substring(2)}-${Date.now()}.${r}`}`,{error:o}=await xh.storage.from(e).upload(i,t,{cacheControl:"3600",upsert:!1});if(o)throw o;const{data:{publicUrl:l}}=xh.storage.from(e).getPublicUrl(i);d(l),s(l),p({title:"Success",description:"Image uploaded successfully"})}catch(i){p({title:"Error",description:i.message,variant:"destructive"})}finally{l(!1),m.current&&(m.current.value="")}}else p({title:"Error",description:"Please upload an image file",variant:"destructive"})},className:"hidden",disabled:o}),Ee.jsx(Yo,{type:"button",variant:"outline",onClick:()=>{var e;return null==(e=m.current)?void 0:e.click()},disabled:o,children:o?Ee.jsxs(Ee.Fragment,{children:[Ee.jsx(An,{className:"mr-2 h-4 w-4 animate-spin"}),"Uploading..."]}):Ee.jsxs(Ee.Fragment,{children:[Ee.jsx(Vn,{className:"mr-2 h-4 w-4"}),"Upload ",n]})}),Ee.jsxs("p",{className:"text-xs text-muted-foreground mt-2",children:["Max 5MB, ",a.split("/")[0]," files only"]})]}),Ee.jsxs($g,{value:"url",className:"space-y-2",children:[Ee.jsxs("div",{className:"flex gap-2",children:[Ee.jsx(Og,{placeholder:"https://example.com/image.jpg",value:u,onChange:e=>h(e.target.value),onKeyPress:e=>"Enter"===e.key&&f()}),Ee.jsxs(Yo,{type:"button",onClick:f,children:[Ee.jsx(Tn,{className:"mr-2 h-4 w-4"}),"Add"]})]}),Ee.jsx("p",{className:"text-xs text-muted-foreground",children:"Enter a direct image URL"})]})]})]})}function qx(){const[e,t]=zt.useState([]),[s,r]=zt.useState(!0),[n,a]=zt.useState(!1),[i,o]=zt.useState(null),[l,c]=zt.useState({name:"",role:"",content:"",rating:5,is_featured:!1,image_url:null}),{toast:d}=ir();zt.useEffect(()=>{u()},[]);const u=async()=>{try{const{data:e,error:s}=await xh.from("testimonials").select("*").order("created_at",{ascending:!1});if(s)throw s;t(e||[])}catch(e){d({title:"Error",description:e.message,variant:"destructive"})}finally{r(!1)}};return s?Ee.jsx("div",{className:"text-center py-8",children:"Loading testimonials..."}):Ee.jsxs("div",{className:"space-y-4",children:[Ee.jsxs("div",{className:"flex justify-between items-center mb-6",children:[Ee.jsx("h2",{className:"text-2xl font-bold",children:"Testimonials"}),Ee.jsxs(yh,{open:n,onOpenChange:a,children:[Ee.jsx(bh,{asChild:!0,children:Ee.jsxs(Yo,{onClick:()=>{o(null),c({name:"",role:"",content:"",rating:5,is_featured:!1,image_url:null})},children:[Ee.jsx(Un,{className:"mr-2 h-4 w-4"}),"Add Testimonial"]})}),Ee.jsxs(_h,{className:"max-w-2xl",children:[Ee.jsx(Nh,{children:Ee.jsxs(kh,{children:[i?"Edit":"Add"," Testimonial"]})}),Ee.jsxs("form",{onSubmit:async e=>{e.preventDefault();try{if(i){const{error:e}=await xh.from("testimonials").update(l).eq("id",i);if(e)throw e;d({title:"Success",description:"Testimonial updated"})}else{const{error:e}=await xh.from("testimonials").insert([l]);if(e)throw e;d({title:"Success",description:"Testimonial added"})}a(!1),o(null),c({name:"",role:"",content:"",rating:5,is_featured:!1,image_url:null}),u()}catch(t){d({title:"Error",description:t.message,variant:"destructive"})}},className:"space-y-4",children:[Ee.jsx(zx,{bucket:"testimonial-images",currentUrl:l.image_url,onUploadComplete:e=>c({...l,image_url:e}),onRemove:()=>c({...l,image_url:null}),label:"Profile Image"}),Ee.jsxs("div",{children:[Ee.jsx(Wg,{htmlFor:"name",children:"Name (Max 60 chars - Layout Safety)"}),Ee.jsx(Og,{id:"name",value:l.name,onChange:e=>c({...l,name:e.target.value.slice(0,60)}),required:!0,maxLength:60,placeholder:"Full Name"}),Ee.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:[l.name.length,"/60 characters"]})]}),Ee.jsxs("div",{children:[Ee.jsx(Wg,{htmlFor:"role",children:"Role (Max 50 chars)"}),Ee.jsx(Og,{id:"role",value:l.role,onChange:e=>c({...l,role:e.target.value.slice(0,50)}),placeholder:"e.g., Student, Parent, Teacher",maxLength:50}),Ee.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:[l.role.length,"/50 characters"]})]}),Ee.jsxs("div",{children:[Ee.jsx(Wg,{htmlFor:"content",children:"Testimonial (Max 300 chars - Layout Safety)"}),Ee.jsx(Hg,{id:"content",value:l.content,onChange:e=>c({...l,content:e.target.value.slice(0,300)}),required:!0,rows:4,maxLength:300,placeholder:"Share your experience..."}),Ee.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:[l.content.length,"/300 characters"]})]}),Ee.jsxs("div",{children:[Ee.jsx(Wg,{htmlFor:"rating",children:"Rating (1-5)"}),Ee.jsx(Og,{id:"rating",type:"number",min:"1",max:"5",value:l.rating,onChange:e=>c({...l,rating:parseInt(e.target.value)}),required:!0})]}),Ee.jsxs("div",{className:"flex items-center gap-2",children:[Ee.jsx("input",{type:"checkbox",id:"featured",checked:l.is_featured,onChange:e=>c({...l,is_featured:e.target.checked}),className:"h-4 w-4"}),Ee.jsx(Wg,{htmlFor:"featured",children:"Featured Testimonial"})]}),Ee.jsxs(Yo,{type:"submit",className:"w-full",children:[i?"Update":"Add"," Testimonial"]})]})]})]})]}),0===e.length?Ee.jsx(Qo,{children:Ee.jsx(sl,{className:"py-8 text-center text-muted-foreground",children:"No testimonials yet. Add your first one!"})}):Ee.jsx("div",{className:"grid gap-4",children:e.map(e=>Ee.jsxs(Qo,{className:"hover:shadow-md transition-shadow",children:[Ee.jsx(Xo,{children:Ee.jsxs("div",{className:"flex justify-between items-start",children:[Ee.jsxs("div",{children:[Ee.jsx(el,{className:"text-lg",children:e.name}),e.role&&Ee.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:e.role}),Ee.jsxs("div",{className:"flex gap-2 mt-2",children:[e.rating&&Ee.jsx("div",{className:"flex items-center gap-1",children:Array.from({length:e.rating}).map((e,t)=>Ee.jsx(Bn,{className:"h-4 w-4 fill-primary text-primary"},t))}),e.is_featured&&Ee.jsx(Ux,{variant:"secondary",children:"Featured"})]})]}),Ee.jsxs("div",{className:"flex gap-2",children:[Ee.jsx(Yo,{size:"sm",variant:"outline",onClick:()=>(e=>{o(e.id),c({name:e.name,role:e.role||"",content:e.content,rating:e.rating||5,is_featured:e.is_featured,image_url:e.image_url}),a(!0)})(e),children:"Edit"}),Ee.jsx(Yo,{size:"sm",variant:"destructive",onClick:()=>(async e=>{if(confirm("Are you sure you want to delete this testimonial?"))try{const{error:t}=await xh.from("testimonials").delete().eq("id",e);if(t)throw t;d({title:"Success",description:"Testimonial deleted"}),u()}catch(t){d({title:"Error",description:t.message,variant:"destructive"})}})(e.id),children:Ee.jsx(qn,{className:"h-4 w-4"})})]})]})}),Ee.jsx(sl,{children:Ee.jsx("p",{className:"text-sm",children:e.content})})]},e.id))})]})}function Wx({bucket:e,currentUrl:t,onUploadComplete:s,onRemove:r,label:n="File",accept:a="*/*",maxSizeMB:i=10}){const[o,l]=zt.useState(!1),[c,d]=zt.useState(t&&t.split("/").pop()||null),u=zt.useRef(null),{toast:h}=ir();return Ee.jsxs("div",{className:"space-y-2",children:[Ee.jsx(Wg,{children:n}),c?Ee.jsxs("div",{className:"flex items-center gap-2 p-3 border rounded-lg bg-muted/50",children:[Ee.jsx(Sn,{className:"h-5 w-5 text-primary"}),Ee.jsx("span",{className:"flex-1 text-sm truncate",children:c}),Ee.jsx(Yo,{type:"button",size:"icon",variant:"ghost",className:"h-6 w-6",onClick:()=>{d(null),r&&r(),u.current&&(u.current.value="")},children:Ee.jsx(Yn,{className:"h-4 w-4"})})]}):Ee.jsxs("div",{className:"border-2 border-dashed rounded-lg p-6 text-center",children:[Ee.jsx("input",{ref:u,type:"file",accept:a,onChange:async t=>{var r;const n=null==(r=t.target.files)?void 0:r[0];if(!n)return;const a=1024*i*1024;if(n.size>a)h({title:"Error",description:`File size must be less than ${i}MB`,variant:"destructive"});else{l(!0);try{n.name.split(".").pop();const t=n.name.replace(/[^a-zA-Z0-9.-]/g,"_"),r=`${`${Date.now()}-${t}`}`,{error:a}=await xh.storage.from(e).upload(r,n,{cacheControl:"3600",upsert:!1});if(a)throw a;const{data:{publicUrl:i}}=xh.storage.from(e).getPublicUrl(r);d(n.name),s(i),h({title:"Success",description:"File uploaded successfully"})}catch(o){h({title:"Error",description:o.message,variant:"destructive"})}finally{l(!1),u.current&&(u.current.value="")}}},className:"hidden",disabled:o}),Ee.jsx(Yo,{type:"button",variant:"outline",onClick:()=>{var e;return null==(e=u.current)?void 0:e.click()},disabled:o,children:o?Ee.jsxs(Ee.Fragment,{children:[Ee.jsx(An,{className:"mr-2 h-4 w-4 animate-spin"}),"Uploading..."]}):Ee.jsxs(Ee.Fragment,{children:[Ee.jsx(Vn,{className:"mr-2 h-4 w-4"}),"Upload ",n]})}),Ee.jsxs("p",{className:"text-xs text-muted-foreground mt-2",children:["Max ",i,"MB"]})]})]})}function Hx(){const[e,t]=zt.useState([]),[s,r]=zt.useState(!0),[n,a]=zt.useState(!1),[i,o]=zt.useState(null),[l,c]=zt.useState("upload"),[d,u]=zt.useState(""),[h,m]=zt.useState({title:"",description:"",category:"worksheet",audience:"all",file_url:null,thumbnail_url:null,is_active:!0}),{toast:p}=ir();zt.useEffect(()=>{f()},[]);const f=async()=>{try{const{data:e,error:s}=await xh.from("resources").select("*").order("created_at",{ascending:!1});if(s)throw s;t(e||[])}catch(e){p({title:"Error",description:e.message,variant:"destructive"})}finally{r(!1)}};return s?Ee.jsx("div",{className:"text-center py-8",children:"Loading resources..."}):Ee.jsxs("div",{className:"space-y-4",children:[Ee.jsxs("div",{className:"flex justify-between items-center mb-6",children:[Ee.jsx("h2",{className:"text-2xl font-bold",children:"Resources"}),Ee.jsxs(yh,{open:n,onOpenChange:a,children:[Ee.jsx(bh,{asChild:!0,children:Ee.jsxs(Yo,{onClick:()=>{o(null),m({title:"",description:"",category:"worksheet",audience:"all",file_url:null,thumbnail_url:null,is_active:!0}),u(""),c("upload")},children:[Ee.jsx(Un,{className:"mr-2 h-4 w-4"}),"Add Resource"]})}),Ee.jsxs(_h,{className:"max-w-2xl",children:[Ee.jsx(Nh,{children:Ee.jsxs(kh,{children:[i?"Edit":"Add"," Resource"]})}),Ee.jsxs("form",{onSubmit:async e=>{e.preventDefault();try{const e="link"===l?d:h.file_url;if(i){const{error:t}=await xh.from("resources").update({...h,file_url:e}).eq("id",i);if(t)throw t;p({title:"Success",description:"Resource updated"})}else{const{error:t}=await xh.from("resources").insert([{...h,file_url:e}]);if(t)throw t;p({title:"Success",description:"Resource added"})}a(!1),o(null),m({title:"",description:"",category:"worksheet",audience:"all",file_url:null,thumbnail_url:null,is_active:!0}),u(""),c("upload"),f()}catch(t){p({title:"Error",description:t.message,variant:"destructive"})}},className:"space-y-4",children:[Ee.jsxs("div",{children:[Ee.jsx(Wg,{htmlFor:"title",children:"Title"}),Ee.jsx(Og,{id:"title",value:h.title,onChange:e=>m({...h,title:e.target.value}),required:!0,maxLength:200})]}),Ee.jsxs("div",{children:[Ee.jsx(Wg,{htmlFor:"description",children:"Description"}),Ee.jsx(Hg,{id:"description",value:h.description,onChange:e=>m({...h,description:e.target.value}),rows:3,maxLength:500}),Ee.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:[h.description.length,"/500 characters"]})]}),Ee.jsxs("div",{children:[Ee.jsx(Wg,{htmlFor:"category",children:"Category"}),Ee.jsxs(Kg,{value:h.category,onValueChange:e=>m({...h,category:e}),children:[Ee.jsx(Gg,{children:Ee.jsx(Vg,{})}),Ee.jsxs(Yg,{children:[Ee.jsx(Qg,{value:"worksheet",children:"Worksheet"}),Ee.jsx(Qg,{value:"guide",children:"Guide"}),Ee.jsx(Qg,{value:"video",children:"Video"}),Ee.jsx(Qg,{value:"article",children:"Article"}),Ee.jsx(Qg,{value:"other",children:"Other"})]})]})]}),Ee.jsxs("div",{children:[Ee.jsx(Wg,{htmlFor:"audience",children:"Target Audience"}),Ee.jsxs(Kg,{value:h.audience,onValueChange:e=>m({...h,audience:e}),children:[Ee.jsx(Gg,{children:Ee.jsx(Vg,{})}),Ee.jsxs(Yg,{children:[Ee.jsx(Qg,{value:"all",children:"All Audiences"}),Ee.jsx(Qg,{value:"students",children:"Students"}),Ee.jsx(Qg,{value:"parents",children:"Parents"}),Ee.jsx(Qg,{value:"educators",children:"Educators"})]})]})]}),Ee.jsx(zx,{bucket:"resource-files",currentUrl:h.thumbnail_url,onUploadComplete:e=>m({...h,thumbnail_url:e}),onRemove:()=>m({...h,thumbnail_url:null}),label:"Thumbnail Image (Optional)"}),Ee.jsxs("div",{children:[Ee.jsx(Wg,{children:"Resource File"}),Ee.jsxs(Ig,{value:l,onValueChange:e=>c(e),className:"mt-2",children:[Ee.jsxs(Mg,{className:"grid w-full grid-cols-2",children:[Ee.jsx(Dg,{value:"upload",children:"Upload File"}),Ee.jsxs(Dg,{value:"link",children:[Ee.jsx(Rn,{className:"h-4 w-4 mr-2"}),"Google Drive Link"]})]}),Ee.jsx($g,{value:"upload",className:"mt-4",children:Ee.jsx(Wx,{bucket:"resource-files",currentUrl:h.file_url,onUploadComplete:e=>m({...h,file_url:e}),onRemove:()=>m({...h,file_url:null}),label:"",accept:".pdf,.doc,.docx,.ppt,.pptx,.xls,.xlsx,.zip",maxSizeMB:10})}),Ee.jsx($g,{value:"link",className:"mt-4",children:Ee.jsxs("div",{className:"space-y-2",children:[Ee.jsx(Og,{placeholder:"https://drive.google.com/file/d/...",value:d,onChange:e=>u(e.target.value),type:"url"}),Ee.jsx("p",{className:"text-xs text-muted-foreground",children:'Paste a shareable Google Drive link. Make sure the link allows "Anyone with the link" to view.'})]})})]})]}),Ee.jsxs("div",{className:"flex items-center gap-2",children:[Ee.jsx("input",{type:"checkbox",id:"is_active",checked:h.is_active,onChange:e=>m({...h,is_active:e.target.checked}),className:"h-4 w-4"}),Ee.jsx(Wg,{htmlFor:"is_active",children:"Active (visible to users)"})]}),Ee.jsxs(Yo,{type:"submit",className:"w-full",children:[i?"Update":"Add"," Resource"]})]})]})]})]}),0===e.length?Ee.jsx(Qo,{children:Ee.jsx(sl,{className:"py-8 text-center text-muted-foreground",children:"No resources yet. Add your first one!"})}):Ee.jsx("div",{className:"grid gap-4",children:e.map(e=>Ee.jsxs(Qo,{className:"hover:shadow-md transition-shadow",children:[Ee.jsx(Xo,{children:Ee.jsxs("div",{className:"flex justify-between items-start",children:[Ee.jsxs("div",{children:[Ee.jsx(el,{className:"text-lg",children:e.title}),Ee.jsxs("div",{className:"flex gap-2 mt-2",children:[Ee.jsx(Ux,{children:e.category}),Ee.jsx(Ux,{variant:"secondary",children:"all"===e.audience?"All":e.audience}),e.is_active?Ee.jsx(Ux,{variant:"secondary",children:"Active"}):Ee.jsx(Ux,{variant:"outline",children:"Inactive"}),Ee.jsxs(Ux,{variant:"outline",children:[Ee.jsx(jn,{className:"h-3 w-3 mr-1"}),e.downloads," downloads"]})]})]}),Ee.jsxs("div",{className:"flex gap-2",children:[Ee.jsx(Yo,{size:"sm",variant:"outline",onClick:()=>(e=>{o(e.id),m({title:e.title,description:e.description||"",category:e.category,audience:e.audience||"all",file_url:e.file_url,thumbnail_url:e.thumbnail_url,is_active:e.is_active}),e.file_url&&(e.file_url.includes("drive.google.com")||e.file_url.includes("docs.google.com"))?(c("link"),u(e.file_url)):(c("upload"),u("")),a(!0)})(e),children:"Edit"}),Ee.jsx(Yo,{size:"sm",variant:"destructive",onClick:()=>(async e=>{if(confirm("Are you sure you want to delete this resource?"))try{const{error:t}=await xh.from("resources").delete().eq("id",e);if(t)throw t;p({title:"Success",description:"Resource deleted"}),f()}catch(t){p({title:"Error",description:t.message,variant:"destructive"})}})(e.id),children:Ee.jsx(qn,{className:"h-4 w-4"})})]})]})}),Ee.jsxs(sl,{children:[e.description&&Ee.jsx("p",{className:"text-sm text-muted-foreground mb-3",children:e.description}),e.file_url&&Ee.jsx("a",{href:e.file_url,target:"_blank",rel:"noopener noreferrer",className:"text-sm text-primary hover:underline",children:"View File "})]})]},e.id))})]})}function Kx(){const[e,t]=zt.useState([]),[s,r]=zt.useState(!0),[n,a]=zt.useState(!1),[i,o]=zt.useState(null),[l,c]=zt.useState({name:"",description:"",price:0,duration_weeks:4,features:"",plan_type:"student",is_active:!0,display_order:0,contact_message:""}),{toast:d}=ir(),u=qo();zt.useEffect(()=>{h()},[]);const h=async()=>{try{const{data:e,error:s}=await xh.from("plans").select("*").order("display_order",{ascending:!0});if(s)throw s;const r=(e||[]).map(e=>({...e,features:Array.isArray(e.features)?e.features:"string"==typeof e.features?JSON.parse(e.features):[]}));t(r)}catch(e){d({title:"Error",description:e.message,variant:"destructive"})}finally{r(!1)}};return s?Ee.jsx("div",{className:"text-center py-8",children:"Loading plans..."}):Ee.jsxs("div",{className:"space-y-4",children:[Ee.jsxs("div",{className:"flex justify-between items-center mb-6",children:[Ee.jsx("h2",{className:"text-2xl font-bold",children:"Plans"}),Ee.jsxs(yh,{open:n,onOpenChange:a,children:[Ee.jsx(bh,{asChild:!0,children:Ee.jsxs(Yo,{onClick:()=>{o(null),c({name:"",description:"",price:0,duration_weeks:4,features:"",plan_type:"student",is_active:!0,display_order:0,contact_message:""})},children:[Ee.jsx(Un,{className:"mr-2 h-4 w-4"}),"Add Plan"]})}),Ee.jsxs(_h,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[Ee.jsx(Nh,{children:Ee.jsxs(kh,{children:[i?"Edit":"Add"," Plan"]})}),Ee.jsxs("form",{onSubmit:async e=>{e.preventDefault();try{const e=l.features.split("\n").filter(e=>e.trim()).map(e=>e.trim()),t={...l,features:e};if(i){const{error:e}=await xh.from("plans").update(t).eq("id",i);if(e)throw e;d({title:"Success",description:"Plan updated"})}else{const{error:e}=await xh.from("plans").insert([t]);if(e)throw e;d({title:"Success",description:"Plan added"})}a(!1),o(null),c({name:"",description:"",price:0,duration_weeks:4,features:"",plan_type:"student",is_active:!0,display_order:0,contact_message:""}),h(),u.invalidateQueries({queryKey:["student-plan"]}),u.invalidateQueries({queryKey:["school-plans"]})}catch(t){d({title:"Error",description:t.message,variant:"destructive"})}},className:"space-y-4",children:[Ee.jsxs("div",{children:[Ee.jsx(Wg,{htmlFor:"name",children:"Plan Name"}),Ee.jsx(Og,{id:"name",value:l.name,onChange:e=>c({...l,name:e.target.value}),required:!0})]}),Ee.jsxs("div",{children:[Ee.jsx(Wg,{htmlFor:"description",children:"Description"}),Ee.jsx(Hg,{id:"description",value:l.description,onChange:e=>c({...l,description:e.target.value}),rows:2})]}),Ee.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[Ee.jsxs("div",{children:[Ee.jsx(Wg,{htmlFor:"price",children:"Price ($)"}),Ee.jsx(Og,{id:"price",type:"number",step:"0.01",value:l.price,onChange:e=>c({...l,price:parseFloat(e.target.value)}),required:!0})]}),Ee.jsxs("div",{children:[Ee.jsx(Wg,{htmlFor:"duration",children:"Duration (weeks)"}),Ee.jsx(Og,{id:"duration",type:"number",value:l.duration_weeks,onChange:e=>c({...l,duration_weeks:parseInt(e.target.value)})})]})]}),Ee.jsxs("div",{children:[Ee.jsx(Wg,{htmlFor:"plan_type",children:"Plan Type"}),Ee.jsxs(Kg,{value:l.plan_type,onValueChange:e=>c({...l,plan_type:e}),children:[Ee.jsx(Gg,{children:Ee.jsx(Vg,{})}),Ee.jsxs(Yg,{children:[Ee.jsx(Qg,{value:"student",children:"Student"}),Ee.jsx(Qg,{value:"school",children:"School"}),Ee.jsx(Qg,{value:"both",children:"Both"})]})]})]}),Ee.jsxs("div",{children:[Ee.jsx(Wg,{htmlFor:"features",children:"Features (one per line)"}),Ee.jsx(Hg,{id:"features",value:l.features,onChange:e=>c({...l,features:e.target.value}),rows:6,placeholder:"Weekly counseling sessions\nPet therapy access\nProgress tracking"})]}),Ee.jsxs("div",{children:[Ee.jsx(Wg,{htmlFor:"contact_message",children:"Contact Form Message (Optional)"}),Ee.jsx(Hg,{id:"contact_message",value:l.contact_message,onChange:e=>c({...l,contact_message:e.target.value}),rows:3,placeholder:"Custom message that will appear in the contact form when users click to book this plan..."}),Ee.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"This message will pre-fill the contact form when students/schools click to book this plan"})]}),Ee.jsxs("div",{children:[Ee.jsx(Wg,{htmlFor:"display_order",children:"Display Order"}),Ee.jsx(Og,{id:"display_order",type:"number",value:l.display_order,onChange:e=>c({...l,display_order:parseInt(e.target.value)})})]}),Ee.jsxs("div",{className:"flex items-center gap-2",children:[Ee.jsx("input",{type:"checkbox",id:"is_active",checked:l.is_active,onChange:e=>c({...l,is_active:e.target.checked}),className:"h-4 w-4"}),Ee.jsx(Wg,{htmlFor:"is_active",children:"Active (visible to users)"})]}),Ee.jsxs(Yo,{type:"submit",className:"w-full",children:[i?"Update":"Add"," Plan"]})]})]})]})]}),0===e.length?Ee.jsx(Qo,{children:Ee.jsx(sl,{className:"py-8 text-center text-muted-foreground",children:"No plans yet. Add your first one!"})}):Ee.jsx("div",{className:"grid gap-4",children:e.map(e=>Ee.jsxs(Qo,{className:"hover:shadow-md transition-shadow",children:[Ee.jsx(Xo,{children:Ee.jsxs("div",{className:"flex justify-between items-start",children:[Ee.jsxs("div",{children:[Ee.jsx(el,{className:"text-lg",children:e.name}),Ee.jsxs("div",{className:"flex gap-2 mt-2",children:[Ee.jsx(Ux,{children:e.plan_type}),e.is_active?Ee.jsx(Ux,{variant:"secondary",children:"Active"}):Ee.jsx(Ux,{variant:"outline",children:"Inactive"}),Ee.jsxs(Ux,{variant:"outline",children:["Order: ",e.display_order]})]})]}),Ee.jsxs("div",{className:"flex gap-2",children:[Ee.jsx(Yo,{size:"sm",variant:"outline",onClick:()=>(e=>{o(e.id),c({name:e.name,description:e.description||"",price:e.price,duration_weeks:e.duration_weeks||4,features:Array.isArray(e.features)?e.features.join("\n"):"",plan_type:e.plan_type,is_active:e.is_active,display_order:e.display_order,contact_message:e.contact_message||""}),a(!0)})(e),children:"Edit"}),Ee.jsx(Yo,{size:"sm",variant:"destructive",onClick:()=>(async e=>{if(confirm("Are you sure you want to delete this plan?"))try{const{error:t}=await xh.from("plans").delete().eq("id",e);if(t)throw t;d({title:"Success",description:"Plan deleted"}),h(),u.invalidateQueries({queryKey:["student-plan"]}),u.invalidateQueries({queryKey:["school-plans"]})}catch(t){d({title:"Error",description:t.message,variant:"destructive"})}})(e.id),children:Ee.jsx(qn,{className:"h-4 w-4"})})]})]})}),Ee.jsx(sl,{children:Ee.jsxs("div",{className:"space-y-3",children:[Ee.jsxs("div",{className:"flex items-center gap-2",children:[Ee.jsx(bn,{className:"h-5 w-5 text-primary"}),Ee.jsxs("span",{className:"text-2xl font-bold",children:["$",e.price]}),e.duration_weeks&&Ee.jsxs("span",{className:"text-sm text-muted-foreground",children:["/ ",e.duration_weeks," weeks"]})]}),e.description&&Ee.jsx("p",{className:"text-sm text-muted-foreground",children:e.description}),Array.isArray(e.features)&&e.features.length>0&&Ee.jsxs("div",{children:[Ee.jsx("p",{className:"text-sm font-semibold mb-2",children:"Features:"}),Ee.jsx("ul",{className:"list-disc list-inside space-y-1",children:e.features.map((e,t)=>Ee.jsx("li",{className:"text-sm",children:e},t))})]})]})})]},e.id))})]})}const Vx=zt.forwardRef(({className:e,...t},s)=>Ee.jsx("div",{className:"relative w-full overflow-auto",children:Ee.jsx("table",{ref:s,className:Wa("w-full caption-bottom text-sm",e),...t})}));Vx.displayName="Table";const Gx=zt.forwardRef(({className:e,...t},s)=>Ee.jsx("thead",{ref:s,className:Wa("[&_tr]:border-b",e),...t}));Gx.displayName="TableHeader";const Zx=zt.forwardRef(({className:e,...t},s)=>Ee.jsx("tbody",{ref:s,className:Wa("[&_tr:last-child]:border-0",e),...t}));Zx.displayName="TableBody";zt.forwardRef(({className:e,...t},s)=>Ee.jsx("tfoot",{ref:s,className:Wa("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",e),...t})).displayName="TableFooter";const Jx=zt.forwardRef(({className:e,...t},s)=>Ee.jsx("tr",{ref:s,className:Wa("border-b transition-colors data-[state=selected]:bg-muted hover:bg-muted/50",e),...t}));Jx.displayName="TableRow";const Yx=zt.forwardRef(({className:e,...t},s)=>Ee.jsx("th",{ref:s,className:Wa("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",e),...t}));Yx.displayName="TableHead";const Qx=zt.forwardRef(({className:e,...t},s)=>Ee.jsx("td",{ref:s,className:Wa("p-4 align-middle [&:has([role=checkbox])]:pr-0",e),...t}));Qx.displayName="TableCell";zt.forwardRef(({className:e,...t},s)=>Ee.jsx("caption",{ref:s,className:Wa("mt-4 text-sm text-muted-foreground",e),...t})).displayName="TableCaption";var Xx="Switch",[ev,tv]=Se(Xx),[sv,rv]=ev(Xx),nv=zt.forwardRef((e,t)=>{const{__scopeSwitch:s,name:r,checked:n,defaultChecked:a,required:i,disabled:o,value:l="on",onCheckedChange:c,form:d,...u}=e,[h,m]=zt.useState(null),p=Ce(t,e=>m(e)),f=zt.useRef(!1),g=!h||(d||!!h.closest("form")),[x,v]=Ae({prop:n,defaultProp:a??!1,onChange:c,caller:Xx});return Ee.jsxs(sv,{scope:s,checked:x,disabled:o,children:[Ee.jsx(Re.button,{type:"button",role:"switch","aria-checked":x,"aria-required":i,"data-state":lv(x),"data-disabled":o?"":void 0,disabled:o,value:l,...u,ref:p,onClick:Me(e.onClick,e=>{v(e=>!e),g&&(f.current=e.isPropagationStopped(),f.current||e.stopPropagation())})}),g&&Ee.jsx(ov,{control:h,bubbles:!f.current,name:r,value:l,checked:x,required:i,disabled:o,form:d,style:{transform:"translateX(-100%)"}})]})});nv.displayName=Xx;var av="SwitchThumb",iv=zt.forwardRef((e,t)=>{const{__scopeSwitch:s,...r}=e,n=rv(av,s);return Ee.jsx(Re.span,{"data-state":lv(n.checked),"data-disabled":n.disabled?"":void 0,...r,ref:t})});iv.displayName=av;var ov=zt.forwardRef(({__scopeSwitch:e,control:t,checked:s,bubbles:r=!0,...n},a)=>{const i=zt.useRef(null),o=Ce(i,a),l=ot(s),c=Ct(t);return zt.useEffect(()=>{const e=i.current;if(!e)return;const t=window.HTMLInputElement.prototype,n=Object.getOwnPropertyDescriptor(t,"checked").set;if(l!==s&&n){const t=new Event("click",{bubbles:r});n.call(e,s),e.dispatchEvent(t)}},[l,s,r]),Ee.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:s,...n,tabIndex:-1,ref:o,style:{...n.style,...c,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});function lv(e){return e?"checked":"unchecked"}ov.displayName="SwitchBubbleInput";var cv=nv,dv=iv;const uv=zt.forwardRef(({className:e,...t},s)=>Ee.jsx(cv,{className:Wa("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors data-[state=checked]:bg-primary data-[state=unchecked]:bg-input focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50",e),...t,ref:s,children:Ee.jsx(dv,{className:Wa("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));function hv(){const[e,t]=zt.useState([]),[s,r]=zt.useState(!0),[n,a]=zt.useState(!1),[i,o]=zt.useState(null),[l,c]=zt.useState({title:"",slug:"",content:"",excerpt:"",cover_image_url:null,tags:"",is_published:!1,meta_title:"",meta_description:"",og_title:"",og_description:"",og_image:null}),{toast:d}=ir();zt.useEffect(()=>{u()},[]);const u=async()=>{try{const{data:e,error:s}=await xh.from("blog_posts").select("*").order("created_at",{ascending:!1});if(s)throw s;t(e||[])}catch(e){d({title:"Error",description:e.message,variant:"destructive"})}finally{r(!1)}},h=()=>{o(null),c({title:"",slug:"",content:"",excerpt:"",cover_image_url:null,tags:"",is_published:!1,meta_title:"",meta_description:"",og_title:"",og_description:"",og_image:null})};return s?Ee.jsx("div",{className:"flex justify-center p-8",children:"Loading..."}):Ee.jsxs("div",{className:"space-y-4",children:[Ee.jsxs("div",{className:"flex justify-between items-center",children:[Ee.jsx("h2",{className:"text-2xl font-bold",children:"Blog Posts"}),Ee.jsxs(yh,{open:n,onOpenChange:a,children:[Ee.jsx(bh,{asChild:!0,children:Ee.jsxs(Yo,{onClick:h,children:[Ee.jsx(Un,{className:"mr-2 h-4 w-4"}),"Add Blog Post"]})}),Ee.jsxs(_h,{className:"max-w-3xl max-h-[90vh] overflow-y-auto",children:[Ee.jsx(Nh,{children:Ee.jsx(kh,{children:i?"Edit Blog Post":"Add New Blog Post"})}),Ee.jsxs("form",{onSubmit:async e=>{e.preventDefault();try{const e={...l,slug:l.slug||(t=l.title,t.toLowerCase().replace(/[^a-z0-9]+/g,"-").replace(/^-|-$/g,"")),tags:l.tags?l.tags.split(",").map(e=>e.trim()):[],published_at:l.is_published?(new Date).toISOString():null};if(i){const{error:t}=await xh.from("blog_posts").update(e).eq("id",i.id);if(t)throw t;d({title:"Success",description:"Blog post updated"})}else{const{error:t}=await xh.from("blog_posts").insert([e]);if(t)throw t;d({title:"Success",description:"Blog post created"})}u(),a(!1),h()}catch(s){d({title:"Error",description:s.message,variant:"destructive"})}var t},className:"space-y-4",children:[Ee.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[Ee.jsxs("div",{children:[Ee.jsx(Wg,{children:"Title (Max 60 chars)"}),Ee.jsx(Og,{value:l.title,onChange:e=>c({...l,title:e.target.value}),maxLength:60,required:!0}),Ee.jsxs("span",{className:"text-xs text-muted-foreground",children:[l.title.length,"/60"]})]}),Ee.jsxs("div",{children:[Ee.jsx(Wg,{children:"Slug (URL)"}),Ee.jsx(Og,{value:l.slug,onChange:e=>c({...l,slug:e.target.value}),placeholder:"auto-generated"})]})]}),Ee.jsxs("div",{children:[Ee.jsx(Wg,{children:"Excerpt (Max 200 chars)"}),Ee.jsx(Hg,{value:l.excerpt,onChange:e=>c({...l,excerpt:e.target.value}),maxLength:200,rows:2}),Ee.jsxs("span",{className:"text-xs text-muted-foreground",children:[l.excerpt.length,"/200"]})]}),Ee.jsxs("div",{children:[Ee.jsx(Wg,{children:"Content"}),Ee.jsx(Hg,{value:l.content,onChange:e=>c({...l,content:e.target.value}),rows:10,required:!0})]}),Ee.jsx(zx,{bucket:"blog-images",currentUrl:l.cover_image_url,onUploadComplete:e=>c({...l,cover_image_url:e}),onRemove:()=>c({...l,cover_image_url:null}),label:"Cover Image"}),Ee.jsxs("div",{children:[Ee.jsx(Wg,{children:"Tags (comma-separated)"}),Ee.jsx(Og,{value:l.tags,onChange:e=>c({...l,tags:e.target.value}),placeholder:"wellness, mental health, tips"})]}),Ee.jsxs("div",{className:"flex items-center space-x-2",children:[Ee.jsx(uv,{checked:l.is_published,onCheckedChange:e=>c({...l,is_published:e})}),Ee.jsx(Wg,{children:"Published"})]}),Ee.jsxs("div",{className:"border-t pt-4 mt-4",children:[Ee.jsx("h3",{className:"font-semibold mb-3",children:"SEO Metadata"}),Ee.jsxs("div",{className:"space-y-3",children:[Ee.jsxs("div",{children:[Ee.jsx(Wg,{children:"Meta Title (Max 60 chars)"}),Ee.jsx(Og,{value:l.meta_title,onChange:e=>c({...l,meta_title:e.target.value}),maxLength:60})]}),Ee.jsxs("div",{children:[Ee.jsx(Wg,{children:"Meta Description (Max 160 chars)"}),Ee.jsx(Hg,{value:l.meta_description,onChange:e=>c({...l,meta_description:e.target.value}),maxLength:160,rows:2})]}),Ee.jsxs("div",{children:[Ee.jsx(Wg,{children:"OG Title"}),Ee.jsx(Og,{value:l.og_title,onChange:e=>c({...l,og_title:e.target.value}),maxLength:60})]}),Ee.jsxs("div",{children:[Ee.jsx(Wg,{children:"OG Description"}),Ee.jsx(Hg,{value:l.og_description,onChange:e=>c({...l,og_description:e.target.value}),maxLength:160,rows:2})]}),Ee.jsx(zx,{bucket:"blog-images",currentUrl:l.og_image,onUploadComplete:e=>c({...l,og_image:e}),onRemove:()=>c({...l,og_image:null}),label:"OG Image (1200x630px)"})]})]}),Ee.jsxs("div",{className:"flex justify-end gap-2",children:[Ee.jsx(Yo,{type:"button",variant:"outline",onClick:()=>a(!1),children:"Cancel"}),Ee.jsx(Yo,{type:"submit",children:i?"Update":"Create"})]})]})]})]})]}),Ee.jsxs(Vx,{children:[Ee.jsx(Gx,{children:Ee.jsxs(Jx,{children:[Ee.jsx(Yx,{children:"Title"}),Ee.jsx(Yx,{children:"Slug"}),Ee.jsx(Yx,{children:"Status"}),Ee.jsx(Yx,{children:"Published"}),Ee.jsx(Yx,{className:"text-right",children:"Actions"})]})}),Ee.jsx(Zx,{children:e.map(e=>Ee.jsxs(Jx,{children:[Ee.jsx(Qx,{className:"font-medium",children:e.title}),Ee.jsx(Qx,{className:"text-sm text-muted-foreground",children:e.slug}),Ee.jsx(Qx,{children:Ee.jsx("span",{className:"px-2 py-1 rounded text-xs "+(e.is_published?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"),children:e.is_published?"Published":"Draft"})}),Ee.jsx(Qx,{className:"text-sm",children:e.published_at?new Date(e.published_at).toLocaleDateString():"-"}),Ee.jsx(Qx,{className:"text-right",children:Ee.jsxs("div",{className:"flex justify-end gap-2",children:[Ee.jsx(Yo,{size:"icon",variant:"ghost",onClick:()=>(e=>{var t;o(e),c({title:e.title,slug:e.slug,content:e.content,excerpt:e.excerpt||"",cover_image_url:e.cover_image_url,tags:(null==(t=e.tags)?void 0:t.join(", "))||"",is_published:e.is_published,meta_title:e.meta_title||"",meta_description:e.meta_description||"",og_title:e.og_title||"",og_description:e.og_description||"",og_image:e.og_image}),a(!0)})(e),children:Ee.jsx($n,{className:"h-4 w-4"})}),Ee.jsx(Yo,{size:"icon",variant:"ghost",onClick:()=>(async e=>{if(confirm("Are you sure you want to delete this blog post?"))try{const{error:t}=await xh.from("blog_posts").delete().eq("id",e);if(t)throw t;d({title:"Success",description:"Blog post deleted"}),u()}catch(t){d({title:"Error",description:t.message,variant:"destructive"})}})(e.id),children:Ee.jsx(qn,{className:"h-4 w-4"})})]})})]},e.id))})]})]})}function mv(){const[e,t]=zt.useState([]),[s,r]=zt.useState(!0),[n,a]=zt.useState(!1),[i,o]=zt.useState(null),[l,c]=zt.useState({title:"",alt_text:"",image_url:null,collection:"",display_order:0,is_active:!0}),{toast:d}=ir();zt.useEffect(()=>{u()},[]);const u=async()=>{try{const{data:e,error:s}=await xh.from("gallery_items").select("*").order("display_order",{ascending:!0});if(s)throw s;t(e||[])}catch(e){d({title:"Error",description:e.message,variant:"destructive"})}finally{r(!1)}},h=()=>{o(null),c({title:"",alt_text:"",image_url:null,collection:"",display_order:0,is_active:!0})};return s?Ee.jsx("div",{className:"flex justify-center p-8",children:"Loading..."}):Ee.jsxs("div",{className:"space-y-4",children:[Ee.jsxs("div",{className:"flex justify-between items-center",children:[Ee.jsx("h2",{className:"text-2xl font-bold",children:"Gallery"}),Ee.jsxs(yh,{open:n,onOpenChange:a,children:[Ee.jsx(bh,{asChild:!0,children:Ee.jsxs(Yo,{onClick:h,children:[Ee.jsx(Un,{className:"mr-2 h-4 w-4"}),"Add Gallery Item"]})}),Ee.jsxs(_h,{children:[Ee.jsx(Nh,{children:Ee.jsx(kh,{children:i?"Edit Gallery Item":"Add New Gallery Item"})}),Ee.jsxs("form",{onSubmit:async e=>{if(e.preventDefault(),l.image_url)try{if(i){const{error:e}=await xh.from("gallery_items").update(l).eq("id",i.id);if(e)throw e;d({title:"Success",description:"Gallery item updated"})}else{const{error:e}=await xh.from("gallery_items").insert([l]);if(e)throw e;d({title:"Success",description:"Gallery item added"})}u(),a(!1),h()}catch(t){d({title:"Error",description:t.message,variant:"destructive"})}else d({title:"Error",description:"Please upload an image",variant:"destructive"})},className:"space-y-4",children:[Ee.jsxs("div",{children:[Ee.jsx(Wg,{children:"Title (Max 100 chars)"}),Ee.jsx(Og,{value:l.title,onChange:e=>c({...l,title:e.target.value}),maxLength:100,required:!0})]}),Ee.jsxs("div",{children:[Ee.jsx(Wg,{children:"Alt Text (Max 150 chars)"}),Ee.jsx(Og,{value:l.alt_text,onChange:e=>c({...l,alt_text:e.target.value}),maxLength:150,required:!0})]}),Ee.jsx(zx,{bucket:"gallery-images",currentUrl:l.image_url,onUploadComplete:e=>c({...l,image_url:e}),onRemove:()=>c({...l,image_url:null}),label:"Gallery Image"}),Ee.jsxs("div",{children:[Ee.jsx(Wg,{children:"Collection (Optional)"}),Ee.jsx(Og,{value:l.collection,onChange:e=>c({...l,collection:e.target.value}),placeholder:"e.g., Events, Activities"})]}),Ee.jsxs("div",{children:[Ee.jsx(Wg,{children:"Display Order"}),Ee.jsx(Og,{type:"number",value:l.display_order,onChange:e=>c({...l,display_order:parseInt(e.target.value)||0})})]}),Ee.jsxs("div",{className:"flex items-center space-x-2",children:[Ee.jsx(uv,{checked:l.is_active,onCheckedChange:e=>c({...l,is_active:e})}),Ee.jsx(Wg,{children:"Active"})]}),Ee.jsxs("div",{className:"flex justify-end gap-2",children:[Ee.jsx(Yo,{type:"button",variant:"outline",onClick:()=>a(!1),children:"Cancel"}),Ee.jsx(Yo,{type:"submit",children:i?"Update":"Create"})]})]})]})]})]}),Ee.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4",children:e.map(e=>Ee.jsxs("div",{className:"relative group",children:[Ee.jsx("img",{src:e.image_url,alt:e.alt_text,className:"w-full h-48 object-cover rounded-lg"}),Ee.jsxs("div",{className:"absolute inset-0 bg-black/50 opacity-0 group-hover:opacity-100 transition-opacity rounded-lg flex items-center justify-center gap-2",children:[Ee.jsx(Yo,{size:"icon",variant:"secondary",onClick:()=>(e=>{o(e),c({title:e.title,alt_text:e.alt_text,image_url:e.image_url,collection:e.collection||"",display_order:e.display_order,is_active:e.is_active}),a(!0)})(e),children:Ee.jsx($n,{className:"h-4 w-4"})}),Ee.jsx(Yo,{size:"icon",variant:"destructive",onClick:()=>(async e=>{if(confirm("Are you sure you want to delete this gallery item?"))try{const{error:t}=await xh.from("gallery_items").delete().eq("id",e);if(t)throw t;d({title:"Success",description:"Gallery item deleted"}),u()}catch(t){d({title:"Error",description:t.message,variant:"destructive"})}})(e.id),children:Ee.jsx(qn,{className:"h-4 w-4"})})]}),Ee.jsx("p",{className:"mt-2 text-sm font-medium",children:e.title}),e.collection&&Ee.jsx("p",{className:"text-xs text-muted-foreground",children:e.collection})]},e.id))})]})}function pv(){const[e,t]=zt.useState([]),[s,r]=zt.useState(!0),[n,a]=zt.useState(""),{toast:i}=ir();zt.useEffect(()=>{o()},[]);const o=async()=>{try{const{data:e,error:s}=await xh.from("newsletter_subscriptions").select("*").order("subscribed_at",{ascending:!1});if(s)throw s;t(e||[])}catch(e){i({title:"Error",description:e.message,variant:"destructive"})}finally{r(!1)}},l=e.filter(e=>e.email.toLowerCase().includes(n.toLowerCase()));return s?Ee.jsx("div",{className:"flex justify-center p-8",children:"Loading..."}):Ee.jsxs("div",{className:"space-y-4",children:[Ee.jsxs("div",{className:"flex justify-between items-center",children:[Ee.jsx("h2",{className:"text-2xl font-bold",children:"Newsletter Subscribers"}),Ee.jsx("button",{onClick:()=>{const e=[["Email","Status","Subscribed At","IP Address"],...l.map(e=>[e.email,e.status,new Date(e.subscribed_at).toLocaleString(),e.ip_address||"N/A"])].map(e=>e.join(",")).join("\n"),t=new Blob([e],{type:"text/csv"}),s=window.URL.createObjectURL(t),r=document.createElement("a");r.href=s,r.download=`newsletter-subscribers-${(new Date).toISOString().split("T")[0]}.csv`,r.click()},className:"px-4 py-2 bg-primary text-primary-foreground rounded-md hover:bg-primary/90",children:"Export to CSV"})]}),Ee.jsx(Og,{placeholder:"Search by email...",value:n,onChange:e=>a(e.target.value),className:"max-w-md"}),Ee.jsxs("div",{className:"text-sm text-muted-foreground",children:["Total subscribers: ",l.length]}),Ee.jsxs(Vx,{children:[Ee.jsx(Gx,{children:Ee.jsxs(Jx,{children:[Ee.jsx(Yx,{children:"Email"}),Ee.jsx(Yx,{children:"Status"}),Ee.jsx(Yx,{children:"Subscribed At"}),Ee.jsx(Yx,{children:"IP Address"})]})}),Ee.jsx(Zx,{children:l.map(e=>Ee.jsxs(Jx,{children:[Ee.jsx(Qx,{className:"font-medium",children:e.email}),Ee.jsx(Qx,{children:Ee.jsx("span",{className:"px-2 py-1 rounded text-xs "+("active"===e.status?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"),children:e.status})}),Ee.jsx(Qx,{children:new Date(e.subscribed_at).toLocaleString()}),Ee.jsx(Qx,{className:"text-sm text-muted-foreground",children:e.ip_address||"N/A"})]},e.id))})]})]})}function fv(){const[e,t]=zt.useState([]),[s,r]=zt.useState(!0),[n,a]=zt.useState(!1),[i,o]=zt.useState(null),[l,c]=zt.useState({page_path:"",meta_title:"",meta_description:"",og_title:"",og_description:"",og_image:null,canonical_url:"",robots:"index, follow"}),{toast:d}=ir();zt.useEffect(()=>{u()},[]);const u=async()=>{try{const{data:e,error:s}=await xh.from("page_metadata").select("*").order("page_path",{ascending:!0});if(s)throw s;t(e||[])}catch(e){d({title:"Error",description:e.message,variant:"destructive"})}finally{r(!1)}},h=()=>{o(null),c({page_path:"",meta_title:"",meta_description:"",og_title:"",og_description:"",og_image:null,canonical_url:"",robots:"index, follow"})};return s?Ee.jsx("div",{className:"flex justify-center p-8",children:"Loading..."}):Ee.jsxs("div",{className:"space-y-4",children:[Ee.jsxs("div",{className:"flex justify-between items-center",children:[Ee.jsx("h2",{className:"text-2xl font-bold",children:"SEO & Page Metadata"}),Ee.jsxs(yh,{open:n,onOpenChange:a,children:[Ee.jsx(bh,{asChild:!0,children:Ee.jsxs(Yo,{onClick:h,children:[Ee.jsx(Un,{className:"mr-2 h-4 w-4"}),"Add Page Metadata"]})}),Ee.jsxs(_h,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[Ee.jsx(Nh,{children:Ee.jsx(kh,{children:i?"Edit Page Metadata":"Add Page Metadata"})}),Ee.jsxs("form",{onSubmit:async e=>{e.preventDefault();try{if(i){const{error:e}=await xh.from("page_metadata").update(l).eq("id",i.id);if(e)throw e;d({title:"Success",description:"Page metadata updated"})}else{const{error:e}=await xh.from("page_metadata").insert([l]);if(e)throw e;d({title:"Success",description:"Page metadata added"})}u(),a(!1),h()}catch(t){d({title:"Error",description:t.message,variant:"destructive"})}},className:"space-y-4",children:[Ee.jsxs("div",{children:[Ee.jsx(Wg,{children:"Page Path"}),Ee.jsx(Og,{value:l.page_path,onChange:e=>c({...l,page_path:e.target.value}),placeholder:"/about, /contact, etc.",required:!0,disabled:!!i})]}),Ee.jsxs("div",{children:[Ee.jsx(Wg,{children:"Meta Title (Max 60 chars)"}),Ee.jsx(Og,{value:l.meta_title,onChange:e=>c({...l,meta_title:e.target.value}),maxLength:60}),Ee.jsxs("span",{className:"text-xs text-muted-foreground",children:[l.meta_title.length,"/60"]})]}),Ee.jsxs("div",{children:[Ee.jsx(Wg,{children:"Meta Description (Max 160 chars)"}),Ee.jsx(Hg,{value:l.meta_description,onChange:e=>c({...l,meta_description:e.target.value}),maxLength:160,rows:3}),Ee.jsxs("span",{className:"text-xs text-muted-foreground",children:[l.meta_description.length,"/160"]})]}),Ee.jsxs("div",{children:[Ee.jsx(Wg,{children:"OG Title"}),Ee.jsx(Og,{value:l.og_title,onChange:e=>c({...l,og_title:e.target.value}),maxLength:60})]}),Ee.jsxs("div",{children:[Ee.jsx(Wg,{children:"OG Description"}),Ee.jsx(Hg,{value:l.og_description,onChange:e=>c({...l,og_description:e.target.value}),maxLength:160,rows:3})]}),Ee.jsx(zx,{bucket:"resource-files",currentUrl:l.og_image,onUploadComplete:e=>c({...l,og_image:e}),onRemove:()=>c({...l,og_image:null}),label:"OG Image (1200x630px recommended)"}),Ee.jsxs("div",{children:[Ee.jsx(Wg,{children:"Canonical URL"}),Ee.jsx(Og,{value:l.canonical_url,onChange:e=>c({...l,canonical_url:e.target.value}),placeholder:"https://example.com/page"})]}),Ee.jsxs("div",{children:[Ee.jsx(Wg,{children:"Robots"}),Ee.jsx(Og,{value:l.robots,onChange:e=>c({...l,robots:e.target.value}),placeholder:"index, follow"})]}),Ee.jsxs("div",{className:"flex justify-end gap-2",children:[Ee.jsx(Yo,{type:"button",variant:"outline",onClick:()=>a(!1),children:"Cancel"}),Ee.jsx(Yo,{type:"submit",children:i?"Update":"Create"})]})]})]})]})]}),Ee.jsxs(Vx,{children:[Ee.jsx(Gx,{children:Ee.jsxs(Jx,{children:[Ee.jsx(Yx,{children:"Page Path"}),Ee.jsx(Yx,{children:"Meta Title"}),Ee.jsx(Yx,{children:"Meta Description"}),Ee.jsx(Yx,{className:"text-right",children:"Actions"})]})}),Ee.jsx(Zx,{children:e.map(e=>Ee.jsxs(Jx,{children:[Ee.jsx(Qx,{className:"font-medium",children:e.page_path}),Ee.jsx(Qx,{className:"text-sm",children:e.meta_title||"-"}),Ee.jsx(Qx,{className:"text-sm max-w-md truncate",children:e.meta_description||"-"}),Ee.jsx(Qx,{className:"text-right",children:Ee.jsx(Yo,{size:"icon",variant:"ghost",onClick:()=>(e=>{o(e),c({page_path:e.page_path,meta_title:e.meta_title||"",meta_description:e.meta_description||"",og_title:e.og_title||"",og_description:e.og_description||"",og_image:e.og_image,canonical_url:e.canonical_url||"",robots:e.robots||"index, follow"}),a(!0)})(e),children:Ee.jsx($n,{className:"h-4 w-4"})})})]},e.id))})]})]})}function gv(){const{toast:e}=ir(),[t,s]=zt.useState(!1),[r,n]=zt.useState(null),[a,i]=zt.useState(""),[o,l]=zt.useState(""),[c,d]=zt.useState(""),[u,h]=zt.useState(!1);zt.useEffect(()=>{m()},[]);const m=async()=>{try{const{data:e,error:t}=await xh.from("announcements").select("*").order("created_at",{ascending:!1}).limit(1).maybeSingle();if(t)throw t;e&&(n(e),i(e.title),l(e.message),d(e.image_url||""),h(!!e.is_active))}catch(e){}};return Ee.jsxs(Qo,{children:[Ee.jsx(Xo,{children:Ee.jsx(el,{children:"Site Announcement"})}),Ee.jsxs(sl,{className:"space-y-6",children:[Ee.jsxs("div",{className:"space-y-2",children:[Ee.jsx(Wg,{htmlFor:"title",children:"Title"}),Ee.jsx(Og,{id:"title",value:a,onChange:e=>i(e.target.value),placeholder:"Announcement title"})]}),Ee.jsxs("div",{className:"space-y-2",children:[Ee.jsx(Wg,{htmlFor:"message",children:"Message"}),Ee.jsx(Hg,{id:"message",value:o,onChange:e=>l(e.target.value),placeholder:"Announcement message",rows:5})]}),Ee.jsxs("div",{className:"space-y-2",children:[Ee.jsx(Wg,{children:"Banner Image (Optional)"}),Ee.jsx(zx,{bucket:"gallery-images",onUploadComplete:e=>d(e),currentUrl:c})]}),Ee.jsxs("div",{className:"flex items-center space-x-2",children:[Ee.jsx(uv,{id:"is-active",checked:u,onCheckedChange:h}),Ee.jsx(Wg,{htmlFor:"is-active",children:u?"Announcement is Active":"Announcement is Inactive"})]}),Ee.jsxs(Yo,{onClick:async()=>{if(a.trim()&&o.trim()){s(!0);try{const t={title:a.trim(),message:o.trim(),image_url:c||null,is_active:u};if(r){const{error:e}=await xh.from("announcements").update(t).eq("id",r.id);if(e)throw e}else{const{error:e}=await xh.from("announcements").insert([t]);if(e)throw e}e({title:"Success",description:"Announcement saved successfully"}),m()}catch(t){e({title:"Error",description:"Failed to save announcement",variant:"destructive"})}finally{s(!1)}}else e({title:"Error",description:"Title and message are required",variant:"destructive"})},disabled:t,children:[t&&Ee.jsx(An,{className:"mr-2 h-4 w-4 animate-spin"}),"Save Announcement"]})]})]})}uv.displayName=cv.displayName;var xv="AlertDialog",[vv,yv]=Se(xv,[Et]),bv=Et(),wv=e=>{const{__scopeAlertDialog:t,...s}=e,r=bv(t);return Ee.jsx(rt,{...r,...s,modal:!0})};wv.displayName=xv;zt.forwardRef((e,t)=>{const{__scopeAlertDialog:s,...r}=e,n=bv(s);return Ee.jsx(nt,{...n,...r,ref:t})}).displayName="AlertDialogTrigger";var jv=e=>{const{__scopeAlertDialog:t,...s}=e,r=bv(t);return Ee.jsx(st,{...r,...s})};jv.displayName="AlertDialogPortal";var _v=zt.forwardRef((e,t)=>{const{__scopeAlertDialog:s,...r}=e,n=bv(s);return Ee.jsx(Ye,{...n,...r,ref:t})});_v.displayName="AlertDialogOverlay";var Nv="AlertDialogContent",[kv,Sv]=vv(Nv),Cv=Ke("AlertDialogContent"),Ev=zt.forwardRef((e,t)=>{const{__scopeAlertDialog:s,children:r,...n}=e,a=bv(s),i=zt.useRef(null),o=Ce(t,i),l=zt.useRef(null);return Ee.jsx(Tt,{contentName:Nv,titleName:Tv,docsSlug:"alert-dialog",children:Ee.jsx(kv,{scope:s,cancelRef:l,children:Ee.jsxs(Qe,{role:"alertdialog",...a,...n,ref:o,onOpenAutoFocus:Me(n.onOpenAutoFocus,e=>{var t;e.preventDefault(),null==(t=l.current)||t.focus({preventScroll:!0})}),onPointerDownOutside:e=>e.preventDefault(),onInteractOutside:e=>e.preventDefault(),children:[Ee.jsx(Cv,{children:r}),Ee.jsx(Dv,{contentRef:i})]})})})});Ev.displayName=Nv;var Tv="AlertDialogTitle",Rv=zt.forwardRef((e,t)=>{const{__scopeAlertDialog:s,...r}=e,n=bv(s);return Ee.jsx(et,{...n,...r,ref:t})});Rv.displayName=Tv;var Ov="AlertDialogDescription",Av=zt.forwardRef((e,t)=>{const{__scopeAlertDialog:s,...r}=e,n=bv(s);return Ee.jsx(tt,{...n,...r,ref:t})});Av.displayName=Ov;var Pv=zt.forwardRef((e,t)=>{const{__scopeAlertDialog:s,...r}=e,n=bv(s);return Ee.jsx(Xe,{...n,...r,ref:t})});Pv.displayName="AlertDialogAction";var Iv="AlertDialogCancel",Mv=zt.forwardRef((e,t)=>{const{__scopeAlertDialog:s,...r}=e,{cancelRef:n}=Sv(Iv,s),a=bv(s),i=Ce(t,n);return Ee.jsx(Xe,{...a,...r,ref:i})});Mv.displayName=Iv;var Dv=({contentRef:e})=>{const t=`\`${Nv}\` requires a description for the component to be accessible for screen reader users.\n\nYou can add a description to the \`${Nv}\` by passing a \`${Ov}\` component as a child, which also benefits sighted users by adding visible context to the dialog.\n\nAlternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${Nv}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.\n\nFor more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return zt.useEffect(()=>{var t;document.getElementById(null==(t=e.current)?void 0:t.getAttribute("aria-describedby"))},[t,e]),null},$v=_v,Lv=Ev,Uv=Pv,Fv=Mv,Bv=Rv,zv=Av;const qv=wv,Wv=jv,Hv=zt.forwardRef(({className:e,...t},s)=>Ee.jsx($v,{className:Wa("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t,ref:s}));Hv.displayName=$v.displayName;const Kv=zt.forwardRef(({className:e,...t},s)=>Ee.jsxs(Wv,{children:[Ee.jsx(Hv,{}),Ee.jsx(Lv,{ref:s,className:Wa("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...t})]}));Kv.displayName=Lv.displayName;const Vv=({className:e,...t})=>Ee.jsx("div",{className:Wa("flex flex-col space-y-2 text-center sm:text-left",e),...t});Vv.displayName="AlertDialogHeader";const Gv=({className:e,...t})=>Ee.jsx("div",{className:Wa("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});Gv.displayName="AlertDialogFooter";const Zv=zt.forwardRef(({className:e,...t},s)=>Ee.jsx(Bv,{ref:s,className:Wa("text-lg font-semibold",e),...t}));Zv.displayName=Bv.displayName;const Jv=zt.forwardRef(({className:e,...t},s)=>Ee.jsx(zv,{ref:s,className:Wa("text-sm text-muted-foreground",e),...t}));Jv.displayName=zv.displayName;const Yv=zt.forwardRef(({className:e,...t},s)=>Ee.jsx(Uv,{ref:s,className:Wa(Jo(),e),...t}));Yv.displayName=Uv.displayName;const Qv=zt.forwardRef(({className:e,...t},s)=>Ee.jsx(Fv,{ref:s,className:Wa(Jo({variant:"outline"}),"mt-2 sm:mt-0",e),...t}));Qv.displayName=Fv.displayName;const Xv=3e5;function ey(){const e=Ht(),{toast:t}=ir(),[s,r]=zt.useState(null),[n,a]=zt.useState(!1),[i,o]=zt.useState(!0),l=(()=>{const e=Ht(),{toast:t}=ir(),s=zt.useRef(),r=zt.useRef(),[n,a]=zt.useState(!1),i=async()=>{const{data:{session:s}}=await xh.auth.getSession();s&&(await xh.auth.signOut(),t({title:"Signed out",description:"You've been automatically signed out due to inactivity"}),e("/auth"))},o=()=>{s.current&&clearTimeout(s.current),r.current&&clearTimeout(r.current),a(!1),r.current=setTimeout(()=>{a(!0)},18e4),s.current=setTimeout(i,Xv)};return zt.useEffect(()=>{const e=["mousedown","mousemove","keypress","scroll","touchstart","click"];return e.forEach(e=>{document.addEventListener(e,o)}),o(),()=>{s.current&&clearTimeout(s.current),r.current&&clearTimeout(r.current),e.forEach(e=>{document.removeEventListener(e,o)})}},[]),Ee.jsx(qv,{open:n,onOpenChange:a,children:Ee.jsxs(Kv,{children:[Ee.jsxs(Vv,{children:[Ee.jsx(Zv,{children:"Session Expiring Soon"}),Ee.jsx(Jv,{children:"Your session will expire in 2 minutes due to inactivity. Would you like to extend your session?"})]}),Ee.jsxs(Gv,{children:[Ee.jsx(Qv,{onClick:i,children:"Sign Out Now"}),Ee.jsx(Yv,{onClick:()=>{a(!1),o(),t({title:"Session extended",description:"Your session has been extended"})},children:"Extend Session"})]})]})})})();zt.useEffect(()=>{c()},[]);const c=async()=>{try{const{data:{user:s}}=await xh.auth.getUser();if(!s)return t({title:"Access Denied",description:"Please log in to access the admin panel.",variant:"destructive"}),void e("/auth");r(s);const{data:n,error:i}=await xh.rpc("has_role",{_user_id:s.id,_role:"admin"});if(i)throw i;if(!n)return t({title:"Access Denied",description:"You don't have admin privileges.",variant:"destructive"}),void e("/");a(!0)}catch(s){e("/auth")}finally{o(!1)}};return i?Ee.jsx("div",{className:"min-h-screen flex items-center justify-center",children:Ee.jsxs("div",{className:"text-center",children:[Ee.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary mx-auto mb-4"}),Ee.jsx("p",{className:"text-muted-foreground",children:"Loading admin panel..."})]})}):n?Ee.jsxs("div",{className:"min-h-screen flex flex-col",children:[l,Ee.jsx(Mp,{}),Ee.jsxs("main",{className:"flex-1 container mx-auto px-4 py-8",children:[Ee.jsxs("div",{className:"mb-8",children:[Ee.jsx("h1",{className:"text-4xl font-bold text-foreground mb-2",children:"Admin Panel"}),Ee.jsx("p",{className:"text-muted-foreground",children:"Manage your Happy Space World content"})]}),Ee.jsxs(Ig,{defaultValue:"contacts",className:"w-full",children:[Ee.jsxs(Mg,{className:"grid w-full grid-cols-10 mb-8",children:[Ee.jsx(Dg,{value:"contacts",children:"Contacts"}),Ee.jsx(Dg,{value:"bookings",children:"Bookings"}),Ee.jsx(Dg,{value:"testimonials",children:"Testimonials"}),Ee.jsx(Dg,{value:"resources",children:"Resources"}),Ee.jsx(Dg,{value:"plans",children:"Plans"}),Ee.jsx(Dg,{value:"blog",children:"Blog"}),Ee.jsx(Dg,{value:"gallery",children:"Gallery"}),Ee.jsx(Dg,{value:"newsletter",children:"Newsletter"}),Ee.jsx(Dg,{value:"seo",children:"SEO"}),Ee.jsx(Dg,{value:"announcements",children:"Announcements"})]}),Ee.jsx($g,{value:"contacts",children:Ee.jsx(Fx,{})}),Ee.jsx($g,{value:"bookings",children:Ee.jsx(Bx,{})}),Ee.jsx($g,{value:"testimonials",children:Ee.jsx(qx,{})}),Ee.jsx($g,{value:"resources",children:Ee.jsx(Hx,{})}),Ee.jsx($g,{value:"plans",children:Ee.jsx(Kx,{})}),Ee.jsx($g,{value:"blog",children:Ee.jsx(hv,{})}),Ee.jsx($g,{value:"gallery",children:Ee.jsx(mv,{})}),Ee.jsx($g,{value:"newsletter",children:Ee.jsx(pv,{})}),Ee.jsx($g,{value:"seo",children:Ee.jsx(fv,{})}),Ee.jsx($g,{value:"announcements",children:Ee.jsx(gv,{})})]})]}),Ee.jsx(Dp,{})]}):null}function ty(){const[e,t]=zt.useState([]),[s,r]=zt.useState(!0);zt.useEffect(()=>{n()},[]);const n=async()=>{try{const{data:e,error:s}=await xh.from("blog_posts").select("id, title, slug, excerpt, cover_image_url, tags, published_at").eq("is_published",!0).lte("published_at",(new Date).toISOString()).order("published_at",{ascending:!1});if(s)throw s;t(e||[])}catch(e){}finally{r(!1)}};return Ee.jsxs(Ee.Fragment,{children:[Ee.jsx($p,{title:"Blog - Happy Space World",description:"Read our latest articles on student mental wellness, tips, and resources"}),Ee.jsxs("div",{className:"min-h-screen flex flex-col",children:[Ee.jsx(Mp,{}),Ee.jsx("main",{className:"flex-1 container mx-auto px-4 py-12",children:Ee.jsxs("div",{className:"max-w-4xl mx-auto",children:[Ee.jsx("h1",{className:"text-4xl font-bold mb-4",children:"Blog"}),Ee.jsx("p",{className:"text-lg text-muted-foreground mb-12",children:"Insights, tips, and stories about student mental wellness"}),s?Ee.jsx("div",{className:"space-y-8",children:[1,2,3].map(e=>Ee.jsxs("div",{className:"border rounded-lg overflow-hidden",children:[Ee.jsx(Wp,{className:"w-full h-48"}),Ee.jsxs("div",{className:"p-6 space-y-3",children:[Ee.jsx(Wp,{className:"h-6 w-3/4"}),Ee.jsx(Wp,{className:"h-4 w-full"}),Ee.jsx(Wp,{className:"h-4 w-2/3"})]})]},e))}):0===e.length?Ee.jsx("div",{className:"text-center py-12",children:Ee.jsx("p",{className:"text-muted-foreground",children:"No blog posts yet. Check back soon!"})}):Ee.jsx("div",{className:"space-y-8",children:e.map(e=>Ee.jsxs(Kt,{to:`/blog/${e.slug}`,className:"block border rounded-lg overflow-hidden hover:shadow-lg transition-shadow",children:[e.cover_image_url&&Ee.jsx("img",{src:e.cover_image_url,alt:e.title,className:"w-full h-48 object-cover",loading:"lazy"}),Ee.jsxs("div",{className:"p-6",children:[Ee.jsx("h2",{className:"text-2xl font-bold mb-2 hover:text-primary transition-colors",children:e.title}),e.excerpt&&Ee.jsx("p",{className:"text-muted-foreground mb-4",children:e.excerpt}),Ee.jsxs("div",{className:"flex items-center gap-4 text-sm text-muted-foreground",children:[Ee.jsxs("div",{className:"flex items-center gap-1",children:[Ee.jsx(dn,{className:"h-4 w-4"}),new Date(e.published_at).toLocaleDateString()]}),e.tags&&e.tags.length>0&&Ee.jsxs("div",{className:"flex items-center gap-1",children:[Ee.jsx(zn,{className:"h-4 w-4"}),e.tags.slice(0,3).join(", ")]})]})]})]},e.id))})]})}),Ee.jsx(Dp,{})]})]})}var sy=["Enter"," "],ry=["ArrowUp","PageDown","End"],ny=["ArrowDown","PageUp","Home",...ry],ay={ltr:[...sy,"ArrowRight"],rtl:[...sy,"ArrowLeft"]},iy={ltr:["ArrowLeft"],rtl:["ArrowRight"]},oy="Menu",[ly,cy,dy]=ke(oy),[uy,hy]=Se(oy,[dy,Fe,Rt]),my=Fe(),py=Rt(),[fy,gy]=uy(oy),[xy,vy]=uy(oy),yy=e=>{const{__scopeMenu:t,open:s=!1,children:r,dir:n,onOpenChange:a,modal:i=!0}=e,o=my(t),[l,c]=zt.useState(null),d=zt.useRef(!1),u=Ie(a),h=it(n);return zt.useEffect(()=>{const e=()=>{d.current=!0,document.addEventListener("pointerdown",t,{capture:!0,once:!0}),document.addEventListener("pointermove",t,{capture:!0,once:!0})},t=()=>d.current=!1;return document.addEventListener("keydown",e,{capture:!0}),()=>{document.removeEventListener("keydown",e,{capture:!0}),document.removeEventListener("pointerdown",t,{capture:!0}),document.removeEventListener("pointermove",t,{capture:!0})}},[]),Ee.jsx(Lt,{...o,children:Ee.jsx(fy,{scope:t,open:s,onOpenChange:u,content:l,onContentChange:c,children:Ee.jsx(xy,{scope:t,onClose:zt.useCallback(()=>u(!1),[u]),isUsingKeyboardRef:d,dir:h,modal:i,children:r})})})};yy.displayName=oy;var by=zt.forwardRef((e,t)=>{const{__scopeMenu:s,...r}=e,n=my(s);return Ee.jsx(Be,{...n,...r,ref:t})});by.displayName="MenuAnchor";var wy="MenuPortal",[jy,_y]=uy(wy,{forceMount:void 0}),Ny=e=>{const{__scopeMenu:t,forceMount:s,children:r,container:n}=e,a=gy(wy,t);return Ee.jsx(jy,{scope:t,forceMount:s,children:Ee.jsx(Pe,{present:s||a.open,children:Ee.jsx($e,{asChild:!0,container:n,children:r})})})};Ny.displayName=wy;var ky="MenuContent",[Sy,Cy]=uy(ky),Ey=zt.forwardRef((e,t)=>{const s=_y(ky,e.__scopeMenu),{forceMount:r=s.forceMount,...n}=e,a=gy(ky,e.__scopeMenu),i=vy(ky,e.__scopeMenu);return Ee.jsx(ly.Provider,{scope:e.__scopeMenu,children:Ee.jsx(Pe,{present:r||a.open,children:Ee.jsx(ly.Slot,{scope:e.__scopeMenu,children:i.modal?Ee.jsx(Ty,{...n,ref:t}):Ee.jsx(Ry,{...n,ref:t})})})})}),Ty=zt.forwardRef((e,t)=>{const s=gy(ky,e.__scopeMenu),r=zt.useRef(null),n=Ce(t,r);return zt.useEffect(()=>{const e=r.current;if(e)return Ot(e)},[]),Ee.jsx(Ay,{...e,ref:n,trapFocus:s.open,disableOutsidePointerEvents:s.open,disableOutsideScroll:!0,onFocusOutside:Me(e.onFocusOutside,e=>e.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>s.onOpenChange(!1)})}),Ry=zt.forwardRef((e,t)=>{const s=gy(ky,e.__scopeMenu);return Ee.jsx(Ay,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>s.onOpenChange(!1)})}),Oy=$t("MenuContent.ScrollLock"),Ay=zt.forwardRef((e,t)=>{const{__scopeMenu:s,loop:r=!1,trapFocus:n,onOpenAutoFocus:a,onCloseAutoFocus:i,disableOutsidePointerEvents:o,onEntryFocus:l,onEscapeKeyDown:c,onPointerDownOutside:d,onFocusOutside:u,onInteractOutside:h,onDismiss:m,disableOutsideScroll:p,...f}=e,g=gy(ky,s),x=vy(ky,s),v=my(s),y=py(s),b=cy(s),[w,j]=zt.useState(null),_=zt.useRef(null),N=Ce(t,_,g.onContentChange),k=zt.useRef(0),S=zt.useRef(""),C=zt.useRef(0),E=zt.useRef(null),T=zt.useRef("right"),R=zt.useRef(0),O=p?Dt:zt.Fragment,A=p?{as:Oy,allowPinchZoom:!0}:void 0,P=e=>{var t,s;const r=S.current+e,n=b().filter(e=>!e.disabled),a=document.activeElement,i=null==(t=n.find(e=>e.ref.current===a))?void 0:t.textValue,o=function(e,t,s){const r=t.length>1&&Array.from(t).every(e=>e===t[0]),n=r?t[0]:t,a=s?e.indexOf(s):-1;let i=(o=e,l=Math.max(a,0),o.map((e,t)=>o[(l+t)%o.length]));var o,l;1===n.length&&(i=i.filter(e=>e!==s));const c=i.find(e=>e.toLowerCase().startsWith(n.toLowerCase()));return c!==s?c:void 0}(n.map(e=>e.textValue),r,i),l=null==(s=n.find(e=>e.textValue===o))?void 0:s.ref.current;!function e(t){S.current=t,window.clearTimeout(k.current),""!==t&&(k.current=window.setTimeout(()=>e(""),1e3))}(r),l&&setTimeout(()=>l.focus())};zt.useEffect(()=>()=>window.clearTimeout(k.current),[]),At();const I=zt.useCallback(e=>{var t,s;return T.current===(null==(t=E.current)?void 0:t.side)&&function(e,t){if(!t)return!1;const s={x:e.clientX,y:e.clientY};return function(e,t){const{x:s,y:r}=e;let n=!1;for(let a=0,i=t.length-1;a<t.length;i=a++){const e=t[a],o=t[i],l=e.x,c=e.y,d=o.x,u=o.y;c>r!=u>r&&s<(d-l)*(r-c)/(u-c)+l&&(n=!n)}return n}(s,t)}(e,null==(s=E.current)?void 0:s.area)},[]);return Ee.jsx(Sy,{scope:s,searchRef:S,onItemEnter:zt.useCallback(e=>{I(e)&&e.preventDefault()},[I]),onItemLeave:zt.useCallback(e=>{var t;I(e)||(null==(t=_.current)||t.focus(),j(null))},[I]),onTriggerLeave:zt.useCallback(e=>{I(e)&&e.preventDefault()},[I]),pointerGraceTimerRef:C,onPointerGraceIntentChange:zt.useCallback(e=>{E.current=e},[]),children:Ee.jsx(O,{...A,children:Ee.jsx(Pt,{asChild:!0,trapped:n,onMountAutoFocus:Me(a,e=>{var t;e.preventDefault(),null==(t=_.current)||t.focus({preventScroll:!0})}),onUnmountAutoFocus:i,children:Ee.jsx(ze,{asChild:!0,disableOutsidePointerEvents:o,onEscapeKeyDown:c,onPointerDownOutside:d,onFocusOutside:u,onInteractOutside:h,onDismiss:m,children:Ee.jsx(It,{asChild:!0,...y,dir:x.dir,orientation:"vertical",loop:r,currentTabStopId:w,onCurrentTabStopIdChange:j,onEntryFocus:Me(l,e=>{x.isUsingKeyboardRef.current||e.preventDefault()}),preventScrollOnEntryFocus:!0,children:Ee.jsx(qe,{role:"menu","aria-orientation":"vertical","data-state":nb(g.open),"data-radix-menu-content":"",dir:x.dir,...v,...f,ref:N,style:{outline:"none",...f.style},onKeyDown:Me(f.onKeyDown,e=>{const t=e.target.closest("[data-radix-menu-content]")===e.currentTarget,s=e.ctrlKey||e.altKey||e.metaKey,r=1===e.key.length;t&&("Tab"===e.key&&e.preventDefault(),!s&&r&&P(e.key));const n=_.current;if(e.target!==n)return;if(!ny.includes(e.key))return;e.preventDefault();const a=b().filter(e=>!e.disabled).map(e=>e.ref.current);ry.includes(e.key)&&a.reverse(),function(e){const t=document.activeElement;for(const s of e){if(s===t)return;if(s.focus(),document.activeElement!==t)return}}(a)}),onBlur:Me(e.onBlur,e=>{e.currentTarget.contains(e.target)||(window.clearTimeout(k.current),S.current="")}),onPointerMove:Me(e.onPointerMove,ob(e=>{const t=e.target,s=R.current!==e.clientX;if(e.currentTarget.contains(t)&&s){const t=e.clientX>R.current?"right":"left";T.current=t,R.current=e.clientX}}))})})})})})})});Ey.displayName=ky;var Py=zt.forwardRef((e,t)=>{const{__scopeMenu:s,...r}=e;return Ee.jsx(Re.div,{role:"group",...r,ref:t})});Py.displayName="MenuGroup";var Iy=zt.forwardRef((e,t)=>{const{__scopeMenu:s,...r}=e;return Ee.jsx(Re.div,{...r,ref:t})});Iy.displayName="MenuLabel";var My="MenuItem",Dy="menu.itemSelect",$y=zt.forwardRef((e,t)=>{const{disabled:s=!1,onSelect:r,...n}=e,a=zt.useRef(null),i=vy(My,e.__scopeMenu),o=Cy(My,e.__scopeMenu),l=Ce(t,a),c=zt.useRef(!1);return Ee.jsx(Ly,{...n,ref:l,disabled:s,onClick:Me(e.onClick,()=>{const e=a.current;if(!s&&e){const t=new CustomEvent(Dy,{bubbles:!0,cancelable:!0});e.addEventListener(Dy,e=>null==r?void 0:r(e),{once:!0}),Ue(e,t),t.defaultPrevented?c.current=!1:i.onClose()}}),onPointerDown:t=>{var s;null==(s=e.onPointerDown)||s.call(e,t),c.current=!0},onPointerUp:Me(e.onPointerUp,e=>{var t;c.current||null==(t=e.currentTarget)||t.click()}),onKeyDown:Me(e.onKeyDown,e=>{const t=""!==o.searchRef.current;s||t&&" "===e.key||sy.includes(e.key)&&(e.currentTarget.click(),e.preventDefault())})})});$y.displayName=My;var Ly=zt.forwardRef((e,t)=>{const{__scopeMenu:s,disabled:r=!1,textValue:n,...a}=e,i=Cy(My,s),o=py(s),l=zt.useRef(null),c=Ce(t,l),[d,u]=zt.useState(!1),[h,m]=zt.useState("");return zt.useEffect(()=>{const e=l.current;e&&m((e.textContent??"").trim())},[a.children]),Ee.jsx(ly.ItemSlot,{scope:s,disabled:r,textValue:n??h,children:Ee.jsx(Mt,{asChild:!0,...o,focusable:!r,children:Ee.jsx(Re.div,{role:"menuitem","data-highlighted":d?"":void 0,"aria-disabled":r||void 0,"data-disabled":r?"":void 0,...a,ref:c,onPointerMove:Me(e.onPointerMove,ob(e=>{if(r)i.onItemLeave(e);else if(i.onItemEnter(e),!e.defaultPrevented){e.currentTarget.focus({preventScroll:!0})}})),onPointerLeave:Me(e.onPointerLeave,ob(e=>i.onItemLeave(e))),onFocus:Me(e.onFocus,()=>u(!0)),onBlur:Me(e.onBlur,()=>u(!1))})})})}),Uy=zt.forwardRef((e,t)=>{const{checked:s=!1,onCheckedChange:r,...n}=e;return Ee.jsx(Vy,{scope:e.__scopeMenu,checked:s,children:Ee.jsx($y,{role:"menuitemcheckbox","aria-checked":ab(s)?"mixed":s,...n,ref:t,"data-state":ib(s),onSelect:Me(n.onSelect,()=>null==r?void 0:r(!!ab(s)||!s),{checkForDefaultPrevented:!1})})})});Uy.displayName="MenuCheckboxItem";var Fy="MenuRadioGroup",[By,zy]=uy(Fy,{value:void 0,onValueChange:()=>{}}),qy=zt.forwardRef((e,t)=>{const{value:s,onValueChange:r,...n}=e,a=Ie(r);return Ee.jsx(By,{scope:e.__scopeMenu,value:s,onValueChange:a,children:Ee.jsx(Py,{...n,ref:t})})});qy.displayName=Fy;var Wy="MenuRadioItem",Hy=zt.forwardRef((e,t)=>{const{value:s,...r}=e,n=zy(Wy,e.__scopeMenu),a=s===n.value;return Ee.jsx(Vy,{scope:e.__scopeMenu,checked:a,children:Ee.jsx($y,{role:"menuitemradio","aria-checked":a,...r,ref:t,"data-state":ib(a),onSelect:Me(r.onSelect,()=>{var e;return null==(e=n.onValueChange)?void 0:e.call(n,s)},{checkForDefaultPrevented:!1})})})});Hy.displayName=Wy;var Ky="MenuItemIndicator",[Vy,Gy]=uy(Ky,{checked:!1}),Zy=zt.forwardRef((e,t)=>{const{__scopeMenu:s,forceMount:r,...n}=e,a=Gy(Ky,s);return Ee.jsx(Pe,{present:r||ab(a.checked)||!0===a.checked,children:Ee.jsx(Re.span,{...n,ref:t,"data-state":ib(a.checked)})})});Zy.displayName=Ky;var Jy=zt.forwardRef((e,t)=>{const{__scopeMenu:s,...r}=e;return Ee.jsx(Re.div,{role:"separator","aria-orientation":"horizontal",...r,ref:t})});Jy.displayName="MenuSeparator";var Yy=zt.forwardRef((e,t)=>{const{__scopeMenu:s,...r}=e,n=my(s);return Ee.jsx(He,{...n,...r,ref:t})});Yy.displayName="MenuArrow";var[Qy,Xy]=uy("MenuSub"),eb="MenuSubTrigger",tb=zt.forwardRef((e,t)=>{const s=gy(eb,e.__scopeMenu),r=vy(eb,e.__scopeMenu),n=Xy(eb,e.__scopeMenu),a=Cy(eb,e.__scopeMenu),i=zt.useRef(null),{pointerGraceTimerRef:o,onPointerGraceIntentChange:l}=a,c={__scopeMenu:e.__scopeMenu},d=zt.useCallback(()=>{i.current&&window.clearTimeout(i.current),i.current=null},[]);return zt.useEffect(()=>d,[d]),zt.useEffect(()=>{const e=o.current;return()=>{window.clearTimeout(e),l(null)}},[o,l]),Ee.jsx(by,{asChild:!0,...c,children:Ee.jsx(Ly,{id:n.triggerId,"aria-haspopup":"menu","aria-expanded":s.open,"aria-controls":n.contentId,"data-state":nb(s.open),...e,ref:lt(t,n.onTriggerChange),onClick:t=>{var r;null==(r=e.onClick)||r.call(e,t),e.disabled||t.defaultPrevented||(t.currentTarget.focus(),s.open||s.onOpenChange(!0))},onPointerMove:Me(e.onPointerMove,ob(t=>{a.onItemEnter(t),t.defaultPrevented||e.disabled||s.open||i.current||(a.onPointerGraceIntentChange(null),i.current=window.setTimeout(()=>{s.onOpenChange(!0),d()},100))})),onPointerLeave:Me(e.onPointerLeave,ob(e=>{var t,r;d();const n=null==(t=s.content)?void 0:t.getBoundingClientRect();if(n){const t=null==(r=s.content)?void 0:r.dataset.side,i="right"===t,l=i?-5:5,c=n[i?"left":"right"],d=n[i?"right":"left"];a.onPointerGraceIntentChange({area:[{x:e.clientX+l,y:e.clientY},{x:c,y:n.top},{x:d,y:n.top},{x:d,y:n.bottom},{x:c,y:n.bottom}],side:t}),window.clearTimeout(o.current),o.current=window.setTimeout(()=>a.onPointerGraceIntentChange(null),300)}else{if(a.onTriggerLeave(e),e.defaultPrevented)return;a.onPointerGraceIntentChange(null)}})),onKeyDown:Me(e.onKeyDown,t=>{var n;const i=""!==a.searchRef.current;e.disabled||i&&" "===t.key||ay[r.dir].includes(t.key)&&(s.onOpenChange(!0),null==(n=s.content)||n.focus(),t.preventDefault())})})})});tb.displayName=eb;var sb="MenuSubContent",rb=zt.forwardRef((e,t)=>{const s=_y(ky,e.__scopeMenu),{forceMount:r=s.forceMount,...n}=e,a=gy(ky,e.__scopeMenu),i=vy(ky,e.__scopeMenu),o=Xy(sb,e.__scopeMenu),l=zt.useRef(null),c=Ce(t,l);return Ee.jsx(ly.Provider,{scope:e.__scopeMenu,children:Ee.jsx(Pe,{present:r||a.open,children:Ee.jsx(ly.Slot,{scope:e.__scopeMenu,children:Ee.jsx(Ay,{id:o.contentId,"aria-labelledby":o.triggerId,...n,ref:c,align:"start",side:"rtl"===i.dir?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:e=>{var t;i.isUsingKeyboardRef.current&&(null==(t=l.current)||t.focus()),e.preventDefault()},onCloseAutoFocus:e=>e.preventDefault(),onFocusOutside:Me(e.onFocusOutside,e=>{e.target!==o.trigger&&a.onOpenChange(!1)}),onEscapeKeyDown:Me(e.onEscapeKeyDown,e=>{i.onClose(),e.preventDefault()}),onKeyDown:Me(e.onKeyDown,e=>{var t;const s=e.currentTarget.contains(e.target),r=iy[i.dir].includes(e.key);s&&r&&(a.onOpenChange(!1),null==(t=o.trigger)||t.focus(),e.preventDefault())})})})})})});function nb(e){return e?"open":"closed"}function ab(e){return"indeterminate"===e}function ib(e){return ab(e)?"indeterminate":e?"checked":"unchecked"}function ob(e){return t=>"mouse"===t.pointerType?e(t):void 0}rb.displayName=sb;var lb=yy,cb=by,db=Ny,ub=Ey,hb=Py,mb=Iy,pb=$y,fb=Uy,gb=qy,xb=Hy,vb=Zy,yb=Jy,bb=Yy,wb=tb,jb=rb,_b="DropdownMenu",[Nb,kb]=Se(_b,[hy]),Sb=hy(),[Cb,Eb]=Nb(_b),Tb=e=>{const{__scopeDropdownMenu:t,children:s,dir:r,open:n,defaultOpen:a,onOpenChange:i,modal:o=!0}=e,l=Sb(t),c=zt.useRef(null),[d,u]=Ae({prop:n,defaultProp:a??!1,onChange:i,caller:_b});return Ee.jsx(Cb,{scope:t,triggerId:at(),triggerRef:c,contentId:at(),open:d,onOpenChange:u,onOpenToggle:zt.useCallback(()=>u(e=>!e),[u]),modal:o,children:Ee.jsx(lb,{...l,open:d,onOpenChange:u,dir:r,modal:o,children:s})})};Tb.displayName=_b;var Rb="DropdownMenuTrigger",Ob=zt.forwardRef((e,t)=>{const{__scopeDropdownMenu:s,disabled:r=!1,...n}=e,a=Eb(Rb,s),i=Sb(s);return Ee.jsx(cb,{asChild:!0,...i,children:Ee.jsx(Re.button,{type:"button",id:a.triggerId,"aria-haspopup":"menu","aria-expanded":a.open,"aria-controls":a.open?a.contentId:void 0,"data-state":a.open?"open":"closed","data-disabled":r?"":void 0,disabled:r,...n,ref:lt(t,a.triggerRef),onPointerDown:Me(e.onPointerDown,e=>{r||0!==e.button||!1!==e.ctrlKey||(a.onOpenToggle(),a.open||e.preventDefault())}),onKeyDown:Me(e.onKeyDown,e=>{r||(["Enter"," "].includes(e.key)&&a.onOpenToggle(),"ArrowDown"===e.key&&a.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(e.key)&&e.preventDefault())})})})});Ob.displayName=Rb;var Ab=e=>{const{__scopeDropdownMenu:t,...s}=e,r=Sb(t);return Ee.jsx(db,{...r,...s})};Ab.displayName="DropdownMenuPortal";var Pb="DropdownMenuContent",Ib=zt.forwardRef((e,t)=>{const{__scopeDropdownMenu:s,...r}=e,n=Eb(Pb,s),a=Sb(s),i=zt.useRef(!1);return Ee.jsx(ub,{id:n.contentId,"aria-labelledby":n.triggerId,...a,...r,ref:t,onCloseAutoFocus:Me(e.onCloseAutoFocus,e=>{var t;i.current||null==(t=n.triggerRef.current)||t.focus(),i.current=!1,e.preventDefault()}),onInteractOutside:Me(e.onInteractOutside,e=>{const t=e.detail.originalEvent,s=0===t.button&&!0===t.ctrlKey,r=2===t.button||s;n.modal&&!r||(i.current=!0)}),style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});Ib.displayName=Pb;zt.forwardRef((e,t)=>{const{__scopeDropdownMenu:s,...r}=e,n=Sb(s);return Ee.jsx(hb,{...n,...r,ref:t})}).displayName="DropdownMenuGroup";var Mb=zt.forwardRef((e,t)=>{const{__scopeDropdownMenu:s,...r}=e,n=Sb(s);return Ee.jsx(mb,{...n,...r,ref:t})});Mb.displayName="DropdownMenuLabel";var Db=zt.forwardRef((e,t)=>{const{__scopeDropdownMenu:s,...r}=e,n=Sb(s);return Ee.jsx(pb,{...n,...r,ref:t})});Db.displayName="DropdownMenuItem";var $b=zt.forwardRef((e,t)=>{const{__scopeDropdownMenu:s,...r}=e,n=Sb(s);return Ee.jsx(fb,{...n,...r,ref:t})});$b.displayName="DropdownMenuCheckboxItem";zt.forwardRef((e,t)=>{const{__scopeDropdownMenu:s,...r}=e,n=Sb(s);return Ee.jsx(gb,{...n,...r,ref:t})}).displayName="DropdownMenuRadioGroup";var Lb=zt.forwardRef((e,t)=>{const{__scopeDropdownMenu:s,...r}=e,n=Sb(s);return Ee.jsx(xb,{...n,...r,ref:t})});Lb.displayName="DropdownMenuRadioItem";var Ub=zt.forwardRef((e,t)=>{const{__scopeDropdownMenu:s,...r}=e,n=Sb(s);return Ee.jsx(vb,{...n,...r,ref:t})});Ub.displayName="DropdownMenuItemIndicator";var Fb=zt.forwardRef((e,t)=>{const{__scopeDropdownMenu:s,...r}=e,n=Sb(s);return Ee.jsx(yb,{...n,...r,ref:t})});Fb.displayName="DropdownMenuSeparator";zt.forwardRef((e,t)=>{const{__scopeDropdownMenu:s,...r}=e,n=Sb(s);return Ee.jsx(bb,{...n,...r,ref:t})}).displayName="DropdownMenuArrow";var Bb=zt.forwardRef((e,t)=>{const{__scopeDropdownMenu:s,...r}=e,n=Sb(s);return Ee.jsx(wb,{...n,...r,ref:t})});Bb.displayName="DropdownMenuSubTrigger";var zb=zt.forwardRef((e,t)=>{const{__scopeDropdownMenu:s,...r}=e,n=Sb(s);return Ee.jsx(jb,{...n,...r,ref:t,style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});zb.displayName="DropdownMenuSubContent";var qb=Ab,Wb=Ib,Hb=Mb,Kb=Db,Vb=$b,Gb=Lb,Zb=Ub,Jb=Fb,Yb=Bb,Qb=zb;const Xb=Tb,ew=Ob;zt.forwardRef(({className:e,inset:t,children:s,...r},n)=>Ee.jsxs(Yb,{ref:n,className:Wa("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none data-[state=open]:bg-accent focus:bg-accent",t&&"pl-8",e),...r,children:[s,Ee.jsx(pn,{className:"ml-auto h-4 w-4"})]})).displayName=Yb.displayName;zt.forwardRef(({className:e,...t},s)=>Ee.jsx(Qb,{ref:s,className:Wa("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...t})).displayName=Qb.displayName;const tw=zt.forwardRef(({className:e,sideOffset:t=4,...s},r)=>Ee.jsx(qb,{children:Ee.jsx(Wb,{ref:r,sideOffset:t,className:Wa("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...s})}));tw.displayName=Wb.displayName;const sw=zt.forwardRef(({className:e,inset:t,...s},r)=>Ee.jsx(Kb,{ref:r,className:Wa("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground",t&&"pl-8",e),...s}));sw.displayName=Kb.displayName;zt.forwardRef(({className:e,children:t,checked:s,...r},n)=>Ee.jsxs(Vb,{ref:n,className:Wa("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground",e),checked:s,...r,children:[Ee.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:Ee.jsx(Zb,{children:Ee.jsx(un,{className:"h-4 w-4"})})}),t]})).displayName=Vb.displayName;zt.forwardRef(({className:e,children:t,...s},r)=>Ee.jsxs(Gb,{ref:r,className:Wa("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground",e),...s,children:[Ee.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:Ee.jsx(Zb,{children:Ee.jsx(xn,{className:"h-2 w-2 fill-current"})})}),t]})).displayName=Gb.displayName;zt.forwardRef(({className:e,inset:t,...s},r)=>Ee.jsx(Hb,{ref:r,className:Wa("px-2 py-1.5 text-sm font-semibold",t&&"pl-8",e),...s})).displayName=Hb.displayName;function rw(){const{slug:e}=Zt(),t=function(){const[e,t]=zt.useState(void 0);return zt.useEffect(()=>{const e=window.matchMedia("(max-width: 767px)"),s=()=>{t(window.innerWidth<768)};return e.addEventListener("change",s),t(window.innerWidth<768),()=>e.removeEventListener("change",s)},[]),!!e}(),[s,r]=zt.useState(null),[n,a]=zt.useState(!0),[i,o]=zt.useState(!1),{toast:l}=ir();zt.useEffect(()=>{e&&c()},[e]);const c=async()=>{try{const{data:t,error:s}=await xh.from("blog_posts").select("*").eq("slug",e).eq("is_published",!0).maybeSingle();if(s)throw s;r(t)}catch(t){}finally{a(!1)}},d=()=>{navigator.clipboard.writeText(window.location.href),o(!0),l({title:"Link Copied",description:"Article link copied to clipboard"}),setTimeout(()=>o(!1),2e3)},u={whatsapp:()=>{const e=encodeURIComponent(`${null==s?void 0:s.title}\n\nRead more at: ${window.location.href}`);window.open(`https://wa.me/?text=${e}`,"_blank")},facebook:()=>{window.open(`https://www.facebook.com/sharer/sharer.php?u=${encodeURIComponent(window.location.href)}`,"_blank")},twitter:()=>{window.open(`https://twitter.com/intent/tweet?text=${encodeURIComponent((null==s?void 0:s.title)||"")}&url=${encodeURIComponent(window.location.href)}`,"_blank")},linkedin:()=>{window.open(`https://www.linkedin.com/sharing/share-offsite/?url=${encodeURIComponent(window.location.href)}`,"_blank")}};return n?Ee.jsxs(Ee.Fragment,{children:[Ee.jsx(Mp,{}),Ee.jsx("div",{className:"container mx-auto px-4 py-12 flex justify-center",children:Ee.jsx("div",{className:"animate-pulse",children:"Loading..."})}),Ee.jsx(Dp,{})]}):s?Ee.jsxs(Ee.Fragment,{children:[Ee.jsx($p,{title:s.meta_title||s.title,description:s.meta_description||s.content.substring(0,160),image:s.og_image||s.cover_image_url||void 0,type:"article"}),Ee.jsxs("div",{className:"min-h-screen flex flex-col",children:[Ee.jsx(Mp,{}),Ee.jsx("main",{className:"flex-1 container mx-auto px-4 py-12",children:Ee.jsxs("article",{className:"max-w-3xl mx-auto",children:[Ee.jsx(Yo,{variant:"ghost",asChild:!0,className:"mb-6",children:Ee.jsxs(Kt,{to:"/blog",children:[Ee.jsx(rn,{className:"mr-2 h-4 w-4"}),"Back to Blog"]})}),Ee.jsx("h1",{className:"text-4xl font-bold mb-4",children:s.title}),Ee.jsxs("div",{className:"flex items-center gap-4 text-sm text-muted-foreground mb-8",children:[Ee.jsxs("div",{className:"flex items-center gap-1",children:[Ee.jsx(dn,{className:"h-4 w-4"}),new Date(s.published_at).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"})]}),s.tags&&s.tags.length>0&&Ee.jsxs("div",{className:"flex items-center gap-1",children:[Ee.jsx(zn,{className:"h-4 w-4"}),s.tags.join(", ")]})]}),s.cover_image_url&&Ee.jsx("img",{src:s.cover_image_url,alt:s.title,className:"w-full h-96 object-cover rounded-lg mb-8",loading:"eager"}),Ee.jsx("div",{className:"prose prose-lg max-w-none",style:{whiteSpace:"pre-wrap"},children:s.content}),Ee.jsx("div",{className:"mt-12 pt-8 border-t border-border",children:Ee.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-between gap-6",children:[Ee.jsxs("div",{className:"flex items-center gap-2 text-muted-foreground",children:[Ee.jsx(Fn,{className:"h-5 w-5"}),Ee.jsx("span",{className:"font-semibold text-foreground",children:"Share this article"})]}),Ee.jsx("div",{children:t?Ee.jsxs(Yo,{onClick:async()=>{if(s&&navigator.share)try{await navigator.share({title:s.title,text:s.excerpt||"Read this article on Happy Space World",url:window.location.href})}catch(e){}else d()},className:"bg-primary hover:bg-primary-dark text-white font-medium min-w-[140px]",children:[Ee.jsx(Fn,{className:"mr-2 h-4 w-4"}),"Share"]}):Ee.jsxs(Xb,{children:[Ee.jsx(ew,{asChild:!0,children:Ee.jsxs(Yo,{className:"bg-primary hover:bg-primary-dark text-white font-medium min-w-[140px]",children:[Ee.jsx(Fn,{className:"mr-2 h-4 w-4"}),"Share"]})}),Ee.jsxs(tw,{align:"end",className:"w-56",children:[Ee.jsxs(sw,{onClick:d,className:"cursor-pointer",children:[i?Ee.jsx(un,{className:"mr-2 h-4 w-4 text-green-500"}):Ee.jsx(yn,{className:"mr-2 h-4 w-4"}),"Copy Link"]}),Ee.jsxs(sw,{onClick:u.whatsapp,className:"cursor-pointer",children:[Ee.jsx(Dn,{className:"mr-2 h-4 w-4 text-green-600"}),"WhatsApp"]}),Ee.jsxs(sw,{onClick:u.facebook,className:"cursor-pointer",children:[Ee.jsx(_n,{className:"mr-2 h-4 w-4 text-blue-600"}),"Facebook"]}),Ee.jsxs(sw,{onClick:u.twitter,className:"cursor-pointer",children:[Ee.jsx(Kn,{className:"mr-2 h-4 w-4 text-blue-400"}),"Twitter"]}),Ee.jsxs(sw,{onClick:u.linkedin,className:"cursor-pointer",children:[Ee.jsx(On,{className:"mr-2 h-4 w-4 text-blue-700"}),"LinkedIn"]})]})]})})]})})]})}),Ee.jsx(Dp,{})]})]}):Ee.jsxs(Ee.Fragment,{children:[Ee.jsx(Mp,{}),Ee.jsxs("div",{className:"container mx-auto px-4 py-12 text-center",children:[Ee.jsx("h1",{className:"text-3xl font-bold mb-4",children:"Post Not Found"}),Ee.jsx("p",{className:"text-muted-foreground mb-8",children:"The blog post you're looking for doesn't exist."}),Ee.jsx(Yo,{asChild:!0,children:Ee.jsxs(Kt,{to:"/blog",children:[Ee.jsx(rn,{className:"mr-2 h-4 w-4"}),"Back to Blog"]})})]}),Ee.jsx(Dp,{})]})}zt.forwardRef(({className:e,...t},s)=>Ee.jsx(Jb,{ref:s,className:Wa("-mx-1 my-1 h-px bg-muted",e),...t})).displayName=Jb.displayName;const nw=()=>{const e=Vt();return zt.useEffect(()=>{},[e.pathname]),Ee.jsx("div",{className:"flex min-h-screen items-center justify-center bg-muted",children:Ee.jsxs("div",{className:"text-center",children:[Ee.jsx("h1",{className:"mb-4 text-4xl font-bold",children:"404"}),Ee.jsx("p",{className:"mb-4 text-xl text-muted-foreground",children:"Oops! Page not found"}),Ee.jsx("a",{href:"/",className:"text-primary underline hover:text-primary/90",children:"Return to Home"})]})})},aw=new Do,iw=()=>Ee.jsx(rl,{children:Ee.jsx(Wo,{client:aw,children:Ee.jsxs(Ki,{children:[Ee.jsx(Qa,{}),Ee.jsx(wi,{}),Ee.jsx(Sh,{}),Ee.jsxs(Jt,{children:[Ee.jsx(Yt,{path:"/",element:Ee.jsx(zp,{})}),Ee.jsx(Yt,{path:"/about",element:Ee.jsx(qp,{})}),Ee.jsx(Yt,{path:"/students",element:Ee.jsx(Hp,{})}),Ee.jsx(Yt,{path:"/schools",element:Ee.jsx(Kp,{})}),Ee.jsx(Yt,{path:"/resources",element:Ee.jsx(Fg,{})}),Ee.jsx(Yt,{path:"/contact",element:Ee.jsx(vx,{})}),Ee.jsx(Yt,{path:"/gallery",element:Ee.jsx(yx,{})}),Ee.jsx(Yt,{path:"/testimonials",element:Ee.jsx(wx,{})}),Ee.jsx(Yt,{path:"/blog",element:Ee.jsx(ty,{})}),Ee.jsx(Yt,{path:"/blog/:slug",element:Ee.jsx(rw,{})}),Ee.jsx(Yt,{path:"/auth",element:Ee.jsx($x,{})}),Ee.jsx(Yt,{path:"/admin",element:Ee.jsx(ey,{})}),Ee.jsx(Yt,{path:"*",element:Ee.jsx(nw,{})})]})]})})});fe(document.getElementById("root")).render(Ee.jsx(Bt.StrictMode,{children:Ee.jsx(Ws,{children:Ee.jsx(Qt,{children:Ee.jsx(iw,{})})})}));
//# sourceMappingURL=index-XlidT1wO.js.map
