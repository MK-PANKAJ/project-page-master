var e,t,s,r,n,a,i,o,l,c,d,u,h,m,p,f,g,x,v,y,b,w,j,_,N,k,S,E,C,T,R,O,A,P,I,M,$,D,L,U,F,B,q,z,W,H,K,V,G,Z,J,Y,Q,X,ee,te,se,re,ne,ae,ie,oe,le,ce,de,ue,he,me,pe,fe,ge=Object.defineProperty,xe=e=>{throw TypeError(e)},ve=(e,t,s)=>((e,t,s)=>t in e?ge(e,t,{enumerable:!0,configurable:!0,writable:!0,value:s}):e[t]=s)(e,"symbol"!=typeof t?t+"":t,s),ye=(e,t,s)=>t.has(e)||xe("Cannot "+s),be=(e,t,s)=>(ye(e,t,"read from private field"),s?s.call(e):t.get(e)),we=(e,t,s)=>t.has(e)?xe("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,s),je=(e,t,s,r)=>(ye(e,t,"write to private field"),r?r.call(e,s):t.set(e,s),s),_e=(e,t,s)=>(ye(e,t,"access private method"),s),Ne=(e,t,s,r)=>({set _(r){je(e,t,r,s)},get _(){return be(e,t,r)}});import{c as ke,a as Se,u as Ee,j as Ce,B as Te,P as Re,V as Oe,b as Ae,d as Pe,e as Ie,f as Me,R as $e,g as De,h as Le,i as Ue,k as Fe,A as Be,D as qe,C as ze,l as We,m as He,n as Ke,S as Ve,_ as Ge,t as Ze,o as Je,O as Ye,p as Qe,q as Xe,T as et,r as tt,s as st,v as rt,w as nt,x as at,y as it,z as ot,E as lt,L as ct,F as dt,G as ut,H as ht,I as mt,J as pt,K as ft,M as gt,N as xt,Q as vt,U as yt,W as bt,X as wt,Y as jt,Z as _t,$ as Nt,a0 as kt,a1 as St,a2 as Et,a3 as Ct,a4 as Tt}from"./ui-vendor-DxlEbxHu.js";import{a as Rt,g as Ot,R as At,r as Pt,b as It,d as Mt,u as $t,L as Dt,e as Lt,f as Ut,h as Ft,B as Bt,i as qt,j as zt,H as Wt}from"./react-vendor-D0PKoKWp.js";function Ht(e,t){for(var s=0;s<t.length;s++){const r=t[s];if("string"!=typeof r&&!Array.isArray(r))for(const t in r)if("default"!==t&&!(t in e)){const s=Object.getOwnPropertyDescriptor(r,t);s&&Object.defineProperty(e,t,s.get?s:{enumerable:!0,get:()=>r[t]})}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}!function(){const e=document.createElement("link").relList;if(!(e&&e.supports&&e.supports("modulepreload"))){for(const e of document.querySelectorAll('link[rel="modulepreload"]'))t(e);new MutationObserver(e=>{for(const s of e)if("childList"===s.type)for(const e of s.addedNodes)"LINK"===e.tagName&&"modulepreload"===e.rel&&t(e)}).observe(document,{childList:!0,subtree:!0})}function t(e){if(e.ep)return;e.ep=!0;const t=function(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerPolicy&&(t.referrerPolicy=e.referrerPolicy),"use-credentials"===e.crossOrigin?t.credentials="include":"anonymous"===e.crossOrigin?t.credentials="omit":t.credentials="same-origin",t}(e);fetch(e.href,t)}}();var Kt=Rt;fe=Kt.createRoot,Kt.hydrateRoot;var Vt="undefined"!=typeof Element,Gt="function"==typeof Map,Zt="function"==typeof Set,Jt="function"==typeof ArrayBuffer&&!!ArrayBuffer.isView;function Yt(e,t){if(e===t)return!0;if(e&&t&&"object"==typeof e&&"object"==typeof t){if(e.constructor!==t.constructor)return!1;var s,r,n,a;if(Array.isArray(e)){if((s=e.length)!=t.length)return!1;for(r=s;0!==r--;)if(!Yt(e[r],t[r]))return!1;return!0}if(Gt&&e instanceof Map&&t instanceof Map){if(e.size!==t.size)return!1;for(a=e.entries();!(r=a.next()).done;)if(!t.has(r.value[0]))return!1;for(a=e.entries();!(r=a.next()).done;)if(!Yt(r.value[1],t.get(r.value[0])))return!1;return!0}if(Zt&&e instanceof Set&&t instanceof Set){if(e.size!==t.size)return!1;for(a=e.entries();!(r=a.next()).done;)if(!t.has(r.value[0]))return!1;return!0}if(Jt&&ArrayBuffer.isView(e)&&ArrayBuffer.isView(t)){if((s=e.length)!=t.length)return!1;for(r=s;0!==r--;)if(e[r]!==t[r])return!1;return!0}if(e.constructor===RegExp)return e.source===t.source&&e.flags===t.flags;if(e.valueOf!==Object.prototype.valueOf&&"function"==typeof e.valueOf&&"function"==typeof t.valueOf)return e.valueOf()===t.valueOf();if(e.toString!==Object.prototype.toString&&"function"==typeof e.toString&&"function"==typeof t.toString)return e.toString()===t.toString();if((s=(n=Object.keys(e)).length)!==Object.keys(t).length)return!1;for(r=s;0!==r--;)if(!Object.prototype.hasOwnProperty.call(t,n[r]))return!1;if(Vt&&e instanceof Element)return!1;for(r=s;0!==r--;)if(("_owner"!==n[r]&&"__v"!==n[r]&&"__o"!==n[r]||!e.$$typeof)&&!Yt(e[n[r]],t[n[r]]))return!1;return!0}return e!=e&&t!=t}const Qt=Ot(function(e,t){try{return Yt(e,t)}catch(s){if((s.message||"").match(/stack|recursion/i))return!1;throw s}});const Xt=Ot(function(e,t,s,r,n,a,i,o){if(!e){var l;if(void 0===t)l=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var c=[s,r,n,a,i,o],d=0;(l=new Error(t.replace(/%s/g,function(){return c[d++]}))).name="Invariant Violation"}throw l.framesToPop=1,l}});const es=Ot(function(e,t,s,r){var n=s?s.call(r,e,t):void 0;if(void 0!==n)return!!n;if(e===t)return!0;if("object"!=typeof e||!e||"object"!=typeof t||!t)return!1;var a=Object.keys(e),i=Object.keys(t);if(a.length!==i.length)return!1;for(var o=Object.prototype.hasOwnProperty.bind(t),l=0;l<a.length;l++){var c=a[l];if(!o(c))return!1;var d=e[c],u=t[c];if(!1===(n=s?s.call(r,d,u,c):void 0)||void 0===n&&d!==u)return!1}return!0});var ts=(e=>(e.BASE="base",e.BODY="body",e.HEAD="head",e.HTML="html",e.LINK="link",e.META="meta",e.NOSCRIPT="noscript",e.SCRIPT="script",e.STYLE="style",e.TITLE="title",e.FRAGMENT="Symbol(react.fragment)",e))(ts||{}),ss={rel:["amphtml","canonical","alternate"]},rs={type:["application/ld+json"]},ns={charset:"",name:["generator","robots","description"],property:["og:type","og:title","og:url","og:image","og:image:alt","og:description","twitter:url","twitter:title","twitter:description","twitter:image","twitter:image:alt","twitter:card","twitter:site"]},as=Object.values(ts),is={accesskey:"accessKey",charset:"charSet",class:"className",contenteditable:"contentEditable",contextmenu:"contextMenu","http-equiv":"httpEquiv",itemprop:"itemProp",tabindex:"tabIndex"},os=Object.entries(is).reduce((e,[t,s])=>(e[s]=t,e),{}),ls="data-rh",cs="defaultTitle",ds="defer",us="encodeSpecialCharacters",hs="onChangeClientState",ms="titleTemplate",ps="prioritizeSeoTags",fs=(e,t)=>{for(let s=e.length-1;s>=0;s-=1){const r=e[s];if(Object.prototype.hasOwnProperty.call(r,t))return r[t]}return null},gs=e=>{let t=fs(e,"title");const s=fs(e,ms);if(Array.isArray(t)&&(t=t.join("")),s&&t)return s.replace(/%s/g,()=>t);const r=fs(e,cs);return t||r||void 0},xs=e=>fs(e,hs)||(()=>{}),vs=(e,t)=>t.filter(t=>void 0!==t[e]).map(t=>t[e]).reduce((e,t)=>({...e,...t}),{}),ys=(e,t)=>t.filter(e=>void 0!==e.base).map(e=>e.base).reverse().reduce((t,s)=>{if(!t.length){const r=Object.keys(s);for(let n=0;n<r.length;n+=1){const a=r[n].toLowerCase();if(-1!==e.indexOf(a)&&s[a])return t.concat(s)}}return t},[]),bs=(e,t,s)=>{const r={};return s.filter(t=>!!Array.isArray(t[e])||(void 0!==t[e]&&(t[e],console&&console.warn),!1)).map(t=>t[e]).reverse().reduce((e,s)=>{const n={};s.filter(e=>{let s;const a=Object.keys(e);for(let r=0;r<a.length;r+=1){const n=a[r],i=n.toLowerCase();-1===t.indexOf(i)||"rel"===s&&"canonical"===e[s].toLowerCase()||"rel"===i&&"stylesheet"===e[i].toLowerCase()||(s=i),-1===t.indexOf(n)||"innerHTML"!==n&&"cssText"!==n&&"itemprop"!==n||(s=n)}if(!s||!e[s])return!1;const i=e[s].toLowerCase();return r[s]||(r[s]={}),n[s]||(n[s]={}),!r[s][i]&&(n[s][i]=!0,!0)}).reverse().forEach(t=>e.push(t));const a=Object.keys(n);for(let t=0;t<a.length;t+=1){const e=a[t],s={...r[e],...n[e]};r[e]=s}return e},[]).reverse()},ws=(e,t)=>{if(Array.isArray(e)&&e.length)for(let s=0;s<e.length;s+=1){if(e[s][t])return!0}return!1},js=e=>Array.isArray(e)?e.join(""):e,_s=(e,t)=>Array.isArray(e)?e.reduce((e,s)=>(((e,t)=>{const s=Object.keys(e);for(let r=0;r<s.length;r+=1)if(t[s[r]]&&t[s[r]].includes(e[s[r]]))return!0;return!1})(s,t)?e.priority.push(s):e.default.push(s),e),{priority:[],default:[]}):{default:e,priority:[]},Ns=(e,t)=>({...e,[t]:void 0}),ks=["noscript","script","style"],Ss=(e,t=!0)=>!1===t?String(e):String(e).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;"),Es=e=>Object.keys(e).reduce((t,s)=>{const r=void 0!==e[s]?`${s}="${e[s]}"`:`${s}`;return t?`${t} ${r}`:r},""),Cs=(e,t={})=>Object.keys(e).reduce((t,s)=>(t[is[s]||s]=e[s],t),t),Ts=(e,t)=>t.map((t,s)=>{const r={key:s,[ls]:!0};return Object.keys(t).forEach(e=>{const s=is[e]||e;if("innerHTML"===s||"cssText"===s){const e=t.innerHTML||t.cssText;r.dangerouslySetInnerHTML={__html:e}}else r[s]=t[e]}),At.createElement(e,r)}),Rs=(e,t,s=!0)=>{switch(e){case"title":return{toComponent:()=>((e,t,s)=>{const r=Cs(s,{key:t,[ls]:!0});return[At.createElement("title",r,t)]})(0,t.title,t.titleAttributes),toString:()=>((e,t,s,r)=>{const n=Es(s),a=js(t);return n?`<${e} ${ls}="true" ${n}>${Ss(a,r)}</${e}>`:`<${e} ${ls}="true">${Ss(a,r)}</${e}>`})(e,t.title,t.titleAttributes,s)};case"bodyAttributes":case"htmlAttributes":return{toComponent:()=>Cs(t),toString:()=>Es(t)};default:return{toComponent:()=>Ts(e,t),toString:()=>((e,t,s=!0)=>t.reduce((t,r)=>{const n=r,a=Object.keys(n).filter(e=>!("innerHTML"===e||"cssText"===e)).reduce((e,t)=>{const r=void 0===n[t]?t:`${t}="${Ss(n[t],s)}"`;return e?`${e} ${r}`:r},""),i=n.innerHTML||n.cssText||"",o=-1===ks.indexOf(e);return`${t}<${e} ${ls}="true" ${a}${o?"/>":`>${i}</${e}>`}`},""))(e,t,s)}}},Os=e=>{const{baseTag:t,bodyAttributes:s,encode:r=!0,htmlAttributes:n,noscriptTags:a,styleTags:i,title:o="",titleAttributes:l,prioritizeSeoTags:c}=e;let{linkTags:d,metaTags:u,scriptTags:h}=e,m={toComponent:()=>{},toString:()=>""};return c&&({priorityMethods:m,linkTags:d,metaTags:u,scriptTags:h}=(({metaTags:e,linkTags:t,scriptTags:s,encode:r})=>{const n=_s(e,ns),a=_s(t,ss),i=_s(s,rs);return{priorityMethods:{toComponent:()=>[...Ts("meta",n.priority),...Ts("link",a.priority),...Ts("script",i.priority)],toString:()=>`${Rs("meta",n.priority,r)} ${Rs("link",a.priority,r)} ${Rs("script",i.priority,r)}`},metaTags:n.default,linkTags:a.default,scriptTags:i.default}})(e)),{priority:m,base:Rs("base",t,r),bodyAttributes:Rs("bodyAttributes",s,r),htmlAttributes:Rs("htmlAttributes",n,r),link:Rs("link",d,r),meta:Rs("meta",u,r),noscript:Rs("noscript",a,r),script:Rs("script",h,r),style:Rs("style",i,r),title:Rs("title",{title:o,titleAttributes:l},r)}},As=[],Ps=!("undefined"==typeof window||!window.document||!window.document.createElement),Is=class{constructor(e,t){ve(this,"instances",[]),ve(this,"canUseDOM",Ps),ve(this,"context"),ve(this,"value",{setHelmet:e=>{this.context.helmet=e},helmetInstances:{get:()=>this.canUseDOM?As:this.instances,add:e=>{(this.canUseDOM?As:this.instances).push(e)},remove:e=>{const t=(this.canUseDOM?As:this.instances).indexOf(e);(this.canUseDOM?As:this.instances).splice(t,1)}}}),this.context=e,this.canUseDOM=t||!1,t||(e.helmet=Os({baseTag:[],bodyAttributes:{},encodeSpecialCharacters:!0,htmlAttributes:{},linkTags:[],metaTags:[],noscriptTags:[],scriptTags:[],styleTags:[],title:"",titleAttributes:{}}))}},Ms=At.createContext({}),$s=(e=class extends Pt.Component{constructor(t){super(t),ve(this,"helmetData"),this.helmetData=new Is(this.props.context||{},e.canUseDOM)}render(){return At.createElement(Ms.Provider,{value:this.helmetData.value},this.props.children)}},ve(e,"canUseDOM",Ps),e),Ds=(e,t)=>{const s=document.head||document.querySelector("head"),r=s.querySelectorAll(`${e}[${ls}]`),n=[].slice.call(r),a=[];let i;return t&&t.length&&t.forEach(t=>{const s=document.createElement(e);for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))if("innerHTML"===e)s.innerHTML=t.innerHTML;else if("cssText"===e)s.styleSheet?s.styleSheet.cssText=t.cssText:s.appendChild(document.createTextNode(t.cssText));else{const r=e,n=void 0===t[r]?"":t[r];s.setAttribute(e,n)}s.setAttribute(ls,"true"),n.some((e,t)=>(i=t,s.isEqualNode(e)))?n.splice(i,1):a.push(s)}),n.forEach(e=>{var t;return null==(t=e.parentNode)?void 0:t.removeChild(e)}),a.forEach(e=>s.appendChild(e)),{oldTags:n,newTags:a}},Ls=(e,t)=>{const s=document.getElementsByTagName(e)[0];if(!s)return;const r=s.getAttribute(ls),n=r?r.split(","):[],a=[...n],i=Object.keys(t);for(const o of i){const e=t[o]||"";s.getAttribute(o)!==e&&s.setAttribute(o,e),-1===n.indexOf(o)&&n.push(o);const r=a.indexOf(o);-1!==r&&a.splice(r,1)}for(let o=a.length-1;o>=0;o-=1)s.removeAttribute(a[o]);n.length===a.length?s.removeAttribute(ls):s.getAttribute(ls)!==i.join(",")&&s.setAttribute(ls,i.join(","))},Us=(e,t)=>{const{baseTag:s,bodyAttributes:r,htmlAttributes:n,linkTags:a,metaTags:i,noscriptTags:o,onChangeClientState:l,scriptTags:c,styleTags:d,title:u,titleAttributes:h}=e;Ls("body",r),Ls("html",n),((e,t)=>{void 0!==e&&document.title!==e&&(document.title=js(e)),Ls("title",t)})(u,h);const m={baseTag:Ds("base",s),linkTags:Ds("link",a),metaTags:Ds("meta",i),noscriptTags:Ds("noscript",o),scriptTags:Ds("script",c),styleTags:Ds("style",d)},p={},f={};Object.keys(m).forEach(e=>{const{newTags:t,oldTags:s}=m[e];t.length&&(p[e]=t),s.length&&(f[e]=m[e].oldTags)}),t&&t(),l(e,p,f)},Fs=null,Bs=e=>{Fs&&cancelAnimationFrame(Fs),e.defer?Fs=requestAnimationFrame(()=>{Us(e,()=>{Fs=null})}):(Us(e),Fs=null)},qs=class extends Pt.Component{constructor(){super(...arguments),ve(this,"rendered",!1)}shouldComponentUpdate(e){return!es(e,this.props)}componentDidUpdate(){this.emitChange()}componentWillUnmount(){const{helmetInstances:e}=this.props.context;e.remove(this),this.emitChange()}emitChange(){const{helmetInstances:e,setHelmet:t}=this.props.context;let s=null;const r=(n=e.get().map(e=>{const t={...e.props};return delete t.context,t}),{baseTag:ys(["href"],n),bodyAttributes:vs("bodyAttributes",n),defer:fs(n,ds),encode:fs(n,us),htmlAttributes:vs("htmlAttributes",n),linkTags:bs("link",["rel","href"],n),metaTags:bs("meta",["name","charset","http-equiv","property","itemprop"],n),noscriptTags:bs("noscript",["innerHTML"],n),onChangeClientState:xs(n),scriptTags:bs("script",["src","innerHTML"],n),styleTags:bs("style",["cssText"],n),title:gs(n),titleAttributes:vs("titleAttributes",n),prioritizeSeoTags:ws(n,ps)});var n;$s.canUseDOM?Bs(r):Os&&(s=Os(r)),t(s)}init(){if(this.rendered)return;this.rendered=!0;const{helmetInstances:e}=this.props.context;e.add(this),this.emitChange()}render(){return this.init(),null}},zs=(t=class extends Pt.Component{shouldComponentUpdate(e){return!Qt(Ns(this.props,"helmetData"),Ns(e,"helmetData"))}mapNestedChildrenToProps(e,t){if(!t)return null;switch(e.type){case"script":case"noscript":return{innerHTML:t};case"style":return{cssText:t};default:throw new Error(`<${e.type} /> elements are self-closing and can not contain children. Refer to our API for more information.`)}}flattenArrayTypeChildren(e,t,s,r){return{...t,[e.type]:[...t[e.type]||[],{...s,...this.mapNestedChildrenToProps(e,r)}]}}mapObjectTypeChildren(e,t,s,r){switch(e.type){case"title":return{...t,[e.type]:r,titleAttributes:{...s}};case"body":return{...t,bodyAttributes:{...s}};case"html":return{...t,htmlAttributes:{...s}};default:return{...t,[e.type]:{...s}}}}mapArrayTypeChildrenToProps(e,t){let s={...t};return Object.keys(e).forEach(t=>{s={...s,[t]:e[t]}}),s}warnOnInvalidChildren(e,t){return Xt(as.some(t=>e.type===t),"function"==typeof e.type?"You may be attempting to nest <Helmet> components within each other, which is not allowed. Refer to our API for more information.":`Only elements types ${as.join(", ")} are allowed. Helmet does not support rendering <${e.type}> elements. Refer to our API for more information.`),Xt(!t||"string"==typeof t||Array.isArray(t)&&!t.some(e=>"string"!=typeof e),`Helmet expects a string as a child of <${e.type}>. Did you forget to wrap your children in braces? ( <${e.type}>{\`\`}</${e.type}> ) Refer to our API for more information.`),!0}mapChildrenToProps(e,t){let s={};return At.Children.forEach(e,e=>{if(!e||!e.props)return;const{children:r,...n}=e.props,a=Object.keys(n).reduce((e,t)=>(e[os[t]||t]=n[t],e),{});let{type:i}=e;switch("symbol"==typeof i?i=i.toString():this.warnOnInvalidChildren(e,r),i){case"Symbol(react.fragment)":t=this.mapChildrenToProps(r,t);break;case"link":case"meta":case"noscript":case"script":case"style":s=this.flattenArrayTypeChildren(e,s,a,r);break;default:t=this.mapObjectTypeChildren(e,t,a,r)}}),this.mapArrayTypeChildrenToProps(s,t)}render(){const{children:e,...t}=this.props;let s={...t},{helmetData:r}=t;if(e&&(s=this.mapChildrenToProps(e,s)),r&&!(r instanceof Is)){r=new Is(r.context,!0),delete s.helmetData}return r?At.createElement(qs,{...s,context:r.value}):At.createElement(Ms.Consumer,null,e=>At.createElement(qs,{...s,context:e}))}},ve(t,"defaultProps",{defer:!0,encodeSpecialCharacters:!0,prioritizeSeoTags:!1}),t);let Ws=0;const Hs=new Map,Ks=e=>{if(Hs.has(e))return;const t=setTimeout(()=>{Hs.delete(e),Js({type:"REMOVE_TOAST",toastId:e})},1e6);Hs.set(e,t)},Vs=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,1)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(e=>e.id===t.toast.id?{...e,...t.toast}:e)};case"DISMISS_TOAST":{const{toastId:s}=t;return s?Ks(s):e.toasts.forEach(e=>{Ks(e.id)}),{...e,toasts:e.toasts.map(e=>e.id===s||void 0===s?{...e,open:!1}:e)}}case"REMOVE_TOAST":return void 0===t.toastId?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(e=>e.id!==t.toastId)}}},Gs=[];let Zs={toasts:[]};function Js(e){Zs=Vs(Zs,e),Gs.forEach(e=>{e(Zs)})}function Ys({...e}){const t=(Ws=(Ws+1)%Number.MAX_SAFE_INTEGER,Ws.toString()),s=()=>Js({type:"DISMISS_TOAST",toastId:t});return Js({type:"ADD_TOAST",toast:{...e,id:t,open:!0,onOpenChange:e=>{e||s()}}}),{id:t,dismiss:s,update:e=>Js({type:"UPDATE_TOAST",toast:{...e,id:t}})}}function Qs(){const[e,t]=Pt.useState(Zs);return Pt.useEffect(()=>(Gs.push(t),()=>{const e=Gs.indexOf(t);e>-1&&Gs.splice(e,1)}),[e]),{...e,toast:Ys,dismiss:e=>Js({type:"DISMISS_TOAST",toastId:e})}}var Xs="ToastProvider",[er,tr,sr]=ke("Toast"),[rr,nr]=Se("Toast",[sr]),[ar,ir]=rr(Xs),or=e=>{const{__scopeToast:t,label:s="Notification",duration:r=5e3,swipeDirection:n="right",swipeThreshold:a=50,children:i}=e,[o,l]=Pt.useState(null),[c,d]=Pt.useState(0),u=Pt.useRef(!1),h=Pt.useRef(!1);return s.trim(),Ce.jsx(er.Provider,{scope:t,children:Ce.jsx(ar,{scope:t,label:s,duration:r,swipeDirection:n,swipeThreshold:a,toastCount:c,viewport:o,onViewportChange:l,onToastAdd:Pt.useCallback(()=>d(e=>e+1),[]),onToastRemove:Pt.useCallback(()=>d(e=>e-1),[]),isFocusedToastEscapeKeyDownRef:u,isClosePausedRef:h,children:i})})};or.displayName=Xs;var lr="ToastViewport",cr=["F8"],dr="toast.viewportPause",ur="toast.viewportResume",hr=Pt.forwardRef((e,t)=>{const{__scopeToast:s,hotkey:r=cr,label:n="Notifications ({hotkey})",...a}=e,i=ir(lr,s),o=tr(s),l=Pt.useRef(null),c=Pt.useRef(null),d=Pt.useRef(null),u=Pt.useRef(null),h=Ee(t,u,i.onViewportChange),m=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),p=i.toastCount>0;Pt.useEffect(()=>{const e=e=>{var t;0!==r.length&&r.every(t=>e[t]||e.code===t)&&(null==(t=u.current)||t.focus())};return document.addEventListener("keydown",e),()=>document.removeEventListener("keydown",e)},[r]),Pt.useEffect(()=>{const e=l.current,t=u.current;if(p&&e&&t){const s=()=>{if(!i.isClosePausedRef.current){const e=new CustomEvent(dr);t.dispatchEvent(e),i.isClosePausedRef.current=!0}},r=()=>{if(i.isClosePausedRef.current){const e=new CustomEvent(ur);t.dispatchEvent(e),i.isClosePausedRef.current=!1}},n=t=>{!e.contains(t.relatedTarget)&&r()},a=()=>{e.contains(document.activeElement)||r()};return e.addEventListener("focusin",s),e.addEventListener("focusout",n),e.addEventListener("pointermove",s),e.addEventListener("pointerleave",a),window.addEventListener("blur",s),window.addEventListener("focus",r),()=>{e.removeEventListener("focusin",s),e.removeEventListener("focusout",n),e.removeEventListener("pointermove",s),e.removeEventListener("pointerleave",a),window.removeEventListener("blur",s),window.removeEventListener("focus",r)}}},[p,i.isClosePausedRef]);const f=Pt.useCallback(({tabbingDirection:e})=>{const t=o().map(t=>{const s=t.ref.current,r=[s,...Rr(s)];return"forwards"===e?r:r.reverse()});return("forwards"===e?t.reverse():t).flat()},[o]);return Pt.useEffect(()=>{const e=u.current;if(e){const t=t=>{var s,r,n;const a=t.altKey||t.ctrlKey||t.metaKey;if("Tab"===t.key&&!a){const a=document.activeElement,i=t.shiftKey;if(t.target===e&&i)return void(null==(s=c.current)||s.focus());const o=f({tabbingDirection:i?"backwards":"forwards"}),l=o.findIndex(e=>e===a);Or(o.slice(l+1))?t.preventDefault():i?null==(r=c.current)||r.focus():null==(n=d.current)||n.focus()}};return e.addEventListener("keydown",t),()=>e.removeEventListener("keydown",t)}},[o,f]),Ce.jsxs(Te,{ref:l,role:"region","aria-label":n.replace("{hotkey}",m),tabIndex:-1,style:{pointerEvents:p?void 0:"none"},children:[p&&Ce.jsx(pr,{ref:c,onFocusFromOutsideViewport:()=>{Or(f({tabbingDirection:"forwards"}))}}),Ce.jsx(er.Slot,{scope:s,children:Ce.jsx(Re.ol,{tabIndex:-1,...a,ref:h})}),p&&Ce.jsx(pr,{ref:d,onFocusFromOutsideViewport:()=>{Or(f({tabbingDirection:"backwards"}))}})]})});hr.displayName=lr;var mr="ToastFocusProxy",pr=Pt.forwardRef((e,t)=>{const{__scopeToast:s,onFocusFromOutsideViewport:r,...n}=e,a=ir(mr,s);return Ce.jsx(Oe,{"aria-hidden":!0,tabIndex:0,...n,ref:t,style:{position:"fixed"},onFocus:e=>{var t;const s=e.relatedTarget;!(null==(t=a.viewport)?void 0:t.contains(s))&&r()}})});pr.displayName=mr;var fr="Toast",gr=Pt.forwardRef((e,t)=>{const{forceMount:s,open:r,defaultOpen:n,onOpenChange:a,...i}=e,[o,l]=Ae({prop:r,defaultProp:n??!0,onChange:a,caller:fr});return Ce.jsx(Pe,{present:s||o,children:Ce.jsx(yr,{open:o,...i,ref:t,onClose:()=>l(!1),onPause:Ie(e.onPause),onResume:Ie(e.onResume),onSwipeStart:Me(e.onSwipeStart,e=>{e.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:Me(e.onSwipeMove,e=>{const{x:t,y:s}=e.detail.delta;e.currentTarget.setAttribute("data-swipe","move"),e.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${t}px`),e.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${s}px`)}),onSwipeCancel:Me(e.onSwipeCancel,e=>{e.currentTarget.setAttribute("data-swipe","cancel"),e.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),e.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),e.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),e.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:Me(e.onSwipeEnd,e=>{const{x:t,y:s}=e.detail.delta;e.currentTarget.setAttribute("data-swipe","end"),e.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),e.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),e.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${t}px`),e.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${s}px`),l(!1)})})})});gr.displayName=fr;var[xr,vr]=rr(fr,{onClose(){}}),yr=Pt.forwardRef((e,t)=>{const{__scopeToast:s,type:r="foreground",duration:n,open:a,onClose:i,onEscapeKeyDown:o,onPause:l,onResume:c,onSwipeStart:d,onSwipeMove:u,onSwipeCancel:h,onSwipeEnd:m,...p}=e,f=ir(fr,s),[g,x]=Pt.useState(null),v=Ee(t,e=>x(e)),y=Pt.useRef(null),b=Pt.useRef(null),w=n||f.duration,j=Pt.useRef(0),_=Pt.useRef(w),N=Pt.useRef(0),{onToastAdd:k,onToastRemove:S}=f,E=Ie(()=>{var e;(null==g?void 0:g.contains(document.activeElement))&&(null==(e=f.viewport)||e.focus()),i()}),C=Pt.useCallback(e=>{e&&e!==1/0&&(window.clearTimeout(N.current),j.current=(new Date).getTime(),N.current=window.setTimeout(E,e))},[E]);Pt.useEffect(()=>{const e=f.viewport;if(e){const t=()=>{C(_.current),null==c||c()},s=()=>{const e=(new Date).getTime()-j.current;_.current=_.current-e,window.clearTimeout(N.current),null==l||l()};return e.addEventListener(dr,s),e.addEventListener(ur,t),()=>{e.removeEventListener(dr,s),e.removeEventListener(ur,t)}}},[f.viewport,w,l,c,C]),Pt.useEffect(()=>{a&&!f.isClosePausedRef.current&&C(w)},[a,w,f.isClosePausedRef,C]),Pt.useEffect(()=>(k(),()=>S()),[k,S]);const T=Pt.useMemo(()=>g?Er(g):null,[g]);return f.viewport?Ce.jsxs(Ce.Fragment,{children:[T&&Ce.jsx(br,{__scopeToast:s,role:"status","aria-live":"foreground"===r?"assertive":"polite","aria-atomic":!0,children:T}),Ce.jsx(xr,{scope:s,onClose:E,children:Rt.createPortal(Ce.jsx(er.ItemSlot,{scope:s,children:Ce.jsx($e,{asChild:!0,onEscapeKeyDown:Me(o,()=>{f.isFocusedToastEscapeKeyDownRef.current||E(),f.isFocusedToastEscapeKeyDownRef.current=!1}),children:Ce.jsx(Re.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":a?"open":"closed","data-swipe-direction":f.swipeDirection,...p,ref:v,style:{userSelect:"none",touchAction:"none",...e.style},onKeyDown:Me(e.onKeyDown,e=>{"Escape"===e.key&&(null==o||o(e.nativeEvent),e.nativeEvent.defaultPrevented||(f.isFocusedToastEscapeKeyDownRef.current=!0,E()))}),onPointerDown:Me(e.onPointerDown,e=>{0===e.button&&(y.current={x:e.clientX,y:e.clientY})}),onPointerMove:Me(e.onPointerMove,e=>{if(!y.current)return;const t=e.clientX-y.current.x,s=e.clientY-y.current.y,r=Boolean(b.current),n=["left","right"].includes(f.swipeDirection),a=["left","up"].includes(f.swipeDirection)?Math.min:Math.max,i=n?a(0,t):0,o=n?0:a(0,s),l="touch"===e.pointerType?10:2,c={x:i,y:o},h={originalEvent:e,delta:c};r?(b.current=c,Cr("toast.swipeMove",u,h,{discrete:!1})):Tr(c,f.swipeDirection,l)?(b.current=c,Cr("toast.swipeStart",d,h,{discrete:!1}),e.target.setPointerCapture(e.pointerId)):(Math.abs(t)>l||Math.abs(s)>l)&&(y.current=null)}),onPointerUp:Me(e.onPointerUp,e=>{const t=b.current,s=e.target;if(s.hasPointerCapture(e.pointerId)&&s.releasePointerCapture(e.pointerId),b.current=null,y.current=null,t){const s=e.currentTarget,r={originalEvent:e,delta:t};Tr(t,f.swipeDirection,f.swipeThreshold)?Cr("toast.swipeEnd",m,r,{discrete:!0}):Cr("toast.swipeCancel",h,r,{discrete:!0}),s.addEventListener("click",e=>e.preventDefault(),{once:!0})}})})})}),f.viewport)})]}):null}),br=e=>{const{__scopeToast:t,children:s,...r}=e,n=ir(fr,t),[a,i]=Pt.useState(!1),[o,l]=Pt.useState(!1);return function(e=()=>{}){const t=Ie(e);Le(()=>{let e=0,s=0;return e=window.requestAnimationFrame(()=>s=window.requestAnimationFrame(t)),()=>{window.cancelAnimationFrame(e),window.cancelAnimationFrame(s)}},[t])}(()=>i(!0)),Pt.useEffect(()=>{const e=window.setTimeout(()=>l(!0),1e3);return()=>window.clearTimeout(e)},[]),o?null:Ce.jsx(De,{asChild:!0,children:Ce.jsx(Oe,{...r,children:a&&Ce.jsxs(Ce.Fragment,{children:[n.label," ",s]})})})},wr=Pt.forwardRef((e,t)=>{const{__scopeToast:s,...r}=e;return Ce.jsx(Re.div,{...r,ref:t})});wr.displayName="ToastTitle";var jr=Pt.forwardRef((e,t)=>{const{__scopeToast:s,...r}=e;return Ce.jsx(Re.div,{...r,ref:t})});jr.displayName="ToastDescription";var _r=Pt.forwardRef((e,t)=>{const{altText:s,...r}=e;return s.trim()?Ce.jsx(Sr,{altText:s,asChild:!0,children:Ce.jsx(kr,{...r,ref:t})}):null});_r.displayName="ToastAction";var Nr="ToastClose",kr=Pt.forwardRef((e,t)=>{const{__scopeToast:s,...r}=e,n=vr(Nr,s);return Ce.jsx(Sr,{asChild:!0,children:Ce.jsx(Re.button,{type:"button",...r,ref:t,onClick:Me(e.onClick,n.onClose)})})});kr.displayName=Nr;var Sr=Pt.forwardRef((e,t)=>{const{__scopeToast:s,altText:r,...n}=e;return Ce.jsx(Re.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":r||void 0,...n,ref:t})});function Er(e){const t=[];return Array.from(e.childNodes).forEach(e=>{if(e.nodeType===e.TEXT_NODE&&e.textContent&&t.push(e.textContent),function(e){return e.nodeType===e.ELEMENT_NODE}(e)){const s=e.ariaHidden||e.hidden||"none"===e.style.display,r=""===e.dataset.radixToastAnnounceExclude;if(!s)if(r){const s=e.dataset.radixToastAnnounceAlt;s&&t.push(s)}else t.push(...Er(e))}}),t}function Cr(e,t,s,{discrete:r}){const n=s.originalEvent.currentTarget,a=new CustomEvent(e,{bubbles:!0,cancelable:!0,detail:s});t&&n.addEventListener(e,t,{once:!0}),r?Ue(n,a):n.dispatchEvent(a)}var Tr=(e,t,s=0)=>{const r=Math.abs(e.x),n=Math.abs(e.y),a=r>n;return"left"===t||"right"===t?a&&r>s:!a&&n>s};function Rr(e){const t=[],s=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:e=>{const t="INPUT"===e.tagName&&"hidden"===e.type;return e.disabled||e.hidden||t?NodeFilter.FILTER_SKIP:e.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;s.nextNode();)t.push(s.currentNode);return t}function Or(e){const t=document.activeElement;return e.some(e=>e===t||(e.focus(),document.activeElement!==t))}var Ar=or,Pr=hr,Ir=gr,Mr=wr,$r=jr,Dr=_r,Lr=kr;function Ur(e){var t,s,r="";if("string"==typeof e||"number"==typeof e)r+=e;else if("object"==typeof e)if(Array.isArray(e)){var n=e.length;for(t=0;t<n;t++)e[t]&&(s=Ur(e[t]))&&(r&&(r+=" "),r+=s)}else for(s in e)e[s]&&(r&&(r+=" "),r+=s);return r}function Fr(){for(var e,t,s=0,r="",n=arguments.length;s<n;s++)(e=arguments[s])&&(t=Ur(e))&&(r&&(r+=" "),r+=t);return r}const Br=e=>"boolean"==typeof e?`${e}`:0===e?"0":e,qr=Fr,zr=(e,t)=>s=>{var r;if(null==(null==t?void 0:t.variants))return qr(e,null==s?void 0:s.class,null==s?void 0:s.className);const{variants:n,defaultVariants:a}=t,i=Object.keys(n).map(e=>{const t=null==s?void 0:s[e],r=null==a?void 0:a[e];if(null===t)return null;const i=Br(t)||Br(r);return n[e][i]}),o=s&&Object.entries(s).reduce((e,t)=>{let[s,r]=t;return void 0===r||(e[s]=r),e},{}),l=null==t||null===(r=t.compoundVariants)||void 0===r?void 0:r.reduce((e,t)=>{let{class:s,className:r,...n}=t;return Object.entries(n).every(e=>{let[t,s]=e;return Array.isArray(s)?s.includes({...a,...o}[t]):{...a,...o}[t]===s})?[...e,s,r]:e},[]);return qr(e,i,l,null==s?void 0:s.class,null==s?void 0:s.className)},Wr=(...e)=>e.filter((e,t,s)=>Boolean(e)&&""!==e.trim()&&s.indexOf(e)===t).join(" ").trim();
/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */
var Hr={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};
/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kr=Pt.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:s=2,absoluteStrokeWidth:r,className:n="",children:a,iconNode:i,...o},l)=>Pt.createElement("svg",{ref:l,...Hr,width:t,height:t,stroke:e,strokeWidth:r?24*Number(s)/Number(t):s,className:Wr("lucide",n),...o},[...i.map(([e,t])=>Pt.createElement(e,t)),...Array.isArray(a)?a:[a]])),Vr=(e,t)=>{const s=Pt.forwardRef(({className:s,...r},n)=>{return Pt.createElement(Kr,{ref:n,iconNode:t,className:Wr(`lucide-${a=e,a.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase()}`,s),...r});var a});return s.displayName=`${e}`,s},Gr=Vr("Activity",[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]]),Zr=Vr("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]),Jr=Vr("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]),Yr=Vr("Award",[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]]),Qr=Vr("BookOpen",[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]]),Xr=Vr("Brain",[["path",{d:"M12 5a3 3 0 1 0-5.997.125 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588A4 4 0 1 0 12 18Z",key:"l5xja"}],["path",{d:"M12 5a3 3 0 1 1 5.997.125 4 4 0 0 1 2.526 5.77 4 4 0 0 1-.556 6.588A4 4 0 1 1 12 18Z",key:"ep3f8r"}],["path",{d:"M15 13a4.5 4.5 0 0 1-3-4 4.5 4.5 0 0 1-3 4",key:"1p4c4q"}],["path",{d:"M17.599 6.5a3 3 0 0 0 .399-1.375",key:"tmeiqw"}],["path",{d:"M6.003 5.125A3 3 0 0 0 6.401 6.5",key:"105sqy"}],["path",{d:"M3.477 10.896a4 4 0 0 1 .585-.396",key:"ql3yin"}],["path",{d:"M19.938 10.5a4 4 0 0 1 .585.396",key:"1qfode"}],["path",{d:"M6 18a4 4 0 0 1-1.967-.516",key:"2e4loj"}],["path",{d:"M19.967 17.484A4 4 0 0 1 18 18",key:"159ez6"}]]),en=Vr("Building",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]]),tn=Vr("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]),sn=Vr("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]),rn=Vr("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]),nn=Vr("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]),an=Vr("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]),on=Vr("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]),ln=Vr("CircleCheck",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]),cn=Vr("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]),dn=Vr("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]),un=Vr("Dot",[["circle",{cx:"12.1",cy:"12.1",r:"1",key:"18d7e5"}]]),hn=Vr("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]),mn=Vr("Facebook",[["path",{d:"M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z",key:"1jg4f8"}]]),pn=Vr("FileCheck",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"m9 15 2 2 4-4",key:"1grp1n"}]]),fn=Vr("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]),gn=Vr("File",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}]]),xn=Vr("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]),vn=Vr("Instagram",[["rect",{width:"20",height:"20",x:"2",y:"2",rx:"5",ry:"5",key:"2e1cvw"}],["path",{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z",key:"9exkf1"}],["line",{x1:"17.5",x2:"17.51",y1:"6.5",y2:"6.5",key:"r4j83e"}]]),yn=Vr("Link2",[["path",{d:"M9 17H7A5 5 0 0 1 7 7h2",key:"8i5ue5"}],["path",{d:"M15 7h2a5 5 0 1 1 0 10h-2",key:"1b9ql8"}],["line",{x1:"8",x2:"16",y1:"12",y2:"12",key:"1jonct"}]]),bn=Vr("Link",[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]]),wn=Vr("Linkedin",[["path",{d:"M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-2-2 2 2 0 0 0-2 2v7h-4v-7a6 6 0 0 1 6-6z",key:"c2jq9f"}],["rect",{width:"4",height:"12",x:"2",y:"9",key:"mk3on5"}],["circle",{cx:"4",cy:"4",r:"2",key:"bt5ra8"}]]),jn=Vr("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]),_n=Vr("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]),Nn=Vr("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]),kn=Vr("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]),Sn=Vr("Pencil",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]]),En=Vr("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]),Cn=Vr("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]),Tn=Vr("Star",[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]]),Rn=Vr("Tag",[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]]),On=Vr("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]),An=Vr("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]),Pn=Vr("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]),In=Vr("Twitter",[["path",{d:"M22 4s-.7 2.1-2 3.4c1.6 10-9.4 17.3-18 11.6 2.2.1 4.4-.6 6-2C3 15.5.5 9.6 3 5c2.2 2.6 5.6 4.1 9 4-.9-4.2 4-6.6 7-3.8 1.1 0 3-1.2 3-1.2z",key:"pff0z6"}]]),Mn=Vr("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]),$n=Vr("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]),Dn=Vr("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]),Ln=Vr("Video",[["path",{d:"m16 13 5.223 3.482a.5.5 0 0 0 .777-.416V7.87a.5.5 0 0 0-.752-.432L16 10.5",key:"ftymec"}],["rect",{x:"2",y:"6",width:"14",height:"12",rx:"2",key:"158x01"}]]),Un=Vr("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),Fn=e=>{const t=Wn(e),{conflictingClassGroups:s,conflictingClassGroupModifiers:r}=e;return{getClassGroupId:e=>{const s=e.split("-");return""===s[0]&&1!==s.length&&s.shift(),Bn(s,t)||zn(e)},getConflictingClassGroupIds:(e,t)=>{const n=s[e]||[];return t&&r[e]?[...n,...r[e]]:n}}},Bn=(e,t)=>{var s;if(0===e.length)return t.classGroupId;const r=e[0],n=t.nextPart.get(r),a=n?Bn(e.slice(1),n):void 0;if(a)return a;if(0===t.validators.length)return;const i=e.join("-");return null==(s=t.validators.find(({validator:e})=>e(i)))?void 0:s.classGroupId},qn=/^\[(.+)\]$/,zn=e=>{if(qn.test(e)){const t=qn.exec(e)[1],s=null==t?void 0:t.substring(0,t.indexOf(":"));if(s)return"arbitrary.."+s}},Wn=e=>{const{theme:t,prefix:s}=e,r={nextPart:new Map,validators:[]};return Gn(Object.entries(e.classGroups),s).forEach(([e,s])=>{Hn(s,r,e,t)}),r},Hn=(e,t,s,r)=>{e.forEach(e=>{if("string"==typeof e){return void((""===e?t:Kn(t,e)).classGroupId=s)}if("function"==typeof e)return Vn(e)?void Hn(e(r),t,s,r):void t.validators.push({validator:e,classGroupId:s});Object.entries(e).forEach(([e,n])=>{Hn(n,Kn(t,e),s,r)})})},Kn=(e,t)=>{let s=e;return t.split("-").forEach(e=>{s.nextPart.has(e)||s.nextPart.set(e,{nextPart:new Map,validators:[]}),s=s.nextPart.get(e)}),s},Vn=e=>e.isThemeGetter,Gn=(e,t)=>t?e.map(([e,s])=>[e,s.map(e=>"string"==typeof e?t+e:"object"==typeof e?Object.fromEntries(Object.entries(e).map(([e,s])=>[t+e,s])):e)]):e,Zn=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,s=new Map,r=new Map;const n=(n,a)=>{s.set(n,a),t++,t>e&&(t=0,r=s,s=new Map)};return{get(e){let t=s.get(e);return void 0!==t?t:void 0!==(t=r.get(e))?(n(e,t),t):void 0},set(e,t){s.has(e)?s.set(e,t):n(e,t)}}},Jn=e=>{const{separator:t,experimentalParseClassName:s}=e,r=1===t.length,n=t[0],a=t.length,i=e=>{const s=[];let i,o=0,l=0;for(let u=0;u<e.length;u++){let c=e[u];if(0===o){if(c===n&&(r||e.slice(u,u+a)===t)){s.push(e.slice(l,u)),l=u+a;continue}if("/"===c){i=u;continue}}"["===c?o++:"]"===c&&o--}const c=0===s.length?e:e.substring(l),d=c.startsWith("!");return{modifiers:s,hasImportantModifier:d,baseClassName:d?c.substring(1):c,maybePostfixModifierPosition:i&&i>l?i-l:void 0}};return s?e=>s({className:e,parseClassName:i}):i},Yn=e=>{if(e.length<=1)return e;const t=[];let s=[];return e.forEach(e=>{"["===e[0]?(t.push(...s.sort(),e),s=[]):s.push(e)}),t.push(...s.sort()),t},Qn=/\s+/;
/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */function Xn(){let e,t,s=0,r="";for(;s<arguments.length;)(e=arguments[s++])&&(t=ea(e))&&(r&&(r+=" "),r+=t);return r}const ea=e=>{if("string"==typeof e)return e;let t,s="";for(let r=0;r<e.length;r++)e[r]&&(t=ea(e[r]))&&(s&&(s+=" "),s+=t);return s};function ta(e,...t){let s,r,n,a=function(o){const l=t.reduce((e,t)=>t(e),e());return s=(e=>({cache:Zn(e.cacheSize),parseClassName:Jn(e),...Fn(e)}))(l),r=s.cache.get,n=s.cache.set,a=i,i(o)};function i(e){const t=r(e);if(t)return t;const a=((e,t)=>{const{parseClassName:s,getClassGroupId:r,getConflictingClassGroupIds:n}=t,a=[],i=e.trim().split(Qn);let o="";for(let l=i.length-1;l>=0;l-=1){const e=i[l],{modifiers:t,hasImportantModifier:c,baseClassName:d,maybePostfixModifierPosition:u}=s(e);let h=Boolean(u),m=r(h?d.substring(0,u):d);if(!m){if(!h){o=e+(o.length>0?" "+o:o);continue}if(m=r(d),!m){o=e+(o.length>0?" "+o:o);continue}h=!1}const p=Yn(t).join(":"),f=c?p+"!":p,g=f+m;if(a.includes(g))continue;a.push(g);const x=n(m,h);for(let s=0;s<x.length;++s){const e=x[s];a.push(f+e)}o=e+(o.length>0?" "+o:o)}return o})(e,s);return n(e,a),a}return function(){return a(Xn.apply(null,arguments))}}const sa=e=>{const t=t=>t[e]||[];return t.isThemeGetter=!0,t},ra=/^\[(?:([a-z-]+):)?(.+)\]$/i,na=/^\d+\/\d+$/,aa=new Set(["px","full","screen"]),ia=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,oa=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,la=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,ca=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,da=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,ua=e=>ma(e)||aa.has(e)||na.test(e),ha=e=>Sa(e,"length",Ea),ma=e=>Boolean(e)&&!Number.isNaN(Number(e)),pa=e=>Sa(e,"number",ma),fa=e=>Boolean(e)&&Number.isInteger(Number(e)),ga=e=>e.endsWith("%")&&ma(e.slice(0,-1)),xa=e=>ra.test(e),va=e=>ia.test(e),ya=new Set(["length","size","percentage"]),ba=e=>Sa(e,ya,Ca),wa=e=>Sa(e,"position",Ca),ja=new Set(["image","url"]),_a=e=>Sa(e,ja,Ra),Na=e=>Sa(e,"",Ta),ka=()=>!0,Sa=(e,t,s)=>{const r=ra.exec(e);return!!r&&(r[1]?"string"==typeof t?r[1]===t:t.has(r[1]):s(r[2]))},Ea=e=>oa.test(e)&&!la.test(e),Ca=()=>!1,Ta=e=>ca.test(e),Ra=e=>da.test(e),Oa=ta(()=>{const e=sa("colors"),t=sa("spacing"),s=sa("blur"),r=sa("brightness"),n=sa("borderColor"),a=sa("borderRadius"),i=sa("borderSpacing"),o=sa("borderWidth"),l=sa("contrast"),c=sa("grayscale"),d=sa("hueRotate"),u=sa("invert"),h=sa("gap"),m=sa("gradientColorStops"),p=sa("gradientColorStopPositions"),f=sa("inset"),g=sa("margin"),x=sa("opacity"),v=sa("padding"),y=sa("saturate"),b=sa("scale"),w=sa("sepia"),j=sa("skew"),_=sa("space"),N=sa("translate"),k=()=>["auto",xa,t],S=()=>[xa,t],E=()=>["",ua,ha],C=()=>["auto",ma,xa],T=()=>["","0",xa],R=()=>[ma,xa];return{cacheSize:500,separator:":",theme:{colors:[ka],spacing:[ua,ha],blur:["none","",va,xa],brightness:R(),borderColor:[e],borderRadius:["none","","full",va,xa],borderSpacing:S(),borderWidth:E(),contrast:R(),grayscale:T(),hueRotate:R(),invert:T(),gap:S(),gradientColorStops:[e],gradientColorStopPositions:[ga,ha],inset:k(),margin:k(),opacity:R(),padding:S(),saturate:R(),scale:R(),sepia:T(),skew:R(),space:S(),translate:S()},classGroups:{aspect:[{aspect:["auto","square","video",xa]}],container:["container"],columns:[{columns:[va]}],"break-after":[{"break-after":["auto","avoid","all","avoid-page","page","left","right","column"]}],"break-before":[{"break-before":["auto","avoid","all","avoid-page","page","left","right","column"]}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top",xa]}],overflow:[{overflow:["auto","hidden","clip","visible","scroll"]}],"overflow-x":[{"overflow-x":["auto","hidden","clip","visible","scroll"]}],"overflow-y":[{"overflow-y":["auto","hidden","clip","visible","scroll"]}],overscroll:[{overscroll:["auto","contain","none"]}],"overscroll-x":[{"overscroll-x":["auto","contain","none"]}],"overscroll-y":[{"overscroll-y":["auto","contain","none"]}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[f]}],"inset-x":[{"inset-x":[f]}],"inset-y":[{"inset-y":[f]}],start:[{start:[f]}],end:[{end:[f]}],top:[{top:[f]}],right:[{right:[f]}],bottom:[{bottom:[f]}],left:[{left:[f]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",fa,xa]}],basis:[{basis:k()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",xa]}],grow:[{grow:T()}],shrink:[{shrink:T()}],order:[{order:["first","last","none",fa,xa]}],"grid-cols":[{"grid-cols":[ka]}],"col-start-end":[{col:["auto",{span:["full",fa,xa]},xa]}],"col-start":[{"col-start":C()}],"col-end":[{"col-end":C()}],"grid-rows":[{"grid-rows":[ka]}],"row-start-end":[{row:["auto",{span:[fa,xa]},xa]}],"row-start":[{"row-start":C()}],"row-end":[{"row-end":C()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",xa]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",xa]}],gap:[{gap:[h]}],"gap-x":[{"gap-x":[h]}],"gap-y":[{"gap-y":[h]}],"justify-content":[{justify:["normal","start","end","center","between","around","evenly","stretch"]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal","start","end","center","between","around","evenly","stretch","baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":["start","end","center","between","around","evenly","stretch","baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[v]}],px:[{px:[v]}],py:[{py:[v]}],ps:[{ps:[v]}],pe:[{pe:[v]}],pt:[{pt:[v]}],pr:[{pr:[v]}],pb:[{pb:[v]}],pl:[{pl:[v]}],m:[{m:[g]}],mx:[{mx:[g]}],my:[{my:[g]}],ms:[{ms:[g]}],me:[{me:[g]}],mt:[{mt:[g]}],mr:[{mr:[g]}],mb:[{mb:[g]}],ml:[{ml:[g]}],"space-x":[{"space-x":[_]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[_]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",xa,t]}],"min-w":[{"min-w":[xa,t,"min","max","fit"]}],"max-w":[{"max-w":[xa,t,"none","full","min","max","fit","prose",{screen:[va]},va]}],h:[{h:[xa,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[xa,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[xa,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[xa,t,"auto","min","max","fit"]}],"font-size":[{text:["base",va,ha]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",pa]}],"font-family":[{font:[ka]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",xa]}],"line-clamp":[{"line-clamp":["none",ma,pa]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",ua,xa]}],"list-image":[{"list-image":["none",xa]}],"list-style-type":[{list:["none","disc","decimal",xa]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[x]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[x]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:["solid","dashed","dotted","double","none","wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",ua,ha]}],"underline-offset":[{"underline-offset":["auto",ua,xa]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:S()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",xa]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",xa]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[x]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top",wa]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",ba]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},_a]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[p]}],"gradient-via-pos":[{via:[p]}],"gradient-to-pos":[{to:[p]}],"gradient-from":[{from:[m]}],"gradient-via":[{via:[m]}],"gradient-to":[{to:[m]}],rounded:[{rounded:[a]}],"rounded-s":[{"rounded-s":[a]}],"rounded-e":[{"rounded-e":[a]}],"rounded-t":[{"rounded-t":[a]}],"rounded-r":[{"rounded-r":[a]}],"rounded-b":[{"rounded-b":[a]}],"rounded-l":[{"rounded-l":[a]}],"rounded-ss":[{"rounded-ss":[a]}],"rounded-se":[{"rounded-se":[a]}],"rounded-ee":[{"rounded-ee":[a]}],"rounded-es":[{"rounded-es":[a]}],"rounded-tl":[{"rounded-tl":[a]}],"rounded-tr":[{"rounded-tr":[a]}],"rounded-br":[{"rounded-br":[a]}],"rounded-bl":[{"rounded-bl":[a]}],"border-w":[{border:[o]}],"border-w-x":[{"border-x":[o]}],"border-w-y":[{"border-y":[o]}],"border-w-s":[{"border-s":[o]}],"border-w-e":[{"border-e":[o]}],"border-w-t":[{"border-t":[o]}],"border-w-r":[{"border-r":[o]}],"border-w-b":[{"border-b":[o]}],"border-w-l":[{"border-l":[o]}],"border-opacity":[{"border-opacity":[x]}],"border-style":[{border:["solid","dashed","dotted","double","none","hidden"]}],"divide-x":[{"divide-x":[o]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[o]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[x]}],"divide-style":[{divide:["solid","dashed","dotted","double","none"]}],"border-color":[{border:[n]}],"border-color-x":[{"border-x":[n]}],"border-color-y":[{"border-y":[n]}],"border-color-s":[{"border-s":[n]}],"border-color-e":[{"border-e":[n]}],"border-color-t":[{"border-t":[n]}],"border-color-r":[{"border-r":[n]}],"border-color-b":[{"border-b":[n]}],"border-color-l":[{"border-l":[n]}],"divide-color":[{divide:[n]}],"outline-style":[{outline:["","solid","dashed","dotted","double","none"]}],"outline-offset":[{"outline-offset":[ua,xa]}],"outline-w":[{outline:[ua,ha]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:E()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[x]}],"ring-offset-w":[{"ring-offset":[ua,ha]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",va,Na]}],"shadow-color":[{shadow:[ka]}],opacity:[{opacity:[x]}],"mix-blend":[{"mix-blend":["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity","plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"]}],filter:[{filter:["","none"]}],blur:[{blur:[s]}],brightness:[{brightness:[r]}],contrast:[{contrast:[l]}],"drop-shadow":[{"drop-shadow":["","none",va,xa]}],grayscale:[{grayscale:[c]}],"hue-rotate":[{"hue-rotate":[d]}],invert:[{invert:[u]}],saturate:[{saturate:[y]}],sepia:[{sepia:[w]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[s]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[l]}],"backdrop-grayscale":[{"backdrop-grayscale":[c]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[d]}],"backdrop-invert":[{"backdrop-invert":[u]}],"backdrop-opacity":[{"backdrop-opacity":[x]}],"backdrop-saturate":[{"backdrop-saturate":[y]}],"backdrop-sepia":[{"backdrop-sepia":[w]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[i]}],"border-spacing-x":[{"border-spacing-x":[i]}],"border-spacing-y":[{"border-spacing-y":[i]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",xa]}],duration:[{duration:R()}],ease:[{ease:["linear","in","out","in-out",xa]}],delay:[{delay:R()}],animate:[{animate:["none","spin","ping","pulse","bounce",xa]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[b]}],"scale-x":[{"scale-x":[b]}],"scale-y":[{"scale-y":[b]}],rotate:[{rotate:[fa,xa]}],"translate-x":[{"translate-x":[N]}],"translate-y":[{"translate-y":[N]}],"skew-x":[{"skew-x":[j]}],"skew-y":[{"skew-y":[j]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",xa]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",xa]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":S()}],"scroll-mx":[{"scroll-mx":S()}],"scroll-my":[{"scroll-my":S()}],"scroll-ms":[{"scroll-ms":S()}],"scroll-me":[{"scroll-me":S()}],"scroll-mt":[{"scroll-mt":S()}],"scroll-mr":[{"scroll-mr":S()}],"scroll-mb":[{"scroll-mb":S()}],"scroll-ml":[{"scroll-ml":S()}],"scroll-p":[{"scroll-p":S()}],"scroll-px":[{"scroll-px":S()}],"scroll-py":[{"scroll-py":S()}],"scroll-ps":[{"scroll-ps":S()}],"scroll-pe":[{"scroll-pe":S()}],"scroll-pt":[{"scroll-pt":S()}],"scroll-pr":[{"scroll-pr":S()}],"scroll-pb":[{"scroll-pb":S()}],"scroll-pl":[{"scroll-pl":S()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",xa]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[ua,ha,pa]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}});function Aa(...e){return Oa(Fr(e))}const Pa=Ar,Ia=Pt.forwardRef(({className:e,...t},s)=>Ce.jsx(Pr,{ref:s,className:Aa("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",e),...t}));Ia.displayName=Pr.displayName;const Ma=zr("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),$a=Pt.forwardRef(({className:e,variant:t,...s},r)=>Ce.jsx(Ir,{ref:r,className:Aa(Ma({variant:t}),e),...s}));$a.displayName=Ir.displayName;Pt.forwardRef(({className:e,...t},s)=>Ce.jsx(Dr,{ref:s,className:Aa("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors group-[.destructive]:border-muted/40 hover:bg-secondary group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 group-[.destructive]:focus:ring-destructive disabled:pointer-events-none disabled:opacity-50",e),...t})).displayName=Dr.displayName;const Da=Pt.forwardRef(({className:e,...t},s)=>Ce.jsx(Lr,{ref:s,className:Aa("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity group-hover:opacity-100 group-[.destructive]:text-red-300 hover:text-foreground group-[.destructive]:hover:text-red-50 focus:opacity-100 focus:outline-none focus:ring-2 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",e),"toast-close":"",...t,children:Ce.jsx(Un,{className:"h-4 w-4"})}));Da.displayName=Lr.displayName;const La=Pt.forwardRef(({className:e,...t},s)=>Ce.jsx(Mr,{ref:s,className:Aa("text-sm font-semibold",e),...t}));La.displayName=Mr.displayName;const Ua=Pt.forwardRef(({className:e,...t},s)=>Ce.jsx($r,{ref:s,className:Aa("text-sm opacity-90",e),...t}));function Fa(){const{toasts:e}=Qs();return Ce.jsxs(Pa,{children:[e.map(function({id:e,title:t,description:s,action:r,...n}){return Ce.jsxs($a,{...n,children:[Ce.jsxs("div",{className:"grid gap-1",children:[t&&Ce.jsx(La,{children:t}),s&&Ce.jsx(Ua,{children:s})]}),r,Ce.jsx(Da,{})]},e)}),Ce.jsx(Ia,{})]})}Ua.displayName=$r.displayName;var Ba=["light","dark"],qa=Pt.createContext(void 0),za={setTheme:e=>{},themes:[]};Pt.memo(({forcedTheme:e,storageKey:t,attribute:s,enableSystem:r,enableColorScheme:n,defaultTheme:a,value:i,attrs:o,nonce:l})=>{let c="system"===a,d="class"===s?`var d=document.documentElement,c=d.classList;c.remove(${o.map(e=>`'${e}'`).join(",")});`:`var d=document.documentElement,n='${s}',s='setAttribute';`,u=n?Ba.includes(a)&&a?`if(e==='light'||e==='dark'||!e)d.style.colorScheme=e||'${a}'`:"if(e==='light'||e==='dark')d.style.colorScheme=e":"",h=(e,t=!1,r=!0)=>{let a=i?i[e]:e,o=t?e+"|| ''":`'${a}'`,l="";return n&&r&&!t&&Ba.includes(e)&&(l+=`d.style.colorScheme = '${e}';`),"class"===s?l+=t||a?`c.add(${o})`:"null":a&&(l+=`d[s](n,${o})`),l},m=e?`!function(){${d}${h(e)}}()`:r?`!function(){try{${d}var e=localStorage.getItem('${t}');if('system'===e||(!e&&${c})){var t='(prefers-color-scheme: dark)',m=window.matchMedia(t);if(m.media!==t||m.matches){${h("dark")}}else{${h("light")}}}else if(e){${i?`var x=${JSON.stringify(i)};`:""}${h(i?"x[e]":"e",!0)}}${c?"":"else{"+h(a,!1,!1)+"}"}${u}}catch(e){}}()`:`!function(){try{${d}var e=localStorage.getItem('${t}');if(e){${i?`var x=${JSON.stringify(i)};`:""}${h(i?"x[e]":"e",!0)}}else{${h(a,!1,!1)};}${u}}catch(t){}}();`;return Pt.createElement("script",{nonce:l,dangerouslySetInnerHTML:{__html:m}})});var Wa=Array(12).fill(0),Ha=({visible:e,className:t})=>At.createElement("div",{className:["sonner-loading-wrapper",t].filter(Boolean).join(" "),"data-visible":e},At.createElement("div",{className:"sonner-spinner"},Wa.map((e,t)=>At.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${t}`})))),Ka=At.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},At.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),Va=At.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},At.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),Ga=At.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},At.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),Za=At.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},At.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),Ja=At.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},At.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),At.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),Ya=1,Qa=new class{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{let t=this.subscribers.indexOf(e);this.subscribers.splice(t,1)}),this.publish=e=>{this.subscribers.forEach(t=>t(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var t;let{message:s,...r}=e,n="number"==typeof(null==e?void 0:e.id)||(null==(t=e.id)?void 0:t.length)>0?e.id:Ya++,a=this.toasts.find(e=>e.id===n),i=void 0===e.dismissible||e.dismissible;return this.dismissedToasts.has(n)&&this.dismissedToasts.delete(n),a?this.toasts=this.toasts.map(t=>t.id===n?(this.publish({...t,...e,id:n,title:s}),{...t,...e,id:n,dismissible:i,title:s}):t):this.addToast({title:s,...r,dismissible:i,id:n}),n},this.dismiss=e=>(this.dismissedToasts.add(e),e||this.toasts.forEach(e=>{this.subscribers.forEach(t=>t({id:e.id,dismiss:!0}))}),this.subscribers.forEach(t=>t({id:e,dismiss:!0})),e),this.message=(e,t)=>this.create({...t,message:e}),this.error=(e,t)=>this.create({...t,message:e,type:"error"}),this.success=(e,t)=>this.create({...t,type:"success",message:e}),this.info=(e,t)=>this.create({...t,type:"info",message:e}),this.warning=(e,t)=>this.create({...t,type:"warning",message:e}),this.loading=(e,t)=>this.create({...t,type:"loading",message:e}),this.promise=(e,t)=>{if(!t)return;let s;void 0!==t.loading&&(s=this.create({...t,promise:e,type:"loading",message:t.loading,description:"function"!=typeof t.description?t.description:void 0}));let r,n=e instanceof Promise?e:e(),a=void 0!==s,i=n.then(async e=>{if(r=["resolve",e],At.isValidElement(e))a=!1,this.create({id:s,type:"default",message:e});else if(Xa(e)&&!e.ok){a=!1;let r="function"==typeof t.error?await t.error(`HTTP error! status: ${e.status}`):t.error,n="function"==typeof t.description?await t.description(`HTTP error! status: ${e.status}`):t.description;this.create({id:s,type:"error",message:r,description:n})}else if(void 0!==t.success){a=!1;let r="function"==typeof t.success?await t.success(e):t.success,n="function"==typeof t.description?await t.description(e):t.description;this.create({id:s,type:"success",message:r,description:n})}}).catch(async e=>{if(r=["reject",e],void 0!==t.error){a=!1;let r="function"==typeof t.error?await t.error(e):t.error,n="function"==typeof t.description?await t.description(e):t.description;this.create({id:s,type:"error",message:r,description:n})}}).finally(()=>{var e;a&&(this.dismiss(s),s=void 0),null==(e=t.finally)||e.call(t)}),o=()=>new Promise((e,t)=>i.then(()=>"reject"===r[0]?t(r[1]):e(r[1])).catch(t));return"string"!=typeof s&&"number"!=typeof s?{unwrap:o}:Object.assign(s,{unwrap:o})},this.custom=(e,t)=>{let s=(null==t?void 0:t.id)||Ya++;return this.create({jsx:e(s),id:s,...t}),s},this.getActiveToasts=()=>this.toasts.filter(e=>!this.dismissedToasts.has(e.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}},Xa=e=>e&&"object"==typeof e&&"ok"in e&&"boolean"==typeof e.ok&&"status"in e&&"number"==typeof e.status,ei=(e,t)=>{let s=(null==t?void 0:t.id)||Ya++;return Qa.addToast({title:e,...t,id:s}),s};function ti(e){return void 0!==e.label}Object.assign(ei,{success:Qa.success,info:Qa.info,warning:Qa.warning,error:Qa.error,custom:Qa.custom,message:Qa.message,promise:Qa.promise,dismiss:Qa.dismiss,loading:Qa.loading},{getHistory:()=>Qa.toasts,getToasts:()=>Qa.getActiveToasts()}),function(e,{insertAt:t}={}){if("undefined"==typeof document)return;let s=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css","top"===t&&s.firstChild?s.insertBefore(r,s.firstChild):s.appendChild(r),r.styleSheet?r.styleSheet.cssText=e:r.appendChild(document.createTextNode(e))}(':where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999;transition:transform .4s ease}:where([data-sonner-toaster][data-lifted="true"]){transform:translateY(-10px)}@media (hover: none) and (pointer: coarse){:where([data-sonner-toaster][data-lifted="true"]){transform:none}}:where([data-sonner-toaster][data-x-position="right"]){right:var(--offset-right)}:where([data-sonner-toaster][data-x-position="left"]){left:var(--offset-left)}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:var(--offset-top)}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:var(--offset-bottom)}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast] [data-close-button]{background:var(--gray1)}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:-50%;right:-50%;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y, 0px)) translate(var(--swipe-amount-x, 0px));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-bg-hover: hsl(0, 0%, 12%);--normal-border: hsl(0, 0%, 20%);--normal-border-hover: hsl(0, 0%, 25%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}\n');var si=3,ri=14;function ni(...e){return e.filter(Boolean).join(" ")}var ai=e=>{var t,s,r,n,a,i,o,l,c,d,u;let{invert:h,toast:m,unstyled:p,interacting:f,setHeights:g,visibleToasts:x,heights:v,index:y,toasts:b,expanded:w,removeToast:j,defaultRichColors:_,closeButton:N,style:k,cancelButtonStyle:S,actionButtonStyle:E,className:C="",descriptionClassName:T="",duration:R,position:O,gap:A,loadingIcon:P,expandByDefault:I,classNames:M,icons:$,closeButtonAriaLabel:D="Close toast",pauseWhenPageIsHidden:L}=e,[U,F]=At.useState(null),[B,q]=At.useState(null),[z,W]=At.useState(!1),[H,K]=At.useState(!1),[V,G]=At.useState(!1),[Z,J]=At.useState(!1),[Y,Q]=At.useState(!1),[X,ee]=At.useState(0),[te,se]=At.useState(0),re=At.useRef(m.duration||R||4e3),ne=At.useRef(null),ae=At.useRef(null),ie=0===y,oe=y+1<=x,le=m.type,ce=!1!==m.dismissible,de=m.className||"",ue=m.descriptionClassName||"",he=At.useMemo(()=>v.findIndex(e=>e.toastId===m.id)||0,[v,m.id]),me=At.useMemo(()=>{var e;return null!=(e=m.closeButton)?e:N},[m.closeButton,N]),pe=At.useMemo(()=>m.duration||R||4e3,[m.duration,R]),fe=At.useRef(0),ge=At.useRef(0),xe=At.useRef(0),ve=At.useRef(null),[ye,be]=O.split("-"),we=At.useMemo(()=>v.reduce((e,t,s)=>s>=he?e:e+t.height,0),[v,he]),je=(()=>{let[e,t]=At.useState(document.hidden);return At.useEffect(()=>{let e=()=>{t(document.hidden)};return document.addEventListener("visibilitychange",e),()=>window.removeEventListener("visibilitychange",e)},[]),e})(),_e=m.invert||h,Ne="loading"===le;ge.current=At.useMemo(()=>he*A+we,[he,we]),At.useEffect(()=>{re.current=pe},[pe]),At.useEffect(()=>{W(!0)},[]),At.useEffect(()=>{let e=ae.current;if(e){let t=e.getBoundingClientRect().height;return se(t),g(e=>[{toastId:m.id,height:t,position:m.position},...e]),()=>g(e=>e.filter(e=>e.toastId!==m.id))}},[g,m.id]),At.useLayoutEffect(()=>{if(!z)return;let e=ae.current,t=e.style.height;e.style.height="auto";let s=e.getBoundingClientRect().height;e.style.height=t,se(s),g(e=>e.find(e=>e.toastId===m.id)?e.map(e=>e.toastId===m.id?{...e,height:s}:e):[{toastId:m.id,height:s,position:m.position},...e])},[z,m.title,m.description,g,m.id]);let ke=At.useCallback(()=>{K(!0),ee(ge.current),g(e=>e.filter(e=>e.toastId!==m.id)),setTimeout(()=>{j(m)},200)},[m,j,g,ge]);return At.useEffect(()=>{if(m.promise&&"loading"===le||m.duration===1/0||"loading"===m.type)return;let e;return w||f||L&&je?(()=>{if(xe.current<fe.current){let e=(new Date).getTime()-fe.current;re.current=re.current-e}xe.current=(new Date).getTime()})():re.current!==1/0&&(fe.current=(new Date).getTime(),e=setTimeout(()=>{var e;null==(e=m.onAutoClose)||e.call(m,m),ke()},re.current)),()=>clearTimeout(e)},[w,f,m,le,L,je,ke]),At.useEffect(()=>{m.delete&&ke()},[ke,m.delete]),At.createElement("li",{tabIndex:0,ref:ae,className:ni(C,de,null==M?void 0:M.toast,null==(t=null==m?void 0:m.classNames)?void 0:t.toast,null==M?void 0:M.default,null==M?void 0:M[le],null==(s=null==m?void 0:m.classNames)?void 0:s[le]),"data-sonner-toast":"","data-rich-colors":null!=(r=m.richColors)?r:_,"data-styled":!(m.jsx||m.unstyled||p),"data-mounted":z,"data-promise":!!m.promise,"data-swiped":Y,"data-removed":H,"data-visible":oe,"data-y-position":ye,"data-x-position":be,"data-index":y,"data-front":ie,"data-swiping":V,"data-dismissible":ce,"data-type":le,"data-invert":_e,"data-swipe-out":Z,"data-swipe-direction":B,"data-expanded":!!(w||I&&z),style:{"--index":y,"--toasts-before":y,"--z-index":b.length-y,"--offset":`${H?X:ge.current}px`,"--initial-height":I?"auto":`${te}px`,...k,...m.style},onDragEnd:()=>{G(!1),F(null),ve.current=null},onPointerDown:e=>{Ne||!ce||(ne.current=new Date,ee(ge.current),e.target.setPointerCapture(e.pointerId),"BUTTON"!==e.target.tagName&&(G(!0),ve.current={x:e.clientX,y:e.clientY}))},onPointerUp:()=>{var e,t,s,r;if(Z||!ce)return;ve.current=null;let n=Number((null==(e=ae.current)?void 0:e.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),a=Number((null==(t=ae.current)?void 0:t.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),i=(new Date).getTime()-(null==(s=ne.current)?void 0:s.getTime()),o="x"===U?n:a,l=Math.abs(o)/i;if(Math.abs(o)>=20||l>.11)return ee(ge.current),null==(r=m.onDismiss)||r.call(m,m),q("x"===U?n>0?"right":"left":a>0?"down":"up"),ke(),J(!0),void Q(!1);G(!1),F(null)},onPointerMove:t=>{var s,r,n,a;if(!ve.current||!ce||(null==(s=window.getSelection())?void 0:s.toString().length)>0)return;let i=t.clientY-ve.current.y,o=t.clientX-ve.current.x,l=null!=(r=e.swipeDirections)?r:function(e){let[t,s]=e.split("-"),r=[];return t&&r.push(t),s&&r.push(s),r}(O);!U&&(Math.abs(o)>1||Math.abs(i)>1)&&F(Math.abs(o)>Math.abs(i)?"x":"y");let c={x:0,y:0};"y"===U?(l.includes("top")||l.includes("bottom"))&&(l.includes("top")&&i<0||l.includes("bottom")&&i>0)&&(c.y=i):"x"===U&&(l.includes("left")||l.includes("right"))&&(l.includes("left")&&o<0||l.includes("right")&&o>0)&&(c.x=o),(Math.abs(c.x)>0||Math.abs(c.y)>0)&&Q(!0),null==(n=ae.current)||n.style.setProperty("--swipe-amount-x",`${c.x}px`),null==(a=ae.current)||a.style.setProperty("--swipe-amount-y",`${c.y}px`)}},me&&!m.jsx?At.createElement("button",{"aria-label":D,"data-disabled":Ne,"data-close-button":!0,onClick:Ne||!ce?()=>{}:()=>{var e;ke(),null==(e=m.onDismiss)||e.call(m,m)},className:ni(null==M?void 0:M.closeButton,null==(n=null==m?void 0:m.classNames)?void 0:n.closeButton)},null!=(a=null==$?void 0:$.close)?a:Ja):null,m.jsx||Pt.isValidElement(m.title)?m.jsx?m.jsx:"function"==typeof m.title?m.title():m.title:At.createElement(At.Fragment,null,le||m.icon||m.promise?At.createElement("div",{"data-icon":"",className:ni(null==M?void 0:M.icon,null==(i=null==m?void 0:m.classNames)?void 0:i.icon)},m.promise||"loading"===m.type&&!m.icon?m.icon||(null!=$&&$.loading?At.createElement("div",{className:ni(null==M?void 0:M.loader,null==(Se=null==m?void 0:m.classNames)?void 0:Se.loader,"sonner-loader"),"data-visible":"loading"===le},$.loading):P?At.createElement("div",{className:ni(null==M?void 0:M.loader,null==(Ee=null==m?void 0:m.classNames)?void 0:Ee.loader,"sonner-loader"),"data-visible":"loading"===le},P):At.createElement(Ha,{className:ni(null==M?void 0:M.loader,null==(Ce=null==m?void 0:m.classNames)?void 0:Ce.loader),visible:"loading"===le})):null,"loading"!==m.type?m.icon||(null==$?void 0:$[le])||(e=>{switch(e){case"success":return Ka;case"info":return Ga;case"warning":return Va;case"error":return Za;default:return null}})(le):null):null,At.createElement("div",{"data-content":"",className:ni(null==M?void 0:M.content,null==(o=null==m?void 0:m.classNames)?void 0:o.content)},At.createElement("div",{"data-title":"",className:ni(null==M?void 0:M.title,null==(l=null==m?void 0:m.classNames)?void 0:l.title)},"function"==typeof m.title?m.title():m.title),m.description?At.createElement("div",{"data-description":"",className:ni(T,ue,null==M?void 0:M.description,null==(c=null==m?void 0:m.classNames)?void 0:c.description)},"function"==typeof m.description?m.description():m.description):null),Pt.isValidElement(m.cancel)?m.cancel:m.cancel&&ti(m.cancel)?At.createElement("button",{"data-button":!0,"data-cancel":!0,style:m.cancelButtonStyle||S,onClick:e=>{var t,s;ti(m.cancel)&&ce&&(null==(s=(t=m.cancel).onClick)||s.call(t,e),ke())},className:ni(null==M?void 0:M.cancelButton,null==(d=null==m?void 0:m.classNames)?void 0:d.cancelButton)},m.cancel.label):null,Pt.isValidElement(m.action)?m.action:m.action&&ti(m.action)?At.createElement("button",{"data-button":!0,"data-action":!0,style:m.actionButtonStyle||E,onClick:e=>{var t,s;ti(m.action)&&(null==(s=(t=m.action).onClick)||s.call(t,e),!e.defaultPrevented&&ke())},className:ni(null==M?void 0:M.actionButton,null==(u=null==m?void 0:m.classNames)?void 0:u.actionButton)},m.action.label):null));var Se,Ee,Ce};function ii(){if("undefined"==typeof window||"undefined"==typeof document)return"ltr";let e=document.documentElement.getAttribute("dir");return"auto"!==e&&e?e:window.getComputedStyle(document.documentElement).direction}function oi(e,t){let s={};return[e,t].forEach((e,t)=>{let r=1===t,n=r?"--mobile-offset":"--offset",a=r?"16px":"32px";function i(e){["top","right","bottom","left"].forEach(t=>{s[`${n}-${t}`]="number"==typeof e?`${e}px`:e})}"number"==typeof e||"string"==typeof e?i(e):"object"==typeof e?["top","right","bottom","left"].forEach(t=>{void 0===e[t]?s[`${n}-${t}`]=a:s[`${n}-${t}`]="number"==typeof e[t]?`${e[t]}px`:e[t]}):i(a)}),s}var li=Pt.forwardRef(function(e,t){let{invert:s,position:r="bottom-right",hotkey:n=["altKey","KeyT"],expand:a,closeButton:i,className:o,offset:l,mobileOffset:c,theme:d="light",richColors:u,duration:h,style:m,visibleToasts:p=si,toastOptions:f,dir:g=ii(),gap:x=ri,loadingIcon:v,icons:y,containerAriaLabel:b="Notifications",pauseWhenPageIsHidden:w}=e,[j,_]=At.useState([]),N=At.useMemo(()=>Array.from(new Set([r].concat(j.filter(e=>e.position).map(e=>e.position)))),[j,r]),[k,S]=At.useState([]),[E,C]=At.useState(!1),[T,R]=At.useState(!1),[O,A]=At.useState("system"!==d?d:"undefined"!=typeof window&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),P=At.useRef(null),I=n.join("+").replace(/Key/g,"").replace(/Digit/g,""),M=At.useRef(null),$=At.useRef(!1),D=At.useCallback(e=>{_(t=>{var s;return null!=(s=t.find(t=>t.id===e.id))&&s.delete||Qa.dismiss(e.id),t.filter(({id:t})=>t!==e.id)})},[]);return At.useEffect(()=>Qa.subscribe(e=>{e.dismiss?_(t=>t.map(t=>t.id===e.id?{...t,delete:!0}:t)):setTimeout(()=>{It.flushSync(()=>{_(t=>{let s=t.findIndex(t=>t.id===e.id);return-1!==s?[...t.slice(0,s),{...t[s],...e},...t.slice(s+1)]:[e,...t]})})})}),[]),At.useEffect(()=>{if("system"!==d)return void A(d);if("system"===d&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?A("dark"):A("light")),"undefined"==typeof window)return;let e=window.matchMedia("(prefers-color-scheme: dark)");try{e.addEventListener("change",({matches:e})=>{A(e?"dark":"light")})}catch(t){e.addListener(({matches:e})=>{try{A(e?"dark":"light")}catch(t){}})}},[d]),At.useEffect(()=>{j.length<=1&&C(!1)},[j]),At.useEffect(()=>{let e=e=>{var t,s;n.every(t=>e[t]||e.code===t)&&(C(!0),null==(t=P.current)||t.focus()),"Escape"===e.code&&(document.activeElement===P.current||null!=(s=P.current)&&s.contains(document.activeElement))&&C(!1)};return document.addEventListener("keydown",e),()=>document.removeEventListener("keydown",e)},[n]),At.useEffect(()=>{if(P.current)return()=>{M.current&&(M.current.focus({preventScroll:!0}),M.current=null,$.current=!1)}},[P.current]),At.createElement("section",{ref:t,"aria-label":`${b} ${I}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},N.map((t,r)=>{var n;let[d,b]=t.split("-");return j.length?At.createElement("ol",{key:t,dir:"auto"===g?ii():g,tabIndex:-1,ref:P,className:o,"data-sonner-toaster":!0,"data-theme":O,"data-y-position":d,"data-lifted":E&&j.length>1&&!a,"data-x-position":b,style:{"--front-toast-height":`${(null==(n=k[0])?void 0:n.height)||0}px`,"--width":"356px","--gap":`${x}px`,...m,...oi(l,c)},onBlur:e=>{$.current&&!e.currentTarget.contains(e.relatedTarget)&&($.current=!1,M.current&&(M.current.focus({preventScroll:!0}),M.current=null))},onFocus:e=>{e.target instanceof HTMLElement&&"false"===e.target.dataset.dismissible||$.current||($.current=!0,M.current=e.relatedTarget)},onMouseEnter:()=>C(!0),onMouseMove:()=>C(!0),onMouseLeave:()=>{T||C(!1)},onDragEnd:()=>C(!1),onPointerDown:e=>{e.target instanceof HTMLElement&&"false"===e.target.dataset.dismissible||R(!0)},onPointerUp:()=>R(!1)},j.filter(e=>!e.position&&0===r||e.position===t).map((r,n)=>{var o,l;return At.createElement(ai,{key:r.id,icons:y,index:n,toast:r,defaultRichColors:u,duration:null!=(o=null==f?void 0:f.duration)?o:h,className:null==f?void 0:f.className,descriptionClassName:null==f?void 0:f.descriptionClassName,invert:s,visibleToasts:p,closeButton:null!=(l=null==f?void 0:f.closeButton)?l:i,interacting:T,position:t,style:null==f?void 0:f.style,unstyled:null==f?void 0:f.unstyled,classNames:null==f?void 0:f.classNames,cancelButtonStyle:null==f?void 0:f.cancelButtonStyle,actionButtonStyle:null==f?void 0:f.actionButtonStyle,removeToast:D,toasts:j.filter(e=>e.position==r.position),heights:k.filter(e=>e.position==r.position),setHeights:S,expandByDefault:a,gap:x,loadingIcon:v,expanded:E,pauseWhenPageIsHidden:w,swipeDirections:e.swipeDirections})})):null}))});const ci=({...e})=>{const{theme:t="system"}=null!=(s=Pt.useContext(qa))?s:za;var s;return Ce.jsx(li,{theme:t,className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...e})};var[di,ui]=Se("Tooltip",[Fe]),hi=Fe(),mi="TooltipProvider",pi=700,fi="tooltip.open",[gi,xi]=di(mi),vi=e=>{const{__scopeTooltip:t,delayDuration:s=pi,skipDelayDuration:r=300,disableHoverableContent:n=!1,children:a}=e,i=Pt.useRef(!0),o=Pt.useRef(!1),l=Pt.useRef(0);return Pt.useEffect(()=>{const e=l.current;return()=>window.clearTimeout(e)},[]),Ce.jsx(gi,{scope:t,isOpenDelayedRef:i,delayDuration:s,onOpen:Pt.useCallback(()=>{window.clearTimeout(l.current),i.current=!1},[]),onClose:Pt.useCallback(()=>{window.clearTimeout(l.current),l.current=window.setTimeout(()=>i.current=!0,r)},[r]),isPointerInTransitRef:o,onPointerInTransitChange:Pt.useCallback(e=>{o.current=e},[]),disableHoverableContent:n,children:a})};vi.displayName=mi;var yi="Tooltip",[bi,wi]=di(yi),ji="TooltipTrigger";Pt.forwardRef((e,t)=>{const{__scopeTooltip:s,...r}=e,n=wi(ji,s),a=xi(ji,s),i=hi(s),o=Pt.useRef(null),l=Ee(t,o,n.onTriggerChange),c=Pt.useRef(!1),d=Pt.useRef(!1),u=Pt.useCallback(()=>c.current=!1,[]);return Pt.useEffect(()=>()=>document.removeEventListener("pointerup",u),[u]),Ce.jsx(Be,{asChild:!0,...i,children:Ce.jsx(Re.button,{"aria-describedby":n.open?n.contentId:void 0,"data-state":n.stateAttribute,...r,ref:l,onPointerMove:Me(e.onPointerMove,e=>{"touch"!==e.pointerType&&(d.current||a.isPointerInTransitRef.current||(n.onTriggerEnter(),d.current=!0))}),onPointerLeave:Me(e.onPointerLeave,()=>{n.onTriggerLeave(),d.current=!1}),onPointerDown:Me(e.onPointerDown,()=>{n.open&&n.onClose(),c.current=!0,document.addEventListener("pointerup",u,{once:!0})}),onFocus:Me(e.onFocus,()=>{c.current||n.onOpen()}),onBlur:Me(e.onBlur,n.onClose),onClick:Me(e.onClick,n.onClose)})})}).displayName=ji;var[_i,Ni]=di("TooltipPortal",{forceMount:void 0}),ki="TooltipContent",Si=Pt.forwardRef((e,t)=>{const s=Ni(ki,e.__scopeTooltip),{forceMount:r=s.forceMount,side:n="top",...a}=e,i=wi(ki,e.__scopeTooltip);return Ce.jsx(Pe,{present:r||i.open,children:i.disableHoverableContent?Ce.jsx(Oi,{side:n,...a,ref:t}):Ce.jsx(Ei,{side:n,...a,ref:t})})}),Ei=Pt.forwardRef((e,t)=>{const s=wi(ki,e.__scopeTooltip),r=xi(ki,e.__scopeTooltip),n=Pt.useRef(null),a=Ee(t,n),[i,o]=Pt.useState(null),{trigger:l,onClose:c}=s,d=n.current,{onPointerInTransitChange:u}=r,h=Pt.useCallback(()=>{o(null),u(!1)},[u]),m=Pt.useCallback((e,t)=>{const s=e.currentTarget,r={x:e.clientX,y:e.clientY},n=function(e,t,s=5){const r=[];switch(t){case"top":r.push({x:e.x-s,y:e.y+s},{x:e.x+s,y:e.y+s});break;case"bottom":r.push({x:e.x-s,y:e.y-s},{x:e.x+s,y:e.y-s});break;case"left":r.push({x:e.x+s,y:e.y-s},{x:e.x+s,y:e.y+s});break;case"right":r.push({x:e.x-s,y:e.y-s},{x:e.x-s,y:e.y+s})}return r}(r,function(e,t){const s=Math.abs(t.top-e.y),r=Math.abs(t.bottom-e.y),n=Math.abs(t.right-e.x),a=Math.abs(t.left-e.x);switch(Math.min(s,r,n,a)){case a:return"left";case n:return"right";case s:return"top";case r:return"bottom";default:throw new Error("unreachable")}}(r,s.getBoundingClientRect())),a=function(e){const t=e.slice();return t.sort((e,t)=>e.x<t.x?-1:e.x>t.x?1:e.y<t.y?-1:e.y>t.y?1:0),function(e){if(e.length<=1)return e.slice();const t=[];for(let r=0;r<e.length;r++){const s=e[r];for(;t.length>=2;){const e=t[t.length-1],r=t[t.length-2];if(!((e.x-r.x)*(s.y-r.y)>=(e.y-r.y)*(s.x-r.x)))break;t.pop()}t.push(s)}t.pop();const s=[];for(let r=e.length-1;r>=0;r--){const t=e[r];for(;s.length>=2;){const e=s[s.length-1],r=s[s.length-2];if(!((e.x-r.x)*(t.y-r.y)>=(e.y-r.y)*(t.x-r.x)))break;s.pop()}s.push(t)}return s.pop(),1===t.length&&1===s.length&&t[0].x===s[0].x&&t[0].y===s[0].y?t:t.concat(s)}(t)}([...n,...function(e){const{top:t,right:s,bottom:r,left:n}=e;return[{x:n,y:t},{x:s,y:t},{x:s,y:r},{x:n,y:r}]}(t.getBoundingClientRect())]);o(a),u(!0)},[u]);return Pt.useEffect(()=>()=>h(),[h]),Pt.useEffect(()=>{if(l&&d){const e=e=>m(e,d),t=e=>m(e,l);return l.addEventListener("pointerleave",e),d.addEventListener("pointerleave",t),()=>{l.removeEventListener("pointerleave",e),d.removeEventListener("pointerleave",t)}}},[l,d,m,h]),Pt.useEffect(()=>{if(i){const e=e=>{const t=e.target,s={x:e.clientX,y:e.clientY},r=(null==l?void 0:l.contains(t))||(null==d?void 0:d.contains(t)),n=!function(e,t){const{x:s,y:r}=e;let n=!1;for(let a=0,i=t.length-1;a<t.length;i=a++){const e=t[a],o=t[i],l=e.x,c=e.y,d=o.x,u=o.y;c>r!=u>r&&s<(d-l)*(r-c)/(u-c)+l&&(n=!n)}return n}(s,i);r?h():n&&(h(),c())};return document.addEventListener("pointermove",e),()=>document.removeEventListener("pointermove",e)}},[l,d,i,c,h]),Ce.jsx(Oi,{...e,ref:a})}),[Ci,Ti]=di(yi,{isInside:!1}),Ri=Ke("TooltipContent"),Oi=Pt.forwardRef((e,t)=>{const{__scopeTooltip:s,children:r,"aria-label":n,onEscapeKeyDown:a,onPointerDownOutside:i,...o}=e,l=wi(ki,s),c=hi(s),{onClose:d}=l;return Pt.useEffect(()=>(document.addEventListener(fi,d),()=>document.removeEventListener(fi,d)),[d]),Pt.useEffect(()=>{if(l.trigger){const e=e=>{const t=e.target;(null==t?void 0:t.contains(l.trigger))&&d()};return window.addEventListener("scroll",e,{capture:!0}),()=>window.removeEventListener("scroll",e,{capture:!0})}},[l.trigger,d]),Ce.jsx(qe,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:a,onPointerDownOutside:i,onFocusOutside:e=>e.preventDefault(),onDismiss:d,children:Ce.jsxs(ze,{"data-state":l.stateAttribute,...c,...o,ref:t,style:{...o.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[Ce.jsx(Ri,{children:r}),Ce.jsx(Ci,{scope:s,isInside:!0,children:Ce.jsx(We,{id:l.contentId,role:"tooltip",children:n||r})})]})})});Si.displayName=ki;var Ai="TooltipArrow";Pt.forwardRef((e,t)=>{const{__scopeTooltip:s,...r}=e,n=hi(s);return Ti(Ai,s).isInside?null:Ce.jsx(He,{...n,...r,ref:t})}).displayName=Ai;var Pi=Si;const Ii=vi;Pt.forwardRef(({className:e,sideOffset:t=4,...s},r)=>Ce.jsx(Pi,{ref:r,sideOffset:t,className:Aa("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...s})).displayName=Pi.displayName;var Mi=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},$i="undefined"==typeof window||"Deno"in globalThis;function Di(){}function Li(e){return"number"==typeof e&&e>=0&&e!==1/0}function Ui(e,t){return Math.max(e+(t||0)-Date.now(),0)}function Fi(e,t){return"function"==typeof e?e(t):e}function Bi(e,t){return"function"==typeof e?e(t):e}function qi(e,t){const{type:s="all",exact:r,fetchStatus:n,predicate:a,queryKey:i,stale:o}=e;if(i)if(r){if(t.queryHash!==Wi(i,t.options))return!1}else if(!Ki(t.queryKey,i))return!1;if("all"!==s){const e=t.isActive();if("active"===s&&!e)return!1;if("inactive"===s&&e)return!1}return("boolean"!=typeof o||t.isStale()===o)&&((!n||n===t.state.fetchStatus)&&!(a&&!a(t)))}function zi(e,t){const{exact:s,status:r,predicate:n,mutationKey:a}=e;if(a){if(!t.options.mutationKey)return!1;if(s){if(Hi(t.options.mutationKey)!==Hi(a))return!1}else if(!Ki(t.options.mutationKey,a))return!1}return(!r||t.state.status===r)&&!(n&&!n(t))}function Wi(e,t){return((null==t?void 0:t.queryKeyHashFn)||Hi)(e)}function Hi(e){return JSON.stringify(e,(e,t)=>Ji(t)?Object.keys(t).sort().reduce((e,s)=>(e[s]=t[s],e),{}):t)}function Ki(e,t){return e===t||typeof e==typeof t&&(!(!e||!t||"object"!=typeof e||"object"!=typeof t)&&Object.keys(t).every(s=>Ki(e[s],t[s])))}function Vi(e,t){if(e===t)return e;const s=Zi(e)&&Zi(t);if(s||Ji(e)&&Ji(t)){const r=s?e:Object.keys(e),n=r.length,a=s?t:Object.keys(t),i=a.length,o=s?[]:{},l=new Set(r);let c=0;for(let d=0;d<i;d++){const r=s?d:a[d];(!s&&l.has(r)||s)&&void 0===e[r]&&void 0===t[r]?(o[r]=void 0,c++):(o[r]=Vi(e[r],t[r]),o[r]===e[r]&&void 0!==e[r]&&c++)}return n===i&&c===n?e:o}return t}function Gi(e,t){if(!t||Object.keys(e).length!==Object.keys(t).length)return!1;for(const s in e)if(e[s]!==t[s])return!1;return!0}function Zi(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function Ji(e){if(!Yi(e))return!1;const t=e.constructor;if(void 0===t)return!0;const s=t.prototype;return!!Yi(s)&&(!!s.hasOwnProperty("isPrototypeOf")&&Object.getPrototypeOf(e)===Object.prototype)}function Yi(e){return"[object Object]"===Object.prototype.toString.call(e)}function Qi(e,t,s){return"function"==typeof s.structuralSharing?s.structuralSharing(e,t):!1!==s.structuralSharing?Vi(e,t):t}function Xi(e,t,s=0){const r=[...e,t];return s&&r.length>s?r.slice(1):r}function eo(e,t,s=0){const r=[t,...e];return s&&r.length>s?r.slice(0,-1):r}var to=Symbol();function so(e,t){return!e.queryFn&&(null==t?void 0:t.initialPromise)?()=>t.initialPromise:e.queryFn&&e.queryFn!==to?e.queryFn:()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`))}var ro=new(a=class extends Mi{constructor(){super(),we(this,s),we(this,r),we(this,n),je(this,n,e=>{if(!$i&&window.addEventListener){const t=()=>e();return window.addEventListener("visibilitychange",t,!1),()=>{window.removeEventListener("visibilitychange",t)}}})}onSubscribe(){be(this,r)||this.setEventListener(be(this,n))}onUnsubscribe(){var e;this.hasListeners()||(null==(e=be(this,r))||e.call(this),je(this,r,void 0))}setEventListener(e){var t;je(this,n,e),null==(t=be(this,r))||t.call(this),je(this,r,e(e=>{"boolean"==typeof e?this.setFocused(e):this.onFocus()}))}setFocused(e){be(this,s)!==e&&(je(this,s,e),this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(t=>{t(e)})}isFocused(){var e;return"boolean"==typeof be(this,s)?be(this,s):"hidden"!==(null==(e=globalThis.document)?void 0:e.visibilityState)}},s=new WeakMap,r=new WeakMap,n=new WeakMap,a),no=new(c=class extends Mi{constructor(){super(),we(this,i,!0),we(this,o),we(this,l),je(this,l,e=>{if(!$i&&window.addEventListener){const t=()=>e(!0),s=()=>e(!1);return window.addEventListener("online",t,!1),window.addEventListener("offline",s,!1),()=>{window.removeEventListener("online",t),window.removeEventListener("offline",s)}}})}onSubscribe(){be(this,o)||this.setEventListener(be(this,l))}onUnsubscribe(){var e;this.hasListeners()||(null==(e=be(this,o))||e.call(this),je(this,o,void 0))}setEventListener(e){var t;je(this,l,e),null==(t=be(this,o))||t.call(this),je(this,o,e(this.setOnline.bind(this)))}setOnline(e){be(this,i)!==e&&(je(this,i,e),this.listeners.forEach(t=>{t(e)}))}isOnline(){return be(this,i)}},i=new WeakMap,o=new WeakMap,l=new WeakMap,c);function ao(){let e,t;const s=new Promise((s,r)=>{e=s,t=r});function r(e){Object.assign(s,e),delete s.resolve,delete s.reject}return s.status="pending",s.catch(()=>{}),s.resolve=t=>{r({status:"fulfilled",value:t}),e(t)},s.reject=e=>{r({status:"rejected",reason:e}),t(e)},s}function io(e){return Math.min(1e3*2**e,3e4)}function oo(e){return"online"!==(e??"online")||no.isOnline()}var lo=class extends Error{constructor(e){super("CancelledError"),this.revert=null==e?void 0:e.revert,this.silent=null==e?void 0:e.silent}};function co(e){return e instanceof lo}function uo(e){let t,s=!1,r=0,n=!1;const a=ao(),i=()=>ro.isFocused()&&("always"===e.networkMode||no.isOnline())&&e.canRun(),o=()=>oo(e.networkMode)&&e.canRun(),l=s=>{var r;n||(n=!0,null==(r=e.onSuccess)||r.call(e,s),null==t||t(),a.resolve(s))},c=s=>{var r;n||(n=!0,null==(r=e.onError)||r.call(e,s),null==t||t(),a.reject(s))},d=()=>new Promise(s=>{var r;t=e=>{(n||i())&&s(e)},null==(r=e.onPause)||r.call(e)}).then(()=>{var s;t=void 0,n||null==(s=e.onContinue)||s.call(e)}),u=()=>{if(n)return;let t;const a=0===r?e.initialPromise:void 0;try{t=a??e.fn()}catch(o){t=Promise.reject(o)}Promise.resolve(t).then(l).catch(t=>{var a;if(n)return;const o=e.retry??($i?0:3),l=e.retryDelay??io,h="function"==typeof l?l(r,t):l,m=!0===o||"number"==typeof o&&r<o||"function"==typeof o&&o(r,t);var p;!s&&m?(r++,null==(a=e.onFail)||a.call(e,r,t),(p=h,new Promise(e=>{setTimeout(e,p)})).then(()=>i()?void 0:d()).then(()=>{s?c(t):u()})):c(t)})};return{promise:a,cancel:t=>{var s;n||(c(new lo(t)),null==(s=e.abort)||s.call(e))},continue:()=>(null==t||t(),a),cancelRetry:()=>{s=!0},continueRetry:()=>{s=!1},canStart:o,start:()=>(o()?u():d().then(u),a)}}var ho=e=>setTimeout(e,0);var mo=function(){let e=[],t=0,s=e=>{e()},r=e=>{e()},n=ho;const a=r=>{t?e.push(r):n(()=>{s(r)})};return{batch:a=>{let i;t++;try{i=a()}finally{t--,t||(()=>{const t=e;e=[],t.length&&n(()=>{r(()=>{t.forEach(e=>{s(e)})})})})()}return i},batchCalls:e=>(...t)=>{a(()=>{e(...t)})},schedule:a,setNotifyFunction:e=>{s=e},setBatchNotifyFunction:e=>{r=e},setScheduler:e=>{n=e}}}(),po=(u=class{constructor(){we(this,d)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),Li(this.gcTime)&&je(this,d,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??($i?1/0:3e5))}clearGcTimeout(){be(this,d)&&(clearTimeout(be(this,d)),je(this,d,void 0))}},d=new WeakMap,u),fo=(w=class extends po{constructor(e){super(),we(this,y),we(this,h),we(this,m),we(this,p),we(this,f),we(this,g),we(this,x),we(this,v),je(this,v,!1),je(this,x,e.defaultOptions),this.setOptions(e.options),this.observers=[],je(this,f,e.client),je(this,p,be(this,f).getQueryCache()),this.queryKey=e.queryKey,this.queryHash=e.queryHash,je(this,h,function(e){const t="function"==typeof e.initialData?e.initialData():e.initialData,s=void 0!==t,r=s?"function"==typeof e.initialDataUpdatedAt?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:s?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:s?"success":"pending",fetchStatus:"idle"}}(this.options)),this.state=e.state??be(this,h),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var e;return null==(e=be(this,g))?void 0:e.promise}setOptions(e){this.options={...be(this,x),...e},this.updateGcTime(this.options.gcTime)}optionalRemove(){this.observers.length||"idle"!==this.state.fetchStatus||be(this,p).remove(this)}setData(e,t){const s=Qi(this.state.data,e,this.options);return _e(this,y,b).call(this,{data:s,type:"success",dataUpdatedAt:null==t?void 0:t.updatedAt,manual:null==t?void 0:t.manual}),s}setState(e,t){_e(this,y,b).call(this,{type:"setState",state:e,setStateOptions:t})}cancel(e){var t,s;const r=null==(t=be(this,g))?void 0:t.promise;return null==(s=be(this,g))||s.cancel(e),r?r.then(Di).catch(Di):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(be(this,h))}isActive(){return this.observers.some(e=>!1!==Bi(e.options.enabled,this))}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===to||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0&&this.observers.some(e=>"static"===Fi(e.options.staleTime,this))}isStale(){return this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):void 0===this.state.data||this.state.isInvalidated}isStaleByTime(e=0){return void 0===this.state.data||"static"!==e&&(!!this.state.isInvalidated||!Ui(this.state.dataUpdatedAt,e))}onFocus(){var e;const t=this.observers.find(e=>e.shouldFetchOnWindowFocus());null==t||t.refetch({cancelRefetch:!1}),null==(e=be(this,g))||e.continue()}onOnline(){var e;const t=this.observers.find(e=>e.shouldFetchOnReconnect());null==t||t.refetch({cancelRefetch:!1}),null==(e=be(this,g))||e.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),be(this,p).notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(t=>t!==e),this.observers.length||(be(this,g)&&(be(this,v)?be(this,g).cancel({revert:!0}):be(this,g).cancelRetry()),this.scheduleGc()),be(this,p).notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||_e(this,y,b).call(this,{type:"invalidate"})}fetch(e,t){var s,r,n;if("idle"!==this.state.fetchStatus)if(void 0!==this.state.data&&(null==t?void 0:t.cancelRefetch))this.cancel({silent:!0});else if(be(this,g))return be(this,g).continueRetry(),be(this,g).promise;if(e&&this.setOptions(e),!this.options.queryFn){const e=this.observers.find(e=>e.options.queryFn);e&&this.setOptions(e.options)}const a=new AbortController,i=e=>{Object.defineProperty(e,"signal",{enumerable:!0,get:()=>(je(this,v,!0),a.signal)})},o=()=>{const e=so(this.options,t),s=(()=>{const e={client:be(this,f),queryKey:this.queryKey,meta:this.meta};return i(e),e})();return je(this,v,!1),this.options.persister?this.options.persister(e,s,this):e(s)},l=(()=>{const e={fetchOptions:t,options:this.options,queryKey:this.queryKey,client:be(this,f),state:this.state,fetchFn:o};return i(e),e})();null==(s=this.options.behavior)||s.onFetch(l,this),je(this,m,this.state),"idle"!==this.state.fetchStatus&&this.state.fetchMeta===(null==(r=l.fetchOptions)?void 0:r.meta)||_e(this,y,b).call(this,{type:"fetch",meta:null==(n=l.fetchOptions)?void 0:n.meta});const c=e=>{var t,s,r,n;co(e)&&e.silent||_e(this,y,b).call(this,{type:"error",error:e}),co(e)||(null==(s=(t=be(this,p).config).onError)||s.call(t,e,this),null==(n=(r=be(this,p).config).onSettled)||n.call(r,this.state.data,e,this)),this.scheduleGc()};return je(this,g,uo({initialPromise:null==t?void 0:t.initialPromise,fn:l.fetchFn,abort:a.abort.bind(a),onSuccess:e=>{var t,s,r,n;if(void 0!==e){try{this.setData(e)}catch(a){return void c(a)}null==(s=(t=be(this,p).config).onSuccess)||s.call(t,e,this),null==(n=(r=be(this,p).config).onSettled)||n.call(r,e,this.state.error,this),this.scheduleGc()}else c(new Error(`${this.queryHash} data is undefined`))},onError:c,onFail:(e,t)=>{_e(this,y,b).call(this,{type:"failed",failureCount:e,error:t})},onPause:()=>{_e(this,y,b).call(this,{type:"pause"})},onContinue:()=>{_e(this,y,b).call(this,{type:"continue"})},retry:l.options.retry,retryDelay:l.options.retryDelay,networkMode:l.options.networkMode,canRun:()=>!0})),be(this,g).start()}},h=new WeakMap,m=new WeakMap,p=new WeakMap,f=new WeakMap,g=new WeakMap,x=new WeakMap,v=new WeakMap,y=new WeakSet,b=function(e){this.state=(t=>{switch(e.type){case"failed":return{...t,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...t,fetchStatus:"paused"};case"continue":return{...t,fetchStatus:"fetching"};case"fetch":return{...t,...go(t.data,this.options),fetchMeta:e.meta??null};case"success":return je(this,m,void 0),{...t,data:e.data,dataUpdateCount:t.dataUpdateCount+1,dataUpdatedAt:e.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const s=e.error;return co(s)&&s.revert&&be(this,m)?{...be(this,m),fetchStatus:"idle"}:{...t,error:s,errorUpdateCount:t.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:t.fetchFailureCount+1,fetchFailureReason:s,fetchStatus:"idle",status:"error"};case"invalidate":return{...t,isInvalidated:!0};case"setState":return{...t,...e.state}}})(this.state),mo.batch(()=>{this.observers.forEach(e=>{e.onQueryUpdate()}),be(this,p).notify({query:this,type:"updated",action:e})})},w);function go(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:oo(t.networkMode)?"fetching":"paused",...void 0===e&&{error:null,status:"pending"}}}var xo=(_=class extends Mi{constructor(e={}){super(),we(this,j),this.config=e,je(this,j,new Map)}build(e,t,s){const r=t.queryKey,n=t.queryHash??Wi(r,t);let a=this.get(n);return a||(a=new fo({client:e,queryKey:r,queryHash:n,options:e.defaultQueryOptions(t),state:s,defaultOptions:e.getQueryDefaults(r)}),this.add(a)),a}add(e){be(this,j).has(e.queryHash)||(be(this,j).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const t=be(this,j).get(e.queryHash);t&&(e.destroy(),t===e&&be(this,j).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){mo.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return be(this,j).get(e)}getAll(){return[...be(this,j).values()]}find(e){const t={exact:!0,...e};return this.getAll().find(e=>qi(t,e))}findAll(e={}){const t=this.getAll();return Object.keys(e).length>0?t.filter(t=>qi(e,t)):t}notify(e){mo.batch(()=>{this.listeners.forEach(t=>{t(e)})})}onFocus(){mo.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){mo.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},j=new WeakMap,_),vo=(T=class extends po{constructor(e){super(),we(this,E),we(this,N),we(this,k),we(this,S),this.mutationId=e.mutationId,je(this,k,e.mutationCache),je(this,N,[]),this.state=e.state||{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0},this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){be(this,N).includes(e)||(be(this,N).push(e),this.clearGcTimeout(),be(this,k).notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){je(this,N,be(this,N).filter(t=>t!==e)),this.scheduleGc(),be(this,k).notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){be(this,N).length||("pending"===this.state.status?this.scheduleGc():be(this,k).remove(this))}continue(){var e;return(null==(e=be(this,S))?void 0:e.continue())??this.execute(this.state.variables)}async execute(e){var t,s,r,n,a,i,o,l,c,d,u,h,m,p,f,g,x,v,y,b;const w=()=>{_e(this,E,C).call(this,{type:"continue"})};je(this,S,uo({fn:()=>this.options.mutationFn?this.options.mutationFn(e):Promise.reject(new Error("No mutationFn found")),onFail:(e,t)=>{_e(this,E,C).call(this,{type:"failed",failureCount:e,error:t})},onPause:()=>{_e(this,E,C).call(this,{type:"pause"})},onContinue:w,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>be(this,k).canRun(this)}));const j="pending"===this.state.status,_=!be(this,S).canStart();try{if(j)w();else{_e(this,E,C).call(this,{type:"pending",variables:e,isPaused:_}),await(null==(s=(t=be(this,k).config).onMutate)?void 0:s.call(t,e,this));const a=await(null==(n=(r=this.options).onMutate)?void 0:n.call(r,e));a!==this.state.context&&_e(this,E,C).call(this,{type:"pending",context:a,variables:e,isPaused:_})}const m=await be(this,S).start();return await(null==(i=(a=be(this,k).config).onSuccess)?void 0:i.call(a,m,e,this.state.context,this)),await(null==(l=(o=this.options).onSuccess)?void 0:l.call(o,m,e,this.state.context)),await(null==(d=(c=be(this,k).config).onSettled)?void 0:d.call(c,m,null,this.state.variables,this.state.context,this)),await(null==(h=(u=this.options).onSettled)?void 0:h.call(u,m,null,e,this.state.context)),_e(this,E,C).call(this,{type:"success",data:m}),m}catch(N){try{throw await(null==(p=(m=be(this,k).config).onError)?void 0:p.call(m,N,e,this.state.context,this)),await(null==(g=(f=this.options).onError)?void 0:g.call(f,N,e,this.state.context)),await(null==(v=(x=be(this,k).config).onSettled)?void 0:v.call(x,void 0,N,this.state.variables,this.state.context,this)),await(null==(b=(y=this.options).onSettled)?void 0:b.call(y,void 0,N,e,this.state.context)),N}finally{_e(this,E,C).call(this,{type:"error",error:N})}}finally{be(this,k).runNext(this)}}},N=new WeakMap,k=new WeakMap,S=new WeakMap,E=new WeakSet,C=function(e){this.state=(t=>{switch(e.type){case"failed":return{...t,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...t,isPaused:!0};case"continue":return{...t,isPaused:!1};case"pending":return{...t,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...t,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...t,data:void 0,error:e.error,failureCount:t.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}})(this.state),mo.batch(()=>{be(this,N).forEach(t=>{t.onMutationUpdate(e)}),be(this,k).notify({mutation:this,type:"updated",action:e})})},T);var yo=(P=class extends Mi{constructor(e={}){super(),we(this,R),we(this,O),we(this,A),this.config=e,je(this,R,new Set),je(this,O,new Map),je(this,A,0)}build(e,t,s){const r=new vo({mutationCache:this,mutationId:++Ne(this,A)._,options:e.defaultMutationOptions(t),state:s});return this.add(r),r}add(e){be(this,R).add(e);const t=bo(e);if("string"==typeof t){const s=be(this,O).get(t);s?s.push(e):be(this,O).set(t,[e])}this.notify({type:"added",mutation:e})}remove(e){if(be(this,R).delete(e)){const t=bo(e);if("string"==typeof t){const s=be(this,O).get(t);if(s)if(s.length>1){const t=s.indexOf(e);-1!==t&&s.splice(t,1)}else s[0]===e&&be(this,O).delete(t)}}this.notify({type:"removed",mutation:e})}canRun(e){const t=bo(e);if("string"==typeof t){const s=be(this,O).get(t),r=null==s?void 0:s.find(e=>"pending"===e.state.status);return!r||r===e}return!0}runNext(e){var t;const s=bo(e);if("string"==typeof s){const r=null==(t=be(this,O).get(s))?void 0:t.find(t=>t!==e&&t.state.isPaused);return(null==r?void 0:r.continue())??Promise.resolve()}return Promise.resolve()}clear(){mo.batch(()=>{be(this,R).forEach(e=>{this.notify({type:"removed",mutation:e})}),be(this,R).clear(),be(this,O).clear()})}getAll(){return Array.from(be(this,R))}find(e){const t={exact:!0,...e};return this.getAll().find(e=>zi(t,e))}findAll(e={}){return this.getAll().filter(t=>zi(e,t))}notify(e){mo.batch(()=>{this.listeners.forEach(t=>{t(e)})})}resumePausedMutations(){const e=this.getAll().filter(e=>e.state.isPaused);return mo.batch(()=>Promise.all(e.map(e=>e.continue().catch(Di))))}},R=new WeakMap,O=new WeakMap,A=new WeakMap,P);function bo(e){var t;return null==(t=e.options.scope)?void 0:t.id}function wo(e){return{onFetch:(t,s)=>{var r,n,a,i,o;const l=t.options,c=null==(a=null==(n=null==(r=t.fetchOptions)?void 0:r.meta)?void 0:n.fetchMore)?void 0:a.direction,d=(null==(i=t.state.data)?void 0:i.pages)||[],u=(null==(o=t.state.data)?void 0:o.pageParams)||[];let h={pages:[],pageParams:[]},m=0;const p=async()=>{let s=!1;const r=so(t.options,t.fetchOptions),n=async(e,n,a)=>{if(s)return Promise.reject();if(null==n&&e.pages.length)return Promise.resolve(e);const i=(()=>{const e={client:t.client,queryKey:t.queryKey,pageParam:n,direction:a?"backward":"forward",meta:t.options.meta};var r;return r=e,Object.defineProperty(r,"signal",{enumerable:!0,get:()=>(t.signal.aborted?s=!0:t.signal.addEventListener("abort",()=>{s=!0}),t.signal)}),e})(),o=await r(i),{maxPages:l}=t.options,c=a?eo:Xi;return{pages:c(e.pages,o,l),pageParams:c(e.pageParams,n,l)}};if(c&&d.length){const e="backward"===c,t={pages:d,pageParams:u},s=(e?_o:jo)(l,t);h=await n(t,s,e)}else{const t=e??d.length;do{const e=0===m?u[0]??l.initialPageParam:jo(l,h);if(m>0&&null==e)break;h=await n(h,e),m++}while(m<t)}return h};t.options.persister?t.fetchFn=()=>{var e,r;return null==(r=(e=t.options).persister)?void 0:r.call(e,p,{client:t.client,queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},s)}:t.fetchFn=p}}}function jo(e,{pages:t,pageParams:s}){const r=t.length-1;return t.length>0?e.getNextPageParam(t[r],t,s[r],s):void 0}function _o(e,{pages:t,pageParams:s}){var r;return t.length>0?null==(r=e.getPreviousPageParam)?void 0:r.call(e,t[0],t,s[0],s):void 0}var No=(q=class{constructor(e={}){we(this,I),we(this,M),we(this,$),we(this,D),we(this,L),we(this,U),we(this,F),we(this,B),je(this,I,e.queryCache||new xo),je(this,M,e.mutationCache||new yo),je(this,$,e.defaultOptions||{}),je(this,D,new Map),je(this,L,new Map),je(this,U,0)}mount(){Ne(this,U)._++,1===be(this,U)&&(je(this,F,ro.subscribe(async e=>{e&&(await this.resumePausedMutations(),be(this,I).onFocus())})),je(this,B,no.subscribe(async e=>{e&&(await this.resumePausedMutations(),be(this,I).onOnline())})))}unmount(){var e,t;Ne(this,U)._--,0===be(this,U)&&(null==(e=be(this,F))||e.call(this),je(this,F,void 0),null==(t=be(this,B))||t.call(this),je(this,B,void 0))}isFetching(e){return be(this,I).findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return be(this,M).findAll({...e,status:"pending"}).length}getQueryData(e){var t;const s=this.defaultQueryOptions({queryKey:e});return null==(t=be(this,I).get(s.queryHash))?void 0:t.state.data}ensureQueryData(e){const t=this.defaultQueryOptions(e),s=be(this,I).build(this,t),r=s.state.data;return void 0===r?this.fetchQuery(e):(e.revalidateIfStale&&s.isStaleByTime(Fi(t.staleTime,s))&&this.prefetchQuery(t),Promise.resolve(r))}getQueriesData(e){return be(this,I).findAll(e).map(({queryKey:e,state:t})=>[e,t.data])}setQueryData(e,t,s){const r=this.defaultQueryOptions({queryKey:e}),n=be(this,I).get(r.queryHash),a=function(e,t){return"function"==typeof e?e(t):e}(t,null==n?void 0:n.state.data);if(void 0!==a)return be(this,I).build(this,r).setData(a,{...s,manual:!0})}setQueriesData(e,t,s){return mo.batch(()=>be(this,I).findAll(e).map(({queryKey:e})=>[e,this.setQueryData(e,t,s)]))}getQueryState(e){var t;const s=this.defaultQueryOptions({queryKey:e});return null==(t=be(this,I).get(s.queryHash))?void 0:t.state}removeQueries(e){const t=be(this,I);mo.batch(()=>{t.findAll(e).forEach(e=>{t.remove(e)})})}resetQueries(e,t){const s=be(this,I);return mo.batch(()=>(s.findAll(e).forEach(e=>{e.reset()}),this.refetchQueries({type:"active",...e},t)))}cancelQueries(e,t={}){const s={revert:!0,...t},r=mo.batch(()=>be(this,I).findAll(e).map(e=>e.cancel(s)));return Promise.all(r).then(Di).catch(Di)}invalidateQueries(e,t={}){return mo.batch(()=>(be(this,I).findAll(e).forEach(e=>{e.invalidate()}),"none"===(null==e?void 0:e.refetchType)?Promise.resolve():this.refetchQueries({...e,type:(null==e?void 0:e.refetchType)??(null==e?void 0:e.type)??"active"},t)))}refetchQueries(e,t={}){const s={...t,cancelRefetch:t.cancelRefetch??!0},r=mo.batch(()=>be(this,I).findAll(e).filter(e=>!e.isDisabled()&&!e.isStatic()).map(e=>{let t=e.fetch(void 0,s);return s.throwOnError||(t=t.catch(Di)),"paused"===e.state.fetchStatus?Promise.resolve():t}));return Promise.all(r).then(Di)}fetchQuery(e){const t=this.defaultQueryOptions(e);void 0===t.retry&&(t.retry=!1);const s=be(this,I).build(this,t);return s.isStaleByTime(Fi(t.staleTime,s))?s.fetch(t):Promise.resolve(s.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(Di).catch(Di)}fetchInfiniteQuery(e){return e.behavior=wo(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(Di).catch(Di)}ensureInfiniteQueryData(e){return e.behavior=wo(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return no.isOnline()?be(this,M).resumePausedMutations():Promise.resolve()}getQueryCache(){return be(this,I)}getMutationCache(){return be(this,M)}getDefaultOptions(){return be(this,$)}setDefaultOptions(e){je(this,$,e)}setQueryDefaults(e,t){be(this,D).set(Hi(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...be(this,D).values()],s={};return t.forEach(t=>{Ki(e,t.queryKey)&&Object.assign(s,t.defaultOptions)}),s}setMutationDefaults(e,t){be(this,L).set(Hi(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...be(this,L).values()],s={};return t.forEach(t=>{Ki(e,t.mutationKey)&&Object.assign(s,t.defaultOptions)}),s}defaultQueryOptions(e){if(e._defaulted)return e;const t={...be(this,$).queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=Wi(t.queryKey,t)),void 0===t.refetchOnReconnect&&(t.refetchOnReconnect="always"!==t.networkMode),void 0===t.throwOnError&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.queryFn===to&&(t.enabled=!1),t}defaultMutationOptions(e){return(null==e?void 0:e._defaulted)?e:{...be(this,$).mutations,...(null==e?void 0:e.mutationKey)&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){be(this,I).clear(),be(this,M).clear()}},I=new WeakMap,M=new WeakMap,$=new WeakMap,D=new WeakMap,L=new WeakMap,U=new WeakMap,F=new WeakMap,B=new WeakMap,q),ko=(pe=class extends Mi{constructor(e,t){super(),we(this,ne),we(this,z),we(this,W),we(this,H),we(this,K),we(this,V),we(this,G),we(this,Z),we(this,J),we(this,Y),we(this,Q),we(this,X),we(this,ee),we(this,te),we(this,se),we(this,re,new Set),this.options=t,je(this,z,e),je(this,J,null),je(this,Z,ao()),this.options.experimental_prefetchInRender||be(this,Z).reject(new Error("experimental_prefetchInRender feature flag is not enabled")),this.bindMethods(),this.setOptions(t)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){1===this.listeners.size&&(be(this,W).addObserver(this),So(be(this,W),this.options)?_e(this,ne,ae).call(this):this.updateResult(),_e(this,ne,ce).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return Eo(be(this,W),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return Eo(be(this,W),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,_e(this,ne,de).call(this),_e(this,ne,ue).call(this),be(this,W).removeObserver(this)}setOptions(e){const t=this.options,s=be(this,W);if(this.options=be(this,z).defaultQueryOptions(e),void 0!==this.options.enabled&&"boolean"!=typeof this.options.enabled&&"function"!=typeof this.options.enabled&&"boolean"!=typeof Bi(this.options.enabled,be(this,W)))throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");_e(this,ne,he).call(this),be(this,W).setOptions(this.options),t._defaulted&&!Gi(this.options,t)&&be(this,z).getQueryCache().notify({type:"observerOptionsUpdated",query:be(this,W),observer:this});const r=this.hasListeners();r&&Co(be(this,W),s,this.options,t)&&_e(this,ne,ae).call(this),this.updateResult(),!r||be(this,W)===s&&Bi(this.options.enabled,be(this,W))===Bi(t.enabled,be(this,W))&&Fi(this.options.staleTime,be(this,W))===Fi(t.staleTime,be(this,W))||_e(this,ne,ie).call(this);const n=_e(this,ne,oe).call(this);!r||be(this,W)===s&&Bi(this.options.enabled,be(this,W))===Bi(t.enabled,be(this,W))&&n===be(this,se)||_e(this,ne,le).call(this,n)}getOptimisticResult(e){const t=be(this,z).getQueryCache().build(be(this,z),e),s=this.createResult(t,e);return function(e,t){if(!Gi(e.getCurrentResult(),t))return!0;return!1}(this,s)&&(je(this,K,s),je(this,G,this.options),je(this,V,be(this,W).state)),s}getCurrentResult(){return be(this,K)}trackResult(e,t){return new Proxy(e,{get:(e,s)=>(this.trackProp(s),null==t||t(s),Reflect.get(e,s))})}trackProp(e){be(this,re).add(e)}getCurrentQuery(){return be(this,W)}refetch({...e}={}){return this.fetch({...e})}fetchOptimistic(e){const t=be(this,z).defaultQueryOptions(e),s=be(this,z).getQueryCache().build(be(this,z),t);return s.fetch().then(()=>this.createResult(s,t))}fetch(e){return _e(this,ne,ae).call(this,{...e,cancelRefetch:e.cancelRefetch??!0}).then(()=>(this.updateResult(),be(this,K)))}createResult(e,t){var s;const r=be(this,W),n=this.options,a=be(this,K),i=be(this,V),o=be(this,G),l=e!==r?e.state:be(this,H),{state:c}=e;let d,u={...c},h=!1;if(t._optimisticResults){const s=this.hasListeners(),a=!s&&So(e,t),i=s&&Co(e,r,t,n);(a||i)&&(u={...u,...go(c.data,e.options)}),"isRestoring"===t._optimisticResults&&(u.fetchStatus="idle")}let{error:m,errorUpdatedAt:p,status:f}=u;d=u.data;let g=!1;if(void 0!==t.placeholderData&&void 0===d&&"pending"===f){let e;(null==a?void 0:a.isPlaceholderData)&&t.placeholderData===(null==o?void 0:o.placeholderData)?(e=a.data,g=!0):e="function"==typeof t.placeholderData?t.placeholderData(null==(s=be(this,X))?void 0:s.state.data,be(this,X)):t.placeholderData,void 0!==e&&(f="success",d=Qi(null==a?void 0:a.data,e,t),h=!0)}if(t.select&&void 0!==d&&!g)if(a&&d===(null==i?void 0:i.data)&&t.select===be(this,Y))d=be(this,Q);else try{je(this,Y,t.select),d=t.select(d),d=Qi(null==a?void 0:a.data,d,t),je(this,Q,d),je(this,J,null)}catch(_){je(this,J,_)}be(this,J)&&(m=be(this,J),d=be(this,Q),p=Date.now(),f="error");const x="fetching"===u.fetchStatus,v="pending"===f,y="error"===f,b=v&&x,w=void 0!==d,j={status:f,fetchStatus:u.fetchStatus,isPending:v,isSuccess:"success"===f,isError:y,isInitialLoading:b,isLoading:b,data:d,dataUpdatedAt:u.dataUpdatedAt,error:m,errorUpdatedAt:p,failureCount:u.fetchFailureCount,failureReason:u.fetchFailureReason,errorUpdateCount:u.errorUpdateCount,isFetched:u.dataUpdateCount>0||u.errorUpdateCount>0,isFetchedAfterMount:u.dataUpdateCount>l.dataUpdateCount||u.errorUpdateCount>l.errorUpdateCount,isFetching:x,isRefetching:x&&!v,isLoadingError:y&&!w,isPaused:"paused"===u.fetchStatus,isPlaceholderData:h,isRefetchError:y&&w,isStale:To(e,t),refetch:this.refetch,promise:be(this,Z),isEnabled:!1!==Bi(t.enabled,e)};if(this.options.experimental_prefetchInRender){const t=e=>{"error"===j.status?e.reject(j.error):void 0!==j.data&&e.resolve(j.data)},s=()=>{const e=je(this,Z,j.promise=ao());t(e)},n=be(this,Z);switch(n.status){case"pending":e.queryHash===r.queryHash&&t(n);break;case"fulfilled":"error"!==j.status&&j.data===n.value||s();break;case"rejected":"error"===j.status&&j.error===n.reason||s()}}return j}updateResult(){const e=be(this,K),t=this.createResult(be(this,W),this.options);if(je(this,V,be(this,W).state),je(this,G,this.options),void 0!==be(this,V).data&&je(this,X,be(this,W)),Gi(t,e))return;je(this,K,t);_e(this,ne,me).call(this,{listeners:(()=>{if(!e)return!0;const{notifyOnChangeProps:t}=this.options,s="function"==typeof t?t():t;if("all"===s||!s&&!be(this,re).size)return!0;const r=new Set(s??be(this,re));return this.options.throwOnError&&r.add("error"),Object.keys(be(this,K)).some(t=>{const s=t;return be(this,K)[s]!==e[s]&&r.has(s)})})()})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&_e(this,ne,ce).call(this)}},z=new WeakMap,W=new WeakMap,H=new WeakMap,K=new WeakMap,V=new WeakMap,G=new WeakMap,Z=new WeakMap,J=new WeakMap,Y=new WeakMap,Q=new WeakMap,X=new WeakMap,ee=new WeakMap,te=new WeakMap,se=new WeakMap,re=new WeakMap,ne=new WeakSet,ae=function(e){_e(this,ne,he).call(this);let t=be(this,W).fetch(this.options,e);return(null==e?void 0:e.throwOnError)||(t=t.catch(Di)),t},ie=function(){_e(this,ne,de).call(this);const e=Fi(this.options.staleTime,be(this,W));if($i||be(this,K).isStale||!Li(e))return;const t=Ui(be(this,K).dataUpdatedAt,e);je(this,ee,setTimeout(()=>{be(this,K).isStale||this.updateResult()},t+1))},oe=function(){return("function"==typeof this.options.refetchInterval?this.options.refetchInterval(be(this,W)):this.options.refetchInterval)??!1},le=function(e){_e(this,ne,ue).call(this),je(this,se,e),!$i&&!1!==Bi(this.options.enabled,be(this,W))&&Li(be(this,se))&&0!==be(this,se)&&je(this,te,setInterval(()=>{(this.options.refetchIntervalInBackground||ro.isFocused())&&_e(this,ne,ae).call(this)},be(this,se)))},ce=function(){_e(this,ne,ie).call(this),_e(this,ne,le).call(this,_e(this,ne,oe).call(this))},de=function(){be(this,ee)&&(clearTimeout(be(this,ee)),je(this,ee,void 0))},ue=function(){be(this,te)&&(clearInterval(be(this,te)),je(this,te,void 0))},he=function(){const e=be(this,z).getQueryCache().build(be(this,z),this.options);if(e===be(this,W))return;const t=be(this,W);je(this,W,e),je(this,H,e.state),this.hasListeners()&&(null==t||t.removeObserver(this),e.addObserver(this))},me=function(e){mo.batch(()=>{e.listeners&&this.listeners.forEach(e=>{e(be(this,K))}),be(this,z).getQueryCache().notify({query:be(this,W),type:"observerResultsUpdated"})})},pe);function So(e,t){return function(e,t){return!1!==Bi(t.enabled,e)&&void 0===e.state.data&&!("error"===e.state.status&&!1===t.retryOnMount)}(e,t)||void 0!==e.state.data&&Eo(e,t,t.refetchOnMount)}function Eo(e,t,s){if(!1!==Bi(t.enabled,e)&&"static"!==Fi(t.staleTime,e)){const r="function"==typeof s?s(e):s;return"always"===r||!1!==r&&To(e,t)}return!1}function Co(e,t,s,r){return(e!==t||!1===Bi(r.enabled,e))&&(!s.suspense||"error"!==e.state.status)&&To(e,s)}function To(e,t){return!1!==Bi(t.enabled,e)&&e.isStaleByTime(Fi(t.staleTime,e))}var Ro=Pt.createContext(void 0),Oo=e=>{const t=Pt.useContext(Ro);if(!t)throw new Error("No QueryClient set, use QueryClientProvider to set one");return t},Ao=({client:e,children:t})=>(Pt.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),Ce.jsx(Ro.Provider,{value:e,children:t})),Po=Pt.createContext(!1);Po.Provider;var Io=Pt.createContext(function(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}()),Mo=(e,t,s)=>t.fetchOptimistic(e).catch(()=>{s.clearReset()});function $o(e,t,s){var r,n,a,i,o;const l=Pt.useContext(Po),c=Pt.useContext(Io),d=Oo(),u=d.defaultQueryOptions(e);null==(n=null==(r=d.getDefaultOptions().queries)?void 0:r._experimental_beforeQuery)||n.call(r,u),u._optimisticResults=l?"isRestoring":"optimistic",(e=>{if(e.suspense){const t=e=>"static"===e?e:Math.max(e??1e3,1e3),s=e.staleTime;e.staleTime="function"==typeof s?(...e)=>t(s(...e)):t(s),"number"==typeof e.gcTime&&(e.gcTime=Math.max(e.gcTime,1e3))}})(u),((e,t)=>{(e.suspense||e.throwOnError||e.experimental_prefetchInRender)&&(t.isReset()||(e.retryOnMount=!1))})(u,c),(e=>{Pt.useEffect(()=>{e.clearReset()},[e])})(c);const h=!d.getQueryCache().get(u.queryHash),[m]=Pt.useState(()=>new t(d,u)),p=m.getOptimisticResult(u),f=!l&&!1!==e.subscribed;if(Pt.useSyncExternalStore(Pt.useCallback(e=>{const t=f?m.subscribe(mo.batchCalls(e)):Di;return m.updateResult(),t},[m,f]),()=>m.getCurrentResult(),()=>m.getCurrentResult()),Pt.useEffect(()=>{m.setOptions(u)},[u,m]),((e,t)=>(null==e?void 0:e.suspense)&&t.isPending)(u,p))throw Mo(u,m,c);if((({result:e,errorResetBoundary:t,throwOnError:s,query:r,suspense:n})=>e.isError&&!t.isReset()&&!e.isFetching&&r&&(n&&void 0===e.data||function(e,t){return"function"==typeof e?e(...t):!!e}(s,[e.error,r])))({result:p,errorResetBoundary:c,throwOnError:u.throwOnError,query:d.getQueryCache().get(u.queryHash),suspense:u.suspense}))throw p.error;if(null==(i=null==(a=d.getDefaultOptions().queries)?void 0:a._experimental_afterQuery)||i.call(a,u,p),u.experimental_prefetchInRender&&!$i&&((e,t)=>e.isLoading&&e.isFetching&&!t)(p,l)){const e=h?Mo(u,m,c):null==(o=d.getQueryCache().get(u.queryHash))?void 0:o.promise;null==e||e.catch(Di).finally(()=>{m.updateResult()})}return u.notifyOnChangeProps?p:m.trackResult(p)}function Do(e,t){return $o(e,ko)}const Lo=zr("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),Uo=Pt.forwardRef(({className:e,variant:t,size:s,asChild:r=!1,...n},a)=>{const i=r?Ve:"button";return Ce.jsx(i,{className:Aa(Lo({variant:t,size:s,className:e})),ref:a,...n})});Uo.displayName="Button";const Fo=Pt.forwardRef(({className:e,...t},s)=>Ce.jsx("div",{ref:s,className:Aa("rounded-lg border bg-card text-card-foreground shadow-sm",e),...t}));Fo.displayName="Card";const Bo=Pt.forwardRef(({className:e,...t},s)=>Ce.jsx("div",{ref:s,className:Aa("flex flex-col space-y-1.5 p-6",e),...t}));Bo.displayName="CardHeader";const qo=Pt.forwardRef(({className:e,...t},s)=>Ce.jsx("h3",{ref:s,className:Aa("text-2xl font-semibold leading-none tracking-tight",e),...t}));qo.displayName="CardTitle";const zo=Pt.forwardRef(({className:e,...t},s)=>Ce.jsx("p",{ref:s,className:Aa("text-sm text-muted-foreground",e),...t}));zo.displayName="CardDescription";const Wo=Pt.forwardRef(({className:e,...t},s)=>Ce.jsx("div",{ref:s,className:Aa("p-6 pt-0",e),...t}));Wo.displayName="CardContent";Pt.forwardRef(({className:e,...t},s)=>Ce.jsx("div",{ref:s,className:Aa("flex items-center p-6 pt-0",e),...t})).displayName="CardFooter";class Ho extends Pt.Component{constructor(){super(...arguments),ve(this,"state",{hasError:!1}),ve(this,"handleReset",()=>{this.setState({hasError:!1,error:void 0}),window.location.reload()})}static getDerivedStateFromError(e){return{hasError:!0,error:e}}componentDidCatch(e,t){}render(){return this.state.hasError?this.props.fallback?this.props.fallback:Ce.jsx("div",{className:"min-h-screen flex items-center justify-center bg-background p-4",children:Ce.jsxs(Fo,{className:"max-w-md w-full",children:[Ce.jsx(Bo,{children:Ce.jsxs("div",{className:"flex items-center gap-2",children:[Ce.jsx(Pn,{className:"h-6 w-6 text-destructive"}),Ce.jsx(qo,{children:"Something went wrong"})]})}),Ce.jsxs(Wo,{className:"space-y-4",children:[Ce.jsx("p",{className:"text-muted-foreground",children:"We apologize for the inconvenience. An unexpected error has occurred."}),this.state.error&&Ce.jsxs("details",{className:"text-xs text-muted-foreground",children:[Ce.jsx("summary",{className:"cursor-pointer",children:"Error details"}),Ce.jsx("pre",{className:"mt-2 p-2 bg-muted rounded overflow-auto",children:this.state.error.message})]}),Ce.jsx(Uo,{onClick:this.handleReset,className:"w-full",children:"Reload Page"})]})]})}):this.props.children}}class Ko extends Error{constructor(e,t="FunctionsError",s){super(e),this.name=t,this.context=s}}class Vo extends Ko{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class Go extends Ko{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class Zo extends Ko{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var Jo,Yo;(Yo=Jo||(Jo={})).Any="any",Yo.ApNortheast1="ap-northeast-1",Yo.ApNortheast2="ap-northeast-2",Yo.ApSouth1="ap-south-1",Yo.ApSoutheast1="ap-southeast-1",Yo.ApSoutheast2="ap-southeast-2",Yo.CaCentral1="ca-central-1",Yo.EuCentral1="eu-central-1",Yo.EuWest1="eu-west-1",Yo.EuWest2="eu-west-2",Yo.EuWest3="eu-west-3",Yo.SaEast1="sa-east-1",Yo.UsEast1="us-east-1",Yo.UsWest1="us-west-1",Yo.UsWest2="us-west-2";class Qo{constructor(e,{headers:t={},customFetch:s,region:r=Jo.Any}={}){this.url=e,this.headers=t,this.region=r,this.fetch=(e=>e?(...t)=>e(...t):(...e)=>fetch(...e))(s)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e){return Ge(this,arguments,void 0,function*(e,t={}){var s;let r,n;try{const{headers:a,method:i,body:o,signal:l,timeout:c}=t;let d={},{region:u}=t;u||(u=this.region);const h=new URL(`${this.url}/${e}`);let m;u&&"any"!==u&&(d["x-region"]=u,h.searchParams.set("forceFunctionRegion",u)),o&&(a&&!Object.prototype.hasOwnProperty.call(a,"Content-Type")||!a)?"undefined"!=typeof Blob&&o instanceof Blob||o instanceof ArrayBuffer?(d["Content-Type"]="application/octet-stream",m=o):"string"==typeof o?(d["Content-Type"]="text/plain",m=o):"undefined"!=typeof FormData&&o instanceof FormData?m=o:(d["Content-Type"]="application/json",m=JSON.stringify(o)):m=o;let p=l;c&&(n=new AbortController,r=setTimeout(()=>n.abort(),c),l?(p=n.signal,l.addEventListener("abort",()=>n.abort())):p=n.signal);const f=yield this.fetch(h.toString(),{method:i||"POST",headers:Object.assign(Object.assign(Object.assign({},d),this.headers),a),body:m,signal:p}).catch(e=>{throw new Vo(e)}),g=f.headers.get("x-relay-error");if(g&&"true"===g)throw new Go(f);if(!f.ok)throw new Zo(f);let x,v=(null!==(s=f.headers.get("Content-Type"))&&void 0!==s?s:"text/plain").split(";")[0].trim();return x="application/json"===v?yield f.json():"application/octet-stream"===v||"application/pdf"===v?yield f.blob():"text/event-stream"===v?f:"multipart/form-data"===v?yield f.formData():yield f.text(),{data:x,error:null,response:f}}catch(a){return{data:null,error:a,response:a instanceof Zo||a instanceof Go?a.context:void 0}}finally{r&&clearTimeout(r)}})}}var Xo={};const el=Mt(Ze);var tl,sl,rl,nl,al,il,ol={},ll={},cl={},dl={},ul={},hl={};function ml(){if(tl)return hl;tl=1,Object.defineProperty(hl,"__esModule",{value:!0});class e extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}}return hl.default=e,hl}function pl(){if(sl)return ul;sl=1,Object.defineProperty(ul,"__esModule",{value:!0});const e=el.__importDefault(ml());return ul.default=class{constructor(e){var t,s;this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=new Headers(e.headers),this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=null!==(t=e.shouldThrowOnError)&&void 0!==t&&t,this.signal=e.signal,this.isMaybeSingle=null!==(s=e.isMaybeSingle)&&void 0!==s&&s,e.fetch?this.fetch=e.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,t){return this.headers=new Headers(this.headers),this.headers.set(e,t),this}then(t,s){void 0===this.schema||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),"GET"!==this.method&&"HEAD"!==this.method&&this.headers.set("Content-Type","application/json");let r=(0,this.fetch)(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async t=>{var s,r,n,a;let i=null,o=null,l=null,c=t.status,d=t.statusText;if(t.ok){if("HEAD"!==this.method){const e=await t.text();""===e||(o="text/csv"===this.headers.get("Accept")||this.headers.get("Accept")&&(null===(s=this.headers.get("Accept"))||void 0===s?void 0:s.includes("application/vnd.pgrst.plan+text"))?e:JSON.parse(e))}const e=null===(r=this.headers.get("Prefer"))||void 0===r?void 0:r.match(/count=(exact|planned|estimated)/),a=null===(n=t.headers.get("content-range"))||void 0===n?void 0:n.split("/");e&&a&&a.length>1&&(l=parseInt(a[1])),this.isMaybeSingle&&"GET"===this.method&&Array.isArray(o)&&(o.length>1?(i={code:"PGRST116",details:`Results contain ${o.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},o=null,l=null,c=406,d="Not Acceptable"):o=1===o.length?o[0]:null)}else{const s=await t.text();try{i=JSON.parse(s),Array.isArray(i)&&404===t.status&&(o=[],i=null,c=200,d="OK")}catch(u){404===t.status&&""===s?(c=204,d="No Content"):i={message:s}}if(i&&this.isMaybeSingle&&(null===(a=null==i?void 0:i.details)||void 0===a?void 0:a.includes("0 rows"))&&(i=null,c=200,d="OK"),i&&this.shouldThrowOnError)throw new e.default(i)}return{error:i,data:o,count:l,status:c,statusText:d}});return this.shouldThrowOnError||(r=r.catch(e=>{var t,s,r;return{error:{message:`${null!==(t=null==e?void 0:e.name)&&void 0!==t?t:"FetchError"}: ${null==e?void 0:e.message}`,details:`${null!==(s=null==e?void 0:e.stack)&&void 0!==s?s:""}`,hint:"",code:`${null!==(r=null==e?void 0:e.code)&&void 0!==r?r:""}`},data:null,count:null,status:0,statusText:""}})),r.then(t,s)}returns(){return this}overrideTypes(){return this}},ul}function fl(){if(rl)return dl;rl=1,Object.defineProperty(dl,"__esModule",{value:!0});const e=el.__importDefault(pl());class t extends e.default{select(e){let t=!1;const s=(null!=e?e:"*").split("").map(e=>/\s/.test(e)&&!t?"":('"'===e&&(t=!t),e)).join("");return this.url.searchParams.set("select",s),this.headers.append("Prefer","return=representation"),this}order(e,{ascending:t=!0,nullsFirst:s,foreignTable:r,referencedTable:n=r}={}){const a=n?`${n}.order`:"order",i=this.url.searchParams.get(a);return this.url.searchParams.set(a,`${i?`${i},`:""}${e}.${t?"asc":"desc"}${void 0===s?"":s?".nullsfirst":".nullslast"}`),this}limit(e,{foreignTable:t,referencedTable:s=t}={}){const r=void 0===s?"limit":`${s}.limit`;return this.url.searchParams.set(r,`${e}`),this}range(e,t,{foreignTable:s,referencedTable:r=s}={}){const n=void 0===r?"offset":`${r}.offset`,a=void 0===r?"limit":`${r}.limit`;return this.url.searchParams.set(n,`${e}`),this.url.searchParams.set(a,""+(t-e+1)),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return"GET"===this.method?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:e=!1,verbose:t=!1,settings:s=!1,buffers:r=!1,wal:n=!1,format:a="text"}={}){var i;const o=[e?"analyze":null,t?"verbose":null,s?"settings":null,r?"buffers":null,n?"wal":null].filter(Boolean).join("|"),l=null!==(i=this.headers.get("Accept"))&&void 0!==i?i:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${a}; for="${l}"; options=${o};`),this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(e){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${e}`),this}}return dl.default=t,dl}function gl(){if(nl)return cl;nl=1,Object.defineProperty(cl,"__esModule",{value:!0});const e=el.__importDefault(fl()),t=new RegExp("[,()]");class s extends e.default{eq(e,t){return this.url.searchParams.append(e,`eq.${t}`),this}neq(e,t){return this.url.searchParams.append(e,`neq.${t}`),this}gt(e,t){return this.url.searchParams.append(e,`gt.${t}`),this}gte(e,t){return this.url.searchParams.append(e,`gte.${t}`),this}lt(e,t){return this.url.searchParams.append(e,`lt.${t}`),this}lte(e,t){return this.url.searchParams.append(e,`lte.${t}`),this}like(e,t){return this.url.searchParams.append(e,`like.${t}`),this}likeAllOf(e,t){return this.url.searchParams.append(e,`like(all).{${t.join(",")}}`),this}likeAnyOf(e,t){return this.url.searchParams.append(e,`like(any).{${t.join(",")}}`),this}ilike(e,t){return this.url.searchParams.append(e,`ilike.${t}`),this}ilikeAllOf(e,t){return this.url.searchParams.append(e,`ilike(all).{${t.join(",")}}`),this}ilikeAnyOf(e,t){return this.url.searchParams.append(e,`ilike(any).{${t.join(",")}}`),this}is(e,t){return this.url.searchParams.append(e,`is.${t}`),this}in(e,s){const r=Array.from(new Set(s)).map(e=>"string"==typeof e&&t.test(e)?`"${e}"`:`${e}`).join(",");return this.url.searchParams.append(e,`in.(${r})`),this}contains(e,t){return"string"==typeof t?this.url.searchParams.append(e,`cs.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cs.{${t.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(t)}`),this}containedBy(e,t){return"string"==typeof t?this.url.searchParams.append(e,`cd.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cd.{${t.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(t)}`),this}rangeGt(e,t){return this.url.searchParams.append(e,`sr.${t}`),this}rangeGte(e,t){return this.url.searchParams.append(e,`nxl.${t}`),this}rangeLt(e,t){return this.url.searchParams.append(e,`sl.${t}`),this}rangeLte(e,t){return this.url.searchParams.append(e,`nxr.${t}`),this}rangeAdjacent(e,t){return this.url.searchParams.append(e,`adj.${t}`),this}overlaps(e,t){return"string"==typeof t?this.url.searchParams.append(e,`ov.${t}`):this.url.searchParams.append(e,`ov.{${t.join(",")}}`),this}textSearch(e,t,{config:s,type:r}={}){let n="";"plain"===r?n="pl":"phrase"===r?n="ph":"websearch"===r&&(n="w");const a=void 0===s?"":`(${s})`;return this.url.searchParams.append(e,`${n}fts${a}.${t}`),this}match(e){return Object.entries(e).forEach(([e,t])=>{this.url.searchParams.append(e,`eq.${t}`)}),this}not(e,t,s){return this.url.searchParams.append(e,`not.${t}.${s}`),this}or(e,{foreignTable:t,referencedTable:s=t}={}){const r=s?`${s}.or`:"or";return this.url.searchParams.append(r,`(${e})`),this}filter(e,t,s){return this.url.searchParams.append(e,`${t}.${s}`),this}}return cl.default=s,cl}function xl(){if(al)return ll;al=1,Object.defineProperty(ll,"__esModule",{value:!0});const e=el.__importDefault(gl());return ll.default=class{constructor(e,{headers:t={},schema:s,fetch:r}){this.url=e,this.headers=new Headers(t),this.schema=s,this.fetch=r}select(t,s){const{head:r=!1,count:n}=null!=s?s:{},a=r?"HEAD":"GET";let i=!1;const o=(null!=t?t:"*").split("").map(e=>/\s/.test(e)&&!i?"":('"'===e&&(i=!i),e)).join("");return this.url.searchParams.set("select",o),n&&this.headers.append("Prefer",`count=${n}`),new e.default({method:a,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(t,{count:s,defaultToNull:r=!0}={}){var n;if(s&&this.headers.append("Prefer",`count=${s}`),r||this.headers.append("Prefer","missing=default"),Array.isArray(t)){const e=t.reduce((e,t)=>e.concat(Object.keys(t)),[]);if(e.length>0){const t=[...new Set(e)].map(e=>`"${e}"`);this.url.searchParams.set("columns",t.join(","))}}return new e.default({method:"POST",url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:null!==(n=this.fetch)&&void 0!==n?n:fetch})}upsert(t,{onConflict:s,ignoreDuplicates:r=!1,count:n,defaultToNull:a=!0}={}){var i;if(this.headers.append("Prefer",`resolution=${r?"ignore":"merge"}-duplicates`),void 0!==s&&this.url.searchParams.set("on_conflict",s),n&&this.headers.append("Prefer",`count=${n}`),a||this.headers.append("Prefer","missing=default"),Array.isArray(t)){const e=t.reduce((e,t)=>e.concat(Object.keys(t)),[]);if(e.length>0){const t=[...new Set(e)].map(e=>`"${e}"`);this.url.searchParams.set("columns",t.join(","))}}return new e.default({method:"POST",url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:null!==(i=this.fetch)&&void 0!==i?i:fetch})}update(t,{count:s}={}){var r;return s&&this.headers.append("Prefer",`count=${s}`),new e.default({method:"PATCH",url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:null!==(r=this.fetch)&&void 0!==r?r:fetch})}delete({count:t}={}){var s;return t&&this.headers.append("Prefer",`count=${t}`),new e.default({method:"DELETE",url:this.url,headers:this.headers,schema:this.schema,fetch:null!==(s=this.fetch)&&void 0!==s?s:fetch})}},ll}Object.defineProperty(Xo,"__esModule",{value:!0});var vl=Xo.PostgrestError=Xo.PostgrestBuilder=Xo.PostgrestTransformBuilder=Xo.PostgrestFilterBuilder=Xo.PostgrestQueryBuilder=Xo.PostgrestClient=void 0;const yl=el,bl=yl.__importDefault(function(){if(il)return ol;il=1,Object.defineProperty(ol,"__esModule",{value:!0});const e=el,t=e.__importDefault(xl()),s=e.__importDefault(gl());class r{constructor(e,{headers:t={},schema:s,fetch:r}={}){this.url=e,this.headers=new Headers(t),this.schemaName=s,this.fetch=r}from(e){const s=new URL(`${this.url}/${e}`);return new t.default(s,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(e){return new r(this.url,{headers:this.headers,schema:e,fetch:this.fetch})}rpc(e,t={},{head:r=!1,get:n=!1,count:a}={}){var i;let o;const l=new URL(`${this.url}/rpc/${e}`);let c;r||n?(o=r?"HEAD":"GET",Object.entries(t).filter(([e,t])=>void 0!==t).map(([e,t])=>[e,Array.isArray(t)?`{${t.join(",")}}`:`${t}`]).forEach(([e,t])=>{l.searchParams.append(e,t)})):(o="POST",c=t);const d=new Headers(this.headers);return a&&d.set("Prefer",`count=${a}`),new s.default({method:o,url:l,headers:d,schema:this.schemaName,body:c,fetch:null!==(i=this.fetch)&&void 0!==i?i:fetch})}}return ol.default=r,ol}());var wl=Xo.PostgrestClient=bl.default;const jl=yl.__importDefault(xl());var _l=Xo.PostgrestQueryBuilder=jl.default;const Nl=yl.__importDefault(gl());var kl=Xo.PostgrestFilterBuilder=Nl.default;const Sl=yl.__importDefault(fl());var El=Xo.PostgrestTransformBuilder=Sl.default;const Cl=yl.__importDefault(pl());var Tl=Xo.PostgrestBuilder=Cl.default;const Rl=yl.__importDefault(ml());vl=Xo.PostgrestError=Rl.default;var Ol=Xo.default={PostgrestClient:bl.default,PostgrestQueryBuilder:jl.default,PostgrestFilterBuilder:Nl.default,PostgrestTransformBuilder:Sl.default,PostgrestBuilder:Cl.default,PostgrestError:Rl.default};const Al=Ht({__proto__:null,get PostgrestBuilder(){return Tl},get PostgrestClient(){return wl},get PostgrestError(){return vl},get PostgrestFilterBuilder(){return kl},get PostgrestQueryBuilder(){return _l},get PostgrestTransformBuilder(){return El},default:Ol},[Xo]),{PostgrestClient:Pl,PostgrestQueryBuilder:Il,PostgrestFilterBuilder:Ml,PostgrestTransformBuilder:$l,PostgrestBuilder:Dl,PostgrestError:Ll}=Ol||Al;class Ul{static detectEnvironment(){var e;if("undefined"!=typeof WebSocket)return{type:"native",constructor:WebSocket};if("undefined"!=typeof globalThis&&void 0!==globalThis.WebSocket)return{type:"native",constructor:globalThis.WebSocket};if("undefined"!=typeof global&&void 0!==global.WebSocket)return{type:"native",constructor:global.WebSocket};if("undefined"!=typeof globalThis&&void 0!==globalThis.WebSocketPair&&void 0===globalThis.WebSocket)return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if("undefined"!=typeof globalThis&&globalThis.EdgeRuntime||"undefined"!=typeof navigator&&(null===(e=navigator.userAgent)||void 0===e?void 0:e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if("undefined"!=typeof process){const e=process.versions;if(e&&e.node){const t=e.node,s=parseInt(t.replace(/^v/,"").split(".")[0]);return s>=22?void 0!==globalThis.WebSocket?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${s} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${s} detected without native WebSocket support.`,workaround:'For Node.js < 22, install "ws" package and provide it via the transport option:\nimport ws from "ws"\nnew RealtimeClient(url, { transport: ws })'}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let t=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(t+=`\n\nSuggested solution: ${e.workaround}`),new Error(t)}static createWebSocket(e,t){return new(this.getWebSocketConstructor())(e,t)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return"native"===e.type||"ws"===e.type}catch(e){return!1}}}const Fl="1.0.0",Bl=Fl,ql=1e4;var zl,Wl,Hl,Kl,Vl,Gl,Zl,Jl,Yl,Ql,Xl;(Wl=zl||(zl={}))[Wl.connecting=0]="connecting",Wl[Wl.open=1]="open",Wl[Wl.closing=2]="closing",Wl[Wl.closed=3]="closed",(Kl=Hl||(Hl={})).closed="closed",Kl.errored="errored",Kl.joined="joined",Kl.joining="joining",Kl.leaving="leaving",(Gl=Vl||(Vl={})).close="phx_close",Gl.error="phx_error",Gl.join="phx_join",Gl.reply="phx_reply",Gl.leave="phx_leave",Gl.access_token="access_token",(Zl||(Zl={})).websocket="websocket",(Yl=Jl||(Jl={})).Connecting="connecting",Yl.Open="open",Yl.Closing="closing",Yl.Closed="closed";class ec{constructor(){this.HEADER_LENGTH=1,this.META_LENGTH=4,this.USER_BROADCAST_PUSH_META_LENGTH=5,this.KINDS={push:0,reply:1,broadcast:2,userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST="broadcast"}encode(e,t){if(this._isArrayBuffer(e.payload))return t(this._binaryEncodePush(e));if(e.event===this.BROADCAST&&!(e.payload instanceof ArrayBuffer)&&"string"==typeof e.payload.event)return t(this._binaryEncodeUserBroadcastPush(e));let s=[e.join_ref,e.ref,e.topic,e.event,e.payload];return t(JSON.stringify(s))}_binaryEncodePush(e){const{join_ref:t,ref:s,event:r,topic:n,payload:a}=e,i=this.META_LENGTH+t.length+s.length+n.length+r.length,o=new ArrayBuffer(this.HEADER_LENGTH+i);let l=new DataView(o),c=0;l.setUint8(c++,this.KINDS.push),l.setUint8(c++,t.length),l.setUint8(c++,s.length),l.setUint8(c++,n.length),l.setUint8(c++,r.length),Array.from(t,e=>l.setUint8(c++,e.charCodeAt(0))),Array.from(s,e=>l.setUint8(c++,e.charCodeAt(0))),Array.from(n,e=>l.setUint8(c++,e.charCodeAt(0))),Array.from(r,e=>l.setUint8(c++,e.charCodeAt(0)));var d=new Uint8Array(o.byteLength+a.byteLength);return d.set(new Uint8Array(o),0),d.set(new Uint8Array(a),o.byteLength),d.buffer}_binaryEncodeUserBroadcastPush(e){var t;return this._isArrayBuffer(null===(t=e.payload)||void 0===t?void 0:t.payload)?this._encodeBinaryUserBroadcastPush(e):this._encodeJsonUserBroadcastPush(e)}_encodeBinaryUserBroadcastPush(e){var t,s;const{join_ref:r,ref:n,topic:a}=e,i=e.payload.event,o=null!==(s=null===(t=e.payload)||void 0===t?void 0:t.payload)&&void 0!==s?s:new ArrayBuffer(0),l=this.USER_BROADCAST_PUSH_META_LENGTH+r.length+n.length+a.length+i.length,c=new ArrayBuffer(this.HEADER_LENGTH+l);let d=new DataView(c),u=0;d.setUint8(u++,this.KINDS.userBroadcastPush),d.setUint8(u++,r.length),d.setUint8(u++,n.length),d.setUint8(u++,a.length),d.setUint8(u++,i.length),d.setUint8(u++,this.BINARY_ENCODING),Array.from(r,e=>d.setUint8(u++,e.charCodeAt(0))),Array.from(n,e=>d.setUint8(u++,e.charCodeAt(0))),Array.from(a,e=>d.setUint8(u++,e.charCodeAt(0))),Array.from(i,e=>d.setUint8(u++,e.charCodeAt(0)));var h=new Uint8Array(c.byteLength+o.byteLength);return h.set(new Uint8Array(c),0),h.set(new Uint8Array(o),c.byteLength),h.buffer}_encodeJsonUserBroadcastPush(e){var t,s;const{join_ref:r,ref:n,topic:a}=e,i=e.payload.event,o=null!==(s=null===(t=e.payload)||void 0===t?void 0:t.payload)&&void 0!==s?s:{},l=(new TextEncoder).encode(JSON.stringify(o)).buffer,c=this.USER_BROADCAST_PUSH_META_LENGTH+r.length+n.length+a.length+i.length,d=new ArrayBuffer(this.HEADER_LENGTH+c);let u=new DataView(d),h=0;u.setUint8(h++,this.KINDS.userBroadcastPush),u.setUint8(h++,r.length),u.setUint8(h++,n.length),u.setUint8(h++,a.length),u.setUint8(h++,i.length),u.setUint8(h++,this.JSON_ENCODING),Array.from(r,e=>u.setUint8(h++,e.charCodeAt(0))),Array.from(n,e=>u.setUint8(h++,e.charCodeAt(0))),Array.from(a,e=>u.setUint8(h++,e.charCodeAt(0))),Array.from(i,e=>u.setUint8(h++,e.charCodeAt(0)));var m=new Uint8Array(d.byteLength+l.byteLength);return m.set(new Uint8Array(d),0),m.set(new Uint8Array(l),d.byteLength),m.buffer}decode(e,t){if(this._isArrayBuffer(e)){return t(this._binaryDecode(e))}if("string"==typeof e){const s=JSON.parse(e),[r,n,a,i,o]=s;return t({join_ref:r,ref:n,topic:a,event:i,payload:o})}return t({})}_binaryDecode(e){const t=new DataView(e),s=t.getUint8(0),r=new TextDecoder;switch(s){case this.KINDS.push:return this._decodePush(e,t,r);case this.KINDS.reply:return this._decodeReply(e,t,r);case this.KINDS.broadcast:return this._decodeBroadcast(e,t,r);case this.KINDS.userBroadcast:return this._decodeUserBroadcast(e,t,r)}}_decodePush(e,t,s){const r=t.getUint8(1),n=t.getUint8(2),a=t.getUint8(3);let i=this.HEADER_LENGTH+this.META_LENGTH-1;const o=s.decode(e.slice(i,i+r));i+=r;const l=s.decode(e.slice(i,i+n));i+=n;const c=s.decode(e.slice(i,i+a));i+=a;return{join_ref:o,ref:null,topic:l,event:c,payload:JSON.parse(s.decode(e.slice(i,e.byteLength)))}}_decodeReply(e,t,s){const r=t.getUint8(1),n=t.getUint8(2),a=t.getUint8(3),i=t.getUint8(4);let o=this.HEADER_LENGTH+this.META_LENGTH;const l=s.decode(e.slice(o,o+r));o+=r;const c=s.decode(e.slice(o,o+n));o+=n;const d=s.decode(e.slice(o,o+a));o+=a;const u=s.decode(e.slice(o,o+i));o+=i;const h={status:u,response:JSON.parse(s.decode(e.slice(o,e.byteLength)))};return{join_ref:l,ref:c,topic:d,event:Vl.reply,payload:h}}_decodeBroadcast(e,t,s){const r=t.getUint8(1),n=t.getUint8(2);let a=this.HEADER_LENGTH+2;const i=s.decode(e.slice(a,a+r));a+=r;const o=s.decode(e.slice(a,a+n));a+=n;return{join_ref:null,ref:null,topic:i,event:o,payload:JSON.parse(s.decode(e.slice(a,e.byteLength)))}}_decodeUserBroadcast(e,t,s){const r=t.getUint8(1),n=t.getUint8(2),a=t.getUint8(3),i=t.getUint8(4);let o=this.HEADER_LENGTH+4;const l=s.decode(e.slice(o,o+r));o+=r;const c=s.decode(e.slice(o,o+n));o+=n;const d=s.decode(e.slice(o,o+a));o+=a;const u=e.slice(o,e.byteLength),h=i===this.JSON_ENCODING?JSON.parse(s.decode(u)):u,m={type:this.BROADCAST,event:c,payload:h};return a>0&&(m.meta=JSON.parse(d)),{join_ref:null,ref:null,topic:l,event:this.BROADCAST,payload:m}}_isArrayBuffer(e){var t;return e instanceof ArrayBuffer||"ArrayBuffer"===(null===(t=null==e?void 0:e.constructor)||void 0===t?void 0:t.name)}}class tc{constructor(e,t){this.callback=e,this.timerCalc=t,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=t}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}(Xl=Ql||(Ql={})).abstime="abstime",Xl.bool="bool",Xl.date="date",Xl.daterange="daterange",Xl.float4="float4",Xl.float8="float8",Xl.int2="int2",Xl.int4="int4",Xl.int4range="int4range",Xl.int8="int8",Xl.int8range="int8range",Xl.json="json",Xl.jsonb="jsonb",Xl.money="money",Xl.numeric="numeric",Xl.oid="oid",Xl.reltime="reltime",Xl.text="text",Xl.time="time",Xl.timestamp="timestamp",Xl.timestamptz="timestamptz",Xl.timetz="timetz",Xl.tsrange="tsrange",Xl.tstzrange="tstzrange";const sc=(e,t,s={})=>{var r;const n=null!==(r=s.skipTypes)&&void 0!==r?r:[];return t?Object.keys(t).reduce((s,r)=>(s[r]=rc(r,e,t,n),s),{}):{}},rc=(e,t,s,r)=>{const n=t.find(t=>t.name===e),a=null==n?void 0:n.type,i=s[e];return a&&!r.includes(a)?nc(a,i):ac(i)},nc=(e,t)=>{if("_"===e.charAt(0)){const s=e.slice(1,e.length);return cc(t,s)}switch(e){case Ql.bool:return ic(t);case Ql.float4:case Ql.float8:case Ql.int2:case Ql.int4:case Ql.int8:case Ql.numeric:case Ql.oid:return oc(t);case Ql.json:case Ql.jsonb:return lc(t);case Ql.timestamp:return dc(t);case Ql.abstime:case Ql.date:case Ql.daterange:case Ql.int4range:case Ql.int8range:case Ql.money:case Ql.reltime:case Ql.text:case Ql.time:case Ql.timestamptz:case Ql.timetz:case Ql.tsrange:case Ql.tstzrange:default:return ac(t)}},ac=e=>e,ic=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},oc=e=>{if("string"==typeof e){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},lc=e=>{if("string"==typeof e)try{return JSON.parse(e)}catch(t){return e}return e},cc=(e,t)=>{if("string"!=typeof e)return e;const s=e.length-1,r=e[s];if("{"===e[0]&&"}"===r){let r;const a=e.slice(1,s);try{r=JSON.parse("["+a+"]")}catch(n){r=a?a.split(","):[]}return r.map(e=>nc(t,e))}return e},dc=e=>"string"==typeof e?e.replace(" ","T"):e,uc=e=>{const t=new URL(e);return t.protocol=t.protocol.replace(/^ws/i,"http"),t.pathname=t.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),""===t.pathname||"/"===t.pathname?t.pathname="/api/broadcast":t.pathname=t.pathname+"/api/broadcast",t.href};class hc{constructor(e,t,s={},r=1e4){this.channel=e,this.event=t,this.payload=s,this.timeout=r,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,t){var s;return this._hasReceived(e)&&t(null===(s=this.receivedResp)||void 0===s?void 0:s.response),this.recHooks.push({status:e,callback:t}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);this.channel._on(this.refEvent,{},e=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=e,this._matchReceive(e)}),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,t){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:t})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:t}){this.recHooks.filter(t=>t.status===e).forEach(e=>e.callback(t))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var mc,pc,fc,gc,xc,vc,yc,bc;(pc=mc||(mc={})).SYNC="sync",pc.JOIN="join",pc.LEAVE="leave";class wc{constructor(e,t){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const s=(null==t?void 0:t.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(s.state,{},e=>{const{onJoin:t,onLeave:s,onSync:r}=this.caller;this.joinRef=this.channel._joinRef(),this.state=wc.syncState(this.state,e,t,s),this.pendingDiffs.forEach(e=>{this.state=wc.syncDiff(this.state,e,t,s)}),this.pendingDiffs=[],r()}),this.channel._on(s.diff,{},e=>{const{onJoin:t,onLeave:s,onSync:r}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(e):(this.state=wc.syncDiff(this.state,e,t,s),r())}),this.onJoin((e,t,s)=>{this.channel._trigger("presence",{event:"join",key:e,currentPresences:t,newPresences:s})}),this.onLeave((e,t,s)=>{this.channel._trigger("presence",{event:"leave",key:e,currentPresences:t,leftPresences:s})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,t,s,r){const n=this.cloneDeep(e),a=this.transformState(t),i={},o={};return this.map(n,(e,t)=>{a[e]||(o[e]=t)}),this.map(a,(e,t)=>{const s=n[e];if(s){const r=t.map(e=>e.presence_ref),n=s.map(e=>e.presence_ref),a=t.filter(e=>n.indexOf(e.presence_ref)<0),l=s.filter(e=>r.indexOf(e.presence_ref)<0);a.length>0&&(i[e]=a),l.length>0&&(o[e]=l)}else i[e]=t}),this.syncDiff(n,{joins:i,leaves:o},s,r)}static syncDiff(e,t,s,r){const{joins:n,leaves:a}={joins:this.transformState(t.joins),leaves:this.transformState(t.leaves)};return s||(s=()=>{}),r||(r=()=>{}),this.map(n,(t,r)=>{var n;const a=null!==(n=e[t])&&void 0!==n?n:[];if(e[t]=this.cloneDeep(r),a.length>0){const s=e[t].map(e=>e.presence_ref),r=a.filter(e=>s.indexOf(e.presence_ref)<0);e[t].unshift(...r)}s(t,a,r)}),this.map(a,(t,s)=>{let n=e[t];if(!n)return;const a=s.map(e=>e.presence_ref);n=n.filter(e=>a.indexOf(e.presence_ref)<0),e[t]=n,r(t,n,s),0===n.length&&delete e[t]}),e}static map(e,t){return Object.getOwnPropertyNames(e).map(s=>t(s,e[s]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((t,s)=>{const r=e[s];return t[s]="metas"in r?r.metas.map(e=>(e.presence_ref=e.phx_ref,delete e.phx_ref,delete e.phx_ref_prev,e)):r,t},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}(gc=fc||(fc={})).ALL="*",gc.INSERT="INSERT",gc.UPDATE="UPDATE",gc.DELETE="DELETE",(vc=xc||(xc={})).BROADCAST="broadcast",vc.PRESENCE="presence",vc.POSTGRES_CHANGES="postgres_changes",vc.SYSTEM="system",(bc=yc||(yc={})).SUBSCRIBED="SUBSCRIBED",bc.TIMED_OUT="TIMED_OUT",bc.CLOSED="CLOSED",bc.CHANNEL_ERROR="CHANNEL_ERROR";class jc{constructor(e,t={config:{}},s){var r,n;if(this.topic=e,this.params=t,this.socket=s,this.bindings={},this.state=Hl.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},t.config),this.timeout=this.socket.timeout,this.joinPush=new hc(this,Vl.join,this.params,this.timeout),this.rejoinTimer=new tc(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Hl.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(e=>e.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Hl.closed,this.socket._remove(this)}),this._onError(e=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,e),this.state=Hl.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Hl.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",e=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,e),this.state=Hl.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Vl.reply,{},(e,t)=>{this._trigger(this._replyEventName(t),e)}),this.presence=new wc(this),this.broadcastEndpointURL=uc(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(null===(n=null===(r=this.params.config)||void 0===r?void 0:r.broadcast)||void 0===n?void 0:n.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(e,t=this.timeout){var s,r,n;if(this.socket.isConnected()||this.socket.connect(),this.state==Hl.closed){const{config:{broadcast:a,presence:i,private:o}}=this.params,l=null!==(r=null===(s=this.bindings.postgres_changes)||void 0===s?void 0:s.map(e=>e.filter))&&void 0!==r?r:[],c=!!this.bindings[xc.PRESENCE]&&this.bindings[xc.PRESENCE].length>0||!0===(null===(n=this.params.config.presence)||void 0===n?void 0:n.enabled),d={},u={broadcast:a,presence:Object.assign(Object.assign({},i),{enabled:c}),postgres_changes:l,private:o};this.socket.accessTokenValue&&(d.access_token=this.socket.accessTokenValue),this._onError(t=>null==e?void 0:e(yc.CHANNEL_ERROR,t)),this._onClose(()=>null==e?void 0:e(yc.CLOSED)),this.updateJoinPayload(Object.assign({config:u},d)),this.joinedOnce=!0,this._rejoin(t),this.joinPush.receive("ok",async({postgres_changes:t})=>{var s;if(this.socket.setAuth(),void 0!==t){const r=this.bindings.postgres_changes,n=null!==(s=null==r?void 0:r.length)&&void 0!==s?s:0,a=[];for(let s=0;s<n;s++){const n=r[s],{filter:{event:i,schema:o,table:l,filter:c}}=n,d=t&&t[s];if(!d||d.event!==i||d.schema!==o||d.table!==l||d.filter!==c)return this.unsubscribe(),this.state=Hl.errored,void(null==e||e(yc.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes")));a.push(Object.assign(Object.assign({},n),{id:d.id}))}return this.bindings.postgres_changes=a,void(e&&e(yc.SUBSCRIBED))}null==e||e(yc.SUBSCRIBED)}).receive("error",t=>{this.state=Hl.errored,null==e||e(yc.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(t).join(", ")||"error")))}).receive("timeout",()=>{null==e||e(yc.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,t={}){return await this.send({type:"presence",event:"track",payload:e},t.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,t,s){return this.state===Hl.joined&&e===xc.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(e,t,s)}async httpSend(e,t,s={}){var r;const n=this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"";if(null==t)return Promise.reject("Payload is required for httpSend()");const a={method:"POST",headers:{Authorization:n,apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:e,payload:t,private:this.private}]})},i=await this._fetchWithTimeout(this.broadcastEndpointURL,a,null!==(r=s.timeout)&&void 0!==r?r:this.timeout);if(202===i.status)return{success:!0};let o=i.statusText;try{const e=await i.json();o=e.error||e.message||o}catch(l){}return Promise.reject(new Error(o))}async send(e,t={}){var s,r;if(this._canPush()||"broadcast"!==e.type)return new Promise(s=>{var r,n,a;const i=this._push(e.type,e,t.timeout||this.timeout);"broadcast"!==e.type||(null===(a=null===(n=null===(r=this.params)||void 0===r?void 0:r.config)||void 0===n?void 0:n.broadcast)||void 0===a?void 0:a.ack)||s("ok"),i.receive("ok",()=>s("ok")),i.receive("error",()=>s("error")),i.receive("timeout",()=>s("timed out"))});{const{event:a,payload:i}=e,o={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:a,payload:i,private:this.private}]})};try{const e=await this._fetchWithTimeout(this.broadcastEndpointURL,o,null!==(s=t.timeout)&&void 0!==s?s:this.timeout);return await(null===(r=e.body)||void 0===r?void 0:r.cancel()),e.ok?"ok":"error"}catch(n){return"AbortError"===n.name?"timed out":"error"}}}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=Hl.leaving;const t=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Vl.close,"leave",this._joinRef())};this.joinPush.destroy();let s=null;return new Promise(r=>{s=new hc(this,Vl.leave,{},e),s.receive("ok",()=>{t(),r("ok")}).receive("timeout",()=>{t(),r("timed out")}).receive("error",()=>{r("error")}),s.send(),this._canPush()||s.trigger("ok",{})}).finally(()=>{null==s||s.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=Hl.closed,this.bindings={}}async _fetchWithTimeout(e,t,s){const r=new AbortController,n=setTimeout(()=>r.abort(),s),a=await this.socket.fetch(e,Object.assign(Object.assign({},t),{signal:r.signal}));return clearTimeout(n),a}_push(e,t,s=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let r=new hc(this,e,t,s);return this._canPush()?r.send():this._addToPushBuffer(r),r}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>100){const e=this.pushBuffer.shift();e&&(e.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${e.event}`,e.payload))}}_onMessage(e,t,s){return t}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,t,s){var r,n;const a=e.toLocaleLowerCase(),{close:i,error:o,leave:l,join:c}=Vl;if(s&&[i,o,l,c].indexOf(a)>=0&&s!==this._joinRef())return;let d=this._onMessage(a,t,s);if(t&&!d)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(a)?null===(r=this.bindings.postgres_changes)||void 0===r||r.filter(e=>{var t,s,r;return"*"===(null===(t=e.filter)||void 0===t?void 0:t.event)||(null===(r=null===(s=e.filter)||void 0===s?void 0:s.event)||void 0===r?void 0:r.toLocaleLowerCase())===a}).map(e=>e.callback(d,s)):null===(n=this.bindings[a])||void 0===n||n.filter(e=>{var s,r,n,i,o,l;if(["broadcast","presence","postgres_changes"].includes(a)){if("id"in e){const a=e.id,i=null===(s=e.filter)||void 0===s?void 0:s.event;return a&&(null===(r=t.ids)||void 0===r?void 0:r.includes(a))&&("*"===i||(null==i?void 0:i.toLocaleLowerCase())===(null===(n=t.data)||void 0===n?void 0:n.type.toLocaleLowerCase()))}{const s=null===(o=null===(i=null==e?void 0:e.filter)||void 0===i?void 0:i.event)||void 0===o?void 0:o.toLocaleLowerCase();return"*"===s||s===(null===(l=null==t?void 0:t.event)||void 0===l?void 0:l.toLocaleLowerCase())}}return e.type.toLocaleLowerCase()===a}).map(e=>{if("object"==typeof d&&"ids"in d){const e=d.data,{schema:t,table:s,commit_timestamp:r,type:n,errors:a}=e,i={schema:t,table:s,commit_timestamp:r,eventType:n,new:{},old:{},errors:a};d=Object.assign(Object.assign({},i),this._getPayloadRecords(e))}e.callback(d,s)})}_isClosed(){return this.state===Hl.closed}_isJoined(){return this.state===Hl.joined}_isJoining(){return this.state===Hl.joining}_isLeaving(){return this.state===Hl.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,t,s){const r=e.toLocaleLowerCase(),n={type:r,filter:t,callback:s};return this.bindings[r]?this.bindings[r].push(n):this.bindings[r]=[n],this}_off(e,t){const s=e.toLocaleLowerCase();return this.bindings[s]&&(this.bindings[s]=this.bindings[s].filter(e=>{var r;return!((null===(r=e.type)||void 0===r?void 0:r.toLocaleLowerCase())===s&&jc.isEqual(e.filter,t))})),this}static isEqual(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const s in e)if(e[s]!==t[s])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(Vl.close,{},e)}_onError(e){this._on(Vl.error,{},t=>e(t))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Hl.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const t={new:{},old:{}};return"INSERT"!==e.type&&"UPDATE"!==e.type||(t.new=sc(e.columns,e.record)),"UPDATE"!==e.type&&"DELETE"!==e.type||(t.old=sc(e.columns,e.old_record)),t}}const _c=()=>{},Nc=25e3,kc=10,Sc=100,Ec=[1e3,2e3,5e3,1e4];class Cc{constructor(e,t){var s;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=ql,this.transport=null,this.heartbeatIntervalMs=Nc,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=_c,this.ref=0,this.reconnectTimer=null,this.vsn=Bl,this.logger=_c,this.conn=null,this.sendBuffer=[],this.serializer=new ec,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=e=>e?(...t)=>e(...t):(...e)=>fetch(...e),!(null===(s=null==t?void 0:t.params)||void 0===s?void 0:s.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=t.params.apikey,this.endPoint=`${e}/${Zl.websocket}`,this.httpEndpoint=uc(e),this._initializeOptions(t),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(null==t?void 0:t.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||null!==this.conn&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=Ul.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");const t=e.message;if(t.includes("Node.js"))throw new Error(`${t}\n\nTo use Realtime in Node.js, you need to provide a WebSocket implementation:\n\nOption 1: Use Node.js 22+ which has native WebSocket support\nOption 2: Install and provide the "ws" package:\n\n  npm install ws\n\n  import ws from "ws"\n  const client = new RealtimeClient(url, {\n    ...options,\n    transport: ws\n  })`);throw new Error(`WebSocket not available: ${t}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(e,t){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const s=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(s),this._setConnectionState("disconnected")},"function"==typeof this.conn.close&&(e?this.conn.close(e,null!=t?t:""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const t=await e.unsubscribe();return 0===this.channels.length&&this.disconnect(),t}async removeAllChannels(){const e=await Promise.all(this.channels.map(e=>e.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,t,s){this.logger(e,t,s)}connectionState(){switch(this.conn&&this.conn.readyState){case zl.connecting:return Jl.Connecting;case zl.open:return Jl.Open;case zl.closing:return Jl.Closing;default:return Jl.Closed}}isConnected(){return this.connectionState()===Jl.Open}isConnecting(){return"connecting"===this._connectionState}isDisconnecting(){return"disconnecting"===this._connectionState}channel(e,t={config:{}}){const s=`realtime:${e}`,r=this.getChannels().find(e=>e.topic===s);if(r)return r;{const s=new jc(`realtime:${e}`,t,this);return this.channels.push(s),s}}push(e){const{topic:t,event:s,payload:r,ref:n}=e,a=()=>{this.encode(e,e=>{var t;null===(t=this.conn)||void 0===t||t.send(e)})};this.log("push",`${t} ${s} (${n})`,r),this.isConnected()?a():this.sendBuffer.push(a)}async setAuth(e=null){this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var e;if(this.isConnected()){if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(t){this.log("error","error in heartbeat callback",t)}return this._wasManualDisconnect=!1,null===(e=this.conn)||void 0===e||e.close(1e3,"heartbeat timeout"),void setTimeout(()=>{var e;this.isConnected()||null===(e=this.reconnectTimer)||void 0===e||e.scheduleTimeout()},Sc)}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(t){this.log("error","error in heartbeat callback",t)}this._setAuthSafely("heartbeat")}else try{this.heartbeatCallback("disconnected")}catch(t){this.log("error","error in heartbeat callback",t)}}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let t=this.channels.find(t=>t.topic===e&&(t._isJoined()||t._isJoining()));t&&(this.log("transport",`leaving duplicate topic "${e}"`),t.unsubscribe())}_remove(e){this.channels=this.channels.filter(t=>t.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,e=>{if("phoenix"===e.topic&&"phx_reply"===e.event)try{this.heartbeatCallback("ok"===e.payload.status?"ok":"error")}catch(o){this.log("error","error in heartbeat callback",o)}e.ref&&e.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:t,event:s,payload:r,ref:n}=e,a=n?`(${n})`:"",i=r.status||"";this.log("receive",`${i} ${t} ${s} ${a}`.trim(),r),this.channels.filter(e=>e._isMember(t)).forEach(e=>e._trigger(s,r,n)),this._triggerStateCallbacks("message",e)})}_clearTimer(e){var t;"heartbeat"===e&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):"reconnect"===e&&(null===(t=this.reconnectTimer)||void 0===t||t.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_teardownConnection(){if(this.conn){if(this.conn.readyState===zl.open||this.conn.readyState===zl.connecting)try{this.conn.close()}catch(e){this.log("error","Error closing connection",e)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`);(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(e=>{this.log("error","error waiting for auth on connect",e),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=e=>{this.log("worker","worker error",e.message),this.workerRef.terminate()},this.workerRef.onmessage=e=>{"keepAlive"===e.data.event&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(e){var t;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||null===(t=this.reconnectTimer)||void 0===t||t.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e)}_triggerChanError(){this.channels.forEach(e=>e._trigger(Vl.error))}_appendParams(e,t){if(0===Object.keys(t).length)return e;const s=e.match(/\?/)?"&":"?";return`${e}${s}${new URLSearchParams(t)}`}_workerObjectUrl(e){let t;if(e)t=e;else{const e=new Blob(['\n  addEventListener("message", (e) => {\n    if (e.data.event === "start") {\n      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);\n    }\n  });'],{type:"application/javascript"});t=URL.createObjectURL(e)}return t}_setConnectionState(e,t=!1){this._connectionState=e,"connecting"===e?this._wasManualDisconnect=!1:"disconnecting"===e&&(this._wasManualDisconnect=t)}async _performAuth(e=null){let t;t=e||(this.accessToken?await this.accessToken():this.accessTokenValue),this.accessTokenValue!=t&&(this.accessTokenValue=t,this.channels.forEach(e=>{const s={access_token:t,version:"realtime-js/2.81.1"};t&&e.updateJoinPayload(s),e.joinedOnce&&e._isJoined()&&e._push(Vl.access_token,{access_token:t})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(e="general"){this.setAuth().catch(t=>{this.log("error",`error setting auth in ${e}`,t)})}_triggerStateCallbacks(e,t){try{this.stateChangeCallbacks[e].forEach(s=>{try{s(t)}catch(r){this.log("error",`error in ${e} callback`,r)}})}catch(s){this.log("error",`error triggering ${e} callbacks`,s)}}_setupReconnectionTimer(){this.reconnectTimer=new tc(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},kc)},this.reconnectAfterMs)}_initializeOptions(e){var t,s,r,n,a,i,o,l,c,d,u,h;switch(this.transport=null!==(t=null==e?void 0:e.transport)&&void 0!==t?t:null,this.timeout=null!==(s=null==e?void 0:e.timeout)&&void 0!==s?s:ql,this.heartbeatIntervalMs=null!==(r=null==e?void 0:e.heartbeatIntervalMs)&&void 0!==r?r:Nc,this.worker=null!==(n=null==e?void 0:e.worker)&&void 0!==n&&n,this.accessToken=null!==(a=null==e?void 0:e.accessToken)&&void 0!==a?a:null,this.heartbeatCallback=null!==(i=null==e?void 0:e.heartbeatCallback)&&void 0!==i?i:_c,this.vsn=null!==(o=null==e?void 0:e.vsn)&&void 0!==o?o:Bl,(null==e?void 0:e.params)&&(this.params=e.params),(null==e?void 0:e.logger)&&(this.logger=e.logger),((null==e?void 0:e.logLevel)||(null==e?void 0:e.log_level))&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=null!==(l=null==e?void 0:e.reconnectAfterMs)&&void 0!==l?l:e=>Ec[e-1]||1e4,this.vsn){case Fl:this.encode=null!==(c=null==e?void 0:e.encode)&&void 0!==c?c:(e,t)=>t(JSON.stringify(e)),this.decode=null!==(d=null==e?void 0:e.decode)&&void 0!==d?d:(e,t)=>t(JSON.parse(e));break;case"2.0.0":this.encode=null!==(u=null==e?void 0:e.encode)&&void 0!==u?u:this.serializer.encode.bind(this.serializer),this.decode=null!==(h=null==e?void 0:e.decode)&&void 0!==h?h:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if("undefined"!=typeof window&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=null==e?void 0:e.workerUrl}}}class Tc extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function Rc(e){return"object"==typeof e&&null!==e&&"__isStorageError"in e}class Oc extends Tc{constructor(e,t,s){super(e),this.name="StorageApiError",this.status=t,this.statusCode=s}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class Ac extends Tc{constructor(e,t){super(e),this.name="StorageUnknownError",this.originalError=t}}const Pc=e=>e?(...t)=>e(...t):(...e)=>fetch(...e),Ic=e=>{if(Array.isArray(e))return e.map(e=>Ic(e));if("function"==typeof e||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([e,s])=>{const r=e.replace(/([-_][a-z])/gi,e=>e.toUpperCase().replace(/[-_]/g,""));t[r]=Ic(s)}),t},Mc=e=>{var t;return e.msg||e.message||e.error_description||("string"==typeof e.error?e.error:null===(t=e.error)||void 0===t?void 0:t.message)||JSON.stringify(e)},$c=(e,t,s)=>Ge(void 0,void 0,void 0,function*(){const r=yield Response;e instanceof r&&!(null==s?void 0:s.noResolveJson)?e.json().then(s=>{const r=e.status||500,n=(null==s?void 0:s.statusCode)||r+"";t(new Oc(Mc(s),r,n))}).catch(e=>{t(new Ac(Mc(e),e))}):t(new Ac(Mc(e),e))}),Dc=(e,t,s,r)=>{const n={method:e,headers:(null==t?void 0:t.headers)||{}};return"GET"!==e&&r?((e=>{if("object"!=typeof e||null===e)return!1;const t=Object.getPrototypeOf(e);return!(null!==t&&t!==Object.prototype&&null!==Object.getPrototypeOf(t)||Symbol.toStringTag in e||Symbol.iterator in e)})(r)?(n.headers=Object.assign({"Content-Type":"application/json"},null==t?void 0:t.headers),n.body=JSON.stringify(r)):n.body=r,(null==t?void 0:t.duplex)&&(n.duplex=t.duplex),Object.assign(Object.assign({},n),s)):n};function Lc(e,t,s,r,n,a){return Ge(this,void 0,void 0,function*(){return new Promise((i,o)=>{e(s,Dc(t,r,n,a)).then(e=>{if(!e.ok)throw e;return(null==r?void 0:r.noResolveJson)?e:e.json()}).then(e=>i(e)).catch(e=>$c(e,o,r))})})}function Uc(e,t,s,r){return Ge(this,void 0,void 0,function*(){return Lc(e,"GET",t,s,r)})}function Fc(e,t,s,r,n){return Ge(this,void 0,void 0,function*(){return Lc(e,"POST",t,r,n,s)})}function Bc(e,t,s,r,n){return Ge(this,void 0,void 0,function*(){return Lc(e,"PUT",t,r,n,s)})}function qc(e,t,s,r,n){return Ge(this,void 0,void 0,function*(){return Lc(e,"DELETE",t,r,n,s)})}class zc{constructor(e,t){this.downloadFn=e,this.shouldThrowOnError=t}then(e,t){return this.execute().then(e,t)}execute(){return Ge(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(Rc(e))return{data:null,error:e};throw e}})}}var Wc;class Hc{constructor(e,t){this.downloadFn=e,this.shouldThrowOnError=t,this[Wc]="BlobDownloadBuilder",this.promise=null}asStream(){return new zc(this.downloadFn,this.shouldThrowOnError)}then(e,t){return this.getPromise().then(e,t)}catch(e){return this.getPromise().catch(e)}finally(e){return this.getPromise().finally(e)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}execute(){return Ge(this,void 0,void 0,function*(){try{const e=yield this.downloadFn();return{data:yield e.blob(),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(Rc(e))return{data:null,error:e};throw e}})}}Wc=Symbol.toStringTag;const Kc={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Vc={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class Gc{constructor(e,t={},s,r){this.shouldThrowOnError=!1,this.url=e,this.headers=t,this.bucketId=s,this.fetch=Pc(r)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(e,t,s,r){return Ge(this,void 0,void 0,function*(){try{let n;const a=Object.assign(Object.assign({},Vc),r);let i=Object.assign(Object.assign({},this.headers),"POST"===e&&{"x-upsert":String(a.upsert)});const o=a.metadata;if("undefined"!=typeof Blob&&s instanceof Blob)n=new FormData,n.append("cacheControl",a.cacheControl),o&&n.append("metadata",this.encodeMetadata(o)),n.append("",s);else if("undefined"!=typeof FormData&&s instanceof FormData)n=s,n.has("cacheControl")||n.append("cacheControl",a.cacheControl),o&&!n.has("metadata")&&n.append("metadata",this.encodeMetadata(o));else{n=s,i["cache-control"]=`max-age=${a.cacheControl}`,i["content-type"]=a.contentType,o&&(i["x-metadata"]=this.toBase64(this.encodeMetadata(o)));("undefined"!=typeof ReadableStream&&n instanceof ReadableStream||n&&"object"==typeof n&&"pipe"in n&&"function"==typeof n.pipe)&&!a.duplex&&(a.duplex="half")}(null==r?void 0:r.headers)&&(i=Object.assign(Object.assign({},i),r.headers));const l=this._removeEmptyFolders(t),c=this._getFinalPath(l),d=yield("PUT"==e?Bc:Fc)(this.fetch,`${this.url}/object/${c}`,n,Object.assign({headers:i},(null==a?void 0:a.duplex)?{duplex:a.duplex}:{}));return{data:{path:l,id:d.Id,fullPath:d.Key},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Rc(n))return{data:null,error:n};throw n}})}upload(e,t,s){return Ge(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,t,s)})}uploadToSignedUrl(e,t,s,r){return Ge(this,void 0,void 0,function*(){const n=this._removeEmptyFolders(e),a=this._getFinalPath(n),i=new URL(this.url+`/object/upload/sign/${a}`);i.searchParams.set("token",t);try{let e;const t=Object.assign({upsert:Vc.upsert},r),a=Object.assign(Object.assign({},this.headers),{"x-upsert":String(t.upsert)});"undefined"!=typeof Blob&&s instanceof Blob?(e=new FormData,e.append("cacheControl",t.cacheControl),e.append("",s)):"undefined"!=typeof FormData&&s instanceof FormData?(e=s,e.append("cacheControl",t.cacheControl)):(e=s,a["cache-control"]=`max-age=${t.cacheControl}`,a["content-type"]=t.contentType);return{data:{path:n,fullPath:(yield Bc(this.fetch,i.toString(),e,{headers:a})).Key},error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(Rc(o))return{data:null,error:o};throw o}})}createSignedUploadUrl(e,t){return Ge(this,void 0,void 0,function*(){try{let s=this._getFinalPath(e);const r=Object.assign({},this.headers);(null==t?void 0:t.upsert)&&(r["x-upsert"]="true");const n=yield Fc(this.fetch,`${this.url}/object/upload/sign/${s}`,{},{headers:r}),a=new URL(this.url+n.url),i=a.searchParams.get("token");if(!i)throw new Tc("No token returned by API");return{data:{signedUrl:a.toString(),path:e,token:i},error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Rc(s))return{data:null,error:s};throw s}})}update(e,t,s){return Ge(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,t,s)})}move(e,t,s){return Ge(this,void 0,void 0,function*(){try{return{data:yield Fc(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:t,destinationBucket:null==s?void 0:s.destinationBucket},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Rc(r))return{data:null,error:r};throw r}})}copy(e,t,s){return Ge(this,void 0,void 0,function*(){try{return{data:{path:(yield Fc(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:t,destinationBucket:null==s?void 0:s.destinationBucket},{headers:this.headers})).Key},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Rc(r))return{data:null,error:r};throw r}})}createSignedUrl(e,t,s){return Ge(this,void 0,void 0,function*(){try{let r=this._getFinalPath(e),n=yield Fc(this.fetch,`${this.url}/object/sign/${r}`,Object.assign({expiresIn:t},(null==s?void 0:s.transform)?{transform:s.transform}:{}),{headers:this.headers});const a=(null==s?void 0:s.download)?`&download=${!0===s.download?"":s.download}`:"";return n={signedUrl:encodeURI(`${this.url}${n.signedURL}${a}`)},{data:n,error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Rc(r))return{data:null,error:r};throw r}})}createSignedUrls(e,t,s){return Ge(this,void 0,void 0,function*(){try{const r=yield Fc(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:t,paths:e},{headers:this.headers}),n=(null==s?void 0:s.download)?`&download=${!0===s.download?"":s.download}`:"";return{data:r.map(e=>Object.assign(Object.assign({},e),{signedUrl:e.signedURL?encodeURI(`${this.url}${e.signedURL}${n}`):null})),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Rc(r))return{data:null,error:r};throw r}})}download(e,t){const s=void 0!==(null==t?void 0:t.transform)?"render/image/authenticated":"object",r=this.transformOptsToQueryString((null==t?void 0:t.transform)||{}),n=r?`?${r}`:"",a=this._getFinalPath(e);return new Hc(()=>Uc(this.fetch,`${this.url}/${s}/${a}${n}`,{headers:this.headers,noResolveJson:!0}),this.shouldThrowOnError)}info(e){return Ge(this,void 0,void 0,function*(){const t=this._getFinalPath(e);try{const e=yield Uc(this.fetch,`${this.url}/object/info/${t}`,{headers:this.headers});return{data:Ic(e),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Rc(s))return{data:null,error:s};throw s}})}exists(e){return Ge(this,void 0,void 0,function*(){const t=this._getFinalPath(e);try{return yield function(e,t,s,r){return Ge(this,void 0,void 0,function*(){return Lc(e,"HEAD",t,Object.assign(Object.assign({},s),{noResolveJson:!0}),r)})}(this.fetch,`${this.url}/object/${t}`,{headers:this.headers}),{data:!0,error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Rc(s)&&s instanceof Ac){const e=s.originalError;if([400,404].includes(null==e?void 0:e.status))return{data:!1,error:s}}throw s}})}getPublicUrl(e,t){const s=this._getFinalPath(e),r=[],n=(null==t?void 0:t.download)?`download=${!0===t.download?"":t.download}`:"";""!==n&&r.push(n);const a=void 0!==(null==t?void 0:t.transform)?"render/image":"object",i=this.transformOptsToQueryString((null==t?void 0:t.transform)||{});""!==i&&r.push(i);let o=r.join("&");return""!==o&&(o=`?${o}`),{data:{publicUrl:encodeURI(`${this.url}/${a}/public/${s}${o}`)}}}remove(e){return Ge(this,void 0,void 0,function*(){try{return{data:yield qc(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(Rc(t))return{data:null,error:t};throw t}})}list(e,t,s){return Ge(this,void 0,void 0,function*(){try{const r=Object.assign(Object.assign(Object.assign({},Kc),t),{prefix:e||""});return{data:yield Fc(this.fetch,`${this.url}/object/list/${this.bucketId}`,r,{headers:this.headers},s),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Rc(r))return{data:null,error:r};throw r}})}listV2(e,t){return Ge(this,void 0,void 0,function*(){try{const s=Object.assign({},e);return{data:yield Fc(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,s,{headers:this.headers},t),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Rc(s))return{data:null,error:s};throw s}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return"undefined"!=typeof Buffer?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const t=[];return e.width&&t.push(`width=${e.width}`),e.height&&t.push(`height=${e.height}`),e.resize&&t.push(`resize=${e.resize}`),e.format&&t.push(`format=${e.format}`),e.quality&&t.push(`quality=${e.quality}`),t.join("&")}}const Zc="2.81.1",Jc={"X-Client-Info":`storage-js/${Zc}`};class Yc{constructor(e,t={},s,r){this.shouldThrowOnError=!1;const n=new URL(e);if(null==r?void 0:r.useNewHostname){/supabase\.(co|in|red)$/.test(n.hostname)&&!n.hostname.includes("storage.supabase.")&&(n.hostname=n.hostname.replace("supabase.","storage.supabase."))}this.url=n.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Jc),t),this.fetch=Pc(s)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(e){return Ge(this,void 0,void 0,function*(){try{const t=this.listBucketOptionsToQueryString(e);return{data:yield Uc(this.fetch,`${this.url}/bucket${t}`,{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(Rc(t))return{data:null,error:t};throw t}})}getBucket(e){return Ge(this,void 0,void 0,function*(){try{return{data:yield Uc(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(Rc(t))return{data:null,error:t};throw t}})}createBucket(e){return Ge(this,arguments,void 0,function*(e,t={public:!1}){try{return{data:yield Fc(this.fetch,`${this.url}/bucket`,{id:e,name:e,type:t.type,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Rc(s))return{data:null,error:s};throw s}})}updateBucket(e,t){return Ge(this,void 0,void 0,function*(){try{return{data:yield Bc(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Rc(s))return{data:null,error:s};throw s}})}emptyBucket(e){return Ge(this,void 0,void 0,function*(){try{return{data:yield Fc(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(Rc(t))return{data:null,error:t};throw t}})}deleteBucket(e){return Ge(this,void 0,void 0,function*(){try{return{data:yield qc(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(Rc(t))return{data:null,error:t};throw t}})}listBucketOptionsToQueryString(e){const t={};return e&&("limit"in e&&(t.limit=String(e.limit)),"offset"in e&&(t.offset=String(e.offset)),e.search&&(t.search=e.search),e.sortColumn&&(t.sortColumn=e.sortColumn),e.sortOrder&&(t.sortOrder=e.sortOrder)),Object.keys(t).length>0?"?"+new URLSearchParams(t).toString():""}}class Qc{constructor(e,t={},s){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Jc),t),this.fetch=Pc(s)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(e){return Ge(this,void 0,void 0,function*(){try{return{data:yield Fc(this.fetch,`${this.url}/bucket`,{name:e},{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(Rc(t))return{data:null,error:t};throw t}})}listBuckets(e){return Ge(this,void 0,void 0,function*(){try{const t=new URLSearchParams;void 0!==(null==e?void 0:e.limit)&&t.set("limit",e.limit.toString()),void 0!==(null==e?void 0:e.offset)&&t.set("offset",e.offset.toString()),(null==e?void 0:e.sortColumn)&&t.set("sortColumn",e.sortColumn),(null==e?void 0:e.sortOrder)&&t.set("sortOrder",e.sortOrder),(null==e?void 0:e.search)&&t.set("search",e.search);const s=t.toString(),r=s?`${this.url}/bucket?${s}`:`${this.url}/bucket`;return{data:yield Uc(this.fetch,r,{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(Rc(t))return{data:null,error:t};throw t}})}deleteBucket(e){return Ge(this,void 0,void 0,function*(){try{return{data:yield qc(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(Rc(t))return{data:null,error:t};throw t}})}}const Xc={"X-Client-Info":`storage-js/${Zc}`,"Content-Type":"application/json"};class ed extends Error{constructor(e){super(e),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}}function td(e){return"object"==typeof e&&null!==e&&"__isStorageVectorsError"in e}class sd extends ed{constructor(e,t,s){super(e),this.name="StorageVectorsApiError",this.status=t,this.statusCode=s}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class rd extends ed{constructor(e,t){super(e),this.name="StorageVectorsUnknownError",this.originalError=t}}var nd,ad;(ad=nd||(nd={})).InternalError="InternalError",ad.S3VectorConflictException="S3VectorConflictException",ad.S3VectorNotFoundException="S3VectorNotFoundException",ad.S3VectorBucketNotEmpty="S3VectorBucketNotEmpty",ad.S3VectorMaxBucketsExceeded="S3VectorMaxBucketsExceeded",ad.S3VectorMaxIndexesExceeded="S3VectorMaxIndexesExceeded";const id=e=>e?(...t)=>e(...t):(...e)=>fetch(...e),od=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),ld=(e,t,s,r)=>{const n={method:e,headers:(null==t?void 0:t.headers)||{}};return r?((e=>{if("object"!=typeof e||null===e)return!1;const t=Object.getPrototypeOf(e);return!(null!==t&&t!==Object.prototype&&null!==Object.getPrototypeOf(t)||Symbol.toStringTag in e||Symbol.iterator in e)})(r)?(n.headers=Object.assign({"Content-Type":"application/json"},null==t?void 0:t.headers),n.body=JSON.stringify(r)):n.body=r,Object.assign(Object.assign({},n),s)):n};function cd(e,t,s,r,n,a){return Ge(this,void 0,void 0,function*(){return new Promise((i,o)=>{e(s,ld(t,r,n,a)).then(e=>{if(!e.ok)throw e;if(null==r?void 0:r.noResolveJson)return e;const t=e.headers.get("content-type");return t&&t.includes("application/json")?e.json():{}}).then(e=>i(e)).catch(e=>((e,t,s)=>Ge(void 0,void 0,void 0,function*(){if(e&&"object"==typeof e&&"status"in e&&"ok"in e&&"number"==typeof e.status&&!(null==s?void 0:s.noResolveJson)){const s=e.status||500,r=e;if("function"==typeof r.json)r.json().then(e=>{const r=(null==e?void 0:e.statusCode)||(null==e?void 0:e.code)||s+"";t(new sd(od(e),s,r))}).catch(()=>{const e=s+"",n=r.statusText||`HTTP ${s} error`;t(new sd(n,s,e))});else{const e=s+"",n=r.statusText||`HTTP ${s} error`;t(new sd(n,s,e))}}else t(new rd(od(e),e))}))(e,o,r))})})}function dd(e,t,s,r,n){return Ge(this,void 0,void 0,function*(){return cd(e,"POST",t,r,n,s)})}class ud{constructor(e,t={},s){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Xc),t),this.fetch=id(s)}throwOnError(){return this.shouldThrowOnError=!0,this}createIndex(e){return Ge(this,void 0,void 0,function*(){try{return{data:(yield dd(this.fetch,`${this.url}/CreateIndex`,e,{headers:this.headers}))||{},error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(td(t))return{data:null,error:t};throw t}})}getIndex(e,t){return Ge(this,void 0,void 0,function*(){try{return{data:yield dd(this.fetch,`${this.url}/GetIndex`,{vectorBucketName:e,indexName:t},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(td(s))return{data:null,error:s};throw s}})}listIndexes(e){return Ge(this,void 0,void 0,function*(){try{return{data:yield dd(this.fetch,`${this.url}/ListIndexes`,e,{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(td(t))return{data:null,error:t};throw t}})}deleteIndex(e,t){return Ge(this,void 0,void 0,function*(){try{return{data:(yield dd(this.fetch,`${this.url}/DeleteIndex`,{vectorBucketName:e,indexName:t},{headers:this.headers}))||{},error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(td(s))return{data:null,error:s};throw s}})}}class hd{constructor(e,t={},s){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Xc),t),this.fetch=id(s)}throwOnError(){return this.shouldThrowOnError=!0,this}putVectors(e){return Ge(this,void 0,void 0,function*(){try{if(e.vectors.length<1||e.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:(yield dd(this.fetch,`${this.url}/PutVectors`,e,{headers:this.headers}))||{},error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(td(t))return{data:null,error:t};throw t}})}getVectors(e){return Ge(this,void 0,void 0,function*(){try{return{data:yield dd(this.fetch,`${this.url}/GetVectors`,e,{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(td(t))return{data:null,error:t};throw t}})}listVectors(e){return Ge(this,void 0,void 0,function*(){try{if(void 0!==e.segmentCount){if(e.segmentCount<1||e.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(void 0!==e.segmentIndex&&(e.segmentIndex<0||e.segmentIndex>=e.segmentCount))throw new Error("segmentIndex must be between 0 and "+(e.segmentCount-1))}return{data:yield dd(this.fetch,`${this.url}/ListVectors`,e,{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(td(t))return{data:null,error:t};throw t}})}queryVectors(e){return Ge(this,void 0,void 0,function*(){try{return{data:yield dd(this.fetch,`${this.url}/QueryVectors`,e,{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(td(t))return{data:null,error:t};throw t}})}deleteVectors(e){return Ge(this,void 0,void 0,function*(){try{if(e.keys.length<1||e.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:(yield dd(this.fetch,`${this.url}/DeleteVectors`,e,{headers:this.headers}))||{},error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(td(t))return{data:null,error:t};throw t}})}}class md{constructor(e,t={},s){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Xc),t),this.fetch=id(s)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(e){return Ge(this,void 0,void 0,function*(){try{return{data:(yield dd(this.fetch,`${this.url}/CreateVectorBucket`,{vectorBucketName:e},{headers:this.headers}))||{},error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(td(t))return{data:null,error:t};throw t}})}getBucket(e){return Ge(this,void 0,void 0,function*(){try{return{data:yield dd(this.fetch,`${this.url}/GetVectorBucket`,{vectorBucketName:e},{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(td(t))return{data:null,error:t};throw t}})}listBuckets(){return Ge(this,arguments,void 0,function*(e={}){try{return{data:yield dd(this.fetch,`${this.url}/ListVectorBuckets`,e,{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(td(t))return{data:null,error:t};throw t}})}deleteBucket(e){return Ge(this,void 0,void 0,function*(){try{return{data:(yield dd(this.fetch,`${this.url}/DeleteVectorBucket`,{vectorBucketName:e},{headers:this.headers}))||{},error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(td(t))return{data:null,error:t};throw t}})}}class pd extends md{constructor(e,t={}){super(e,t.headers||{},t.fetch)}from(e){return new fd(this.url,this.headers,e,this.fetch)}}class fd extends ud{constructor(e,t,s,r){super(e,t,r),this.vectorBucketName=s}createIndex(e){const t=Object.create(null,{createIndex:{get:()=>super.createIndex}});return Ge(this,void 0,void 0,function*(){return t.createIndex.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName}))})}listIndexes(){const e=Object.create(null,{listIndexes:{get:()=>super.listIndexes}});return Ge(this,arguments,void 0,function*(t={}){return e.listIndexes.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName}))})}getIndex(e){const t=Object.create(null,{getIndex:{get:()=>super.getIndex}});return Ge(this,void 0,void 0,function*(){return t.getIndex.call(this,this.vectorBucketName,e)})}deleteIndex(e){const t=Object.create(null,{deleteIndex:{get:()=>super.deleteIndex}});return Ge(this,void 0,void 0,function*(){return t.deleteIndex.call(this,this.vectorBucketName,e)})}index(e){return new gd(this.url,this.headers,this.vectorBucketName,e,this.fetch)}}class gd extends hd{constructor(e,t,s,r,n){super(e,t,n),this.vectorBucketName=s,this.indexName=r}putVectors(e){const t=Object.create(null,{putVectors:{get:()=>super.putVectors}});return Ge(this,void 0,void 0,function*(){return t.putVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}getVectors(e){const t=Object.create(null,{getVectors:{get:()=>super.getVectors}});return Ge(this,void 0,void 0,function*(){return t.getVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}listVectors(){const e=Object.create(null,{listVectors:{get:()=>super.listVectors}});return Ge(this,arguments,void 0,function*(t={}){return e.listVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}queryVectors(e){const t=Object.create(null,{queryVectors:{get:()=>super.queryVectors}});return Ge(this,void 0,void 0,function*(){return t.queryVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}deleteVectors(e){const t=Object.create(null,{deleteVectors:{get:()=>super.deleteVectors}});return Ge(this,void 0,void 0,function*(){return t.deleteVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}}class xd extends Yc{constructor(e,t={},s,r){super(e,t,s,r)}from(e){return new Gc(this.url,this.headers,e,this.fetch)}get vectors(){return new pd(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new Qc(this.url+"/iceberg",this.headers,this.fetch)}}let vd="";vd="undefined"!=typeof Deno?"deno":"undefined"!=typeof document?"web":"undefined"!=typeof navigator&&"ReactNative"===navigator.product?"react-native":"node";const yd={headers:{"X-Client-Info":`supabase-js-${vd}/2.81.1`}},bd={schema:"public"},wd={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},jd={},_d=(e,t,s)=>{const r=(e=>e?(...t)=>e(...t):(...e)=>fetch(...e))(s),n=Headers;return async(s,a)=>{var i;const o=null!==(i=await t())&&void 0!==i?i:e;let l=new n(null==a?void 0:a.headers);return l.has("apikey")||l.set("apikey",e),l.has("Authorization")||l.set("Authorization",`Bearer ${o}`),r(s,Object.assign(Object.assign({},a),{headers:l}))}};const Nd="2.81.1",kd=3e4,Sd=9e4,Ed={"X-Client-Info":`gotrue-js/${Nd}`},Cd="X-Supabase-Api-Version",Td={timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"},Rd=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i;class Od extends Error{constructor(e,t,s){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=t,this.code=s}}function Ad(e){return"object"==typeof e&&null!==e&&"__isAuthError"in e}class Pd extends Od{constructor(e,t,s){super(e,t,s),this.name="AuthApiError",this.status=t,this.code=s}}class Id extends Od{constructor(e,t){super(e),this.name="AuthUnknownError",this.originalError=t}}class Md extends Od{constructor(e,t,s,r){super(e,s,r),this.name=t,this.status=s}}class $d extends Md{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}class Dd extends Md{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Ld extends Md{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class Ud extends Md{constructor(e,t=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=t}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Fd extends Md{constructor(e,t=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=t}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Bd extends Md{constructor(e,t){super(e,"AuthRetryableFetchError",t,void 0)}}function qd(e){return Ad(e)&&"AuthRetryableFetchError"===e.name}class zd extends Md{constructor(e,t,s){super(e,"AuthWeakPasswordError",t,"weak_password"),this.reasons=s}}class Wd extends Md{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const Hd="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Kd=" \t\n\r=".split(""),Vd=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<Kd.length;t+=1)e[Kd[t].charCodeAt(0)]=-2;for(let t=0;t<Hd.length;t+=1)e[Hd[t].charCodeAt(0)]=t;return e})();function Gd(e,t,s){if(null!==e)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const e=t.queue>>t.queuedBits-6&63;s(Hd[e]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const e=t.queue>>t.queuedBits-6&63;s(Hd[e]),t.queuedBits-=6}}function Zd(e,t,s){const r=Vd[e];if(!(r>-1)){if(-2===r)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}for(t.queue=t.queue<<6|r,t.queuedBits+=6;t.queuedBits>=8;)s(t.queue>>t.queuedBits-8&255),t.queuedBits-=8}function Jd(e){const t=[],s=e=>{t.push(String.fromCodePoint(e))},r={utf8seq:0,codepoint:0},n={queue:0,queuedBits:0},a=e=>{!function(e,t,s){if(0===t.utf8seq){if(e<=127)return void s(e);for(let s=1;s<6;s+=1)if(!(e>>7-s&1)){t.utf8seq=s;break}if(2===t.utf8seq)t.codepoint=31&e;else if(3===t.utf8seq)t.codepoint=15&e;else{if(4!==t.utf8seq)throw new Error("Invalid UTF-8 sequence");t.codepoint=7&e}t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|63&e,t.utf8seq-=1,0===t.utf8seq&&s(t.codepoint)}}(e,r,s)};for(let i=0;i<e.length;i+=1)Zd(e.charCodeAt(i),n,a);return t.join("")}function Yd(e,t){if(!(e<=127)){if(e<=2047)return t(192|e>>6),void t(128|63&e);if(e<=65535)return t(224|e>>12),t(128|e>>6&63),void t(128|63&e);if(e<=1114111)return t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),void t(128|63&e);throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}t(e)}function Qd(e){const t=[],s={queue:0,queuedBits:0},r=e=>{t.push(e)};for(let n=0;n<e.length;n+=1)Zd(e.charCodeAt(n),s,r);return new Uint8Array(t)}function Xd(e){const t=[];return function(e,t){for(let s=0;s<e.length;s+=1){let r=e.charCodeAt(s);if(r>55295&&r<=56319){const t=1024*(r-55296)&65535;r=65536+(e.charCodeAt(s+1)-56320&65535|t),s+=1}Yd(r,t)}}(e,e=>t.push(e)),new Uint8Array(t)}function eu(e){const t=[],s={queue:0,queuedBits:0},r=e=>{t.push(e)};return e.forEach(e=>Gd(e,s,r)),Gd(null,s,r),t.join("")}const tu=()=>"undefined"!=typeof window&&"undefined"!=typeof document,su={tested:!1,writable:!1},ru=()=>{if(!tu())return!1;try{if("object"!=typeof globalThis.localStorage)return!1}catch(t){return!1}if(su.tested)return su.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),su.tested=!0,su.writable=!0}catch(t){su.tested=!0,su.writable=!1}return su.writable};const nu=e=>e?(...t)=>e(...t):(...e)=>fetch(...e),au=async(e,t,s)=>{await e.setItem(t,JSON.stringify(s))},iu=async(e,t)=>{const s=await e.getItem(t);if(!s)return null;try{return JSON.parse(s)}catch(r){return s}},ou=async(e,t)=>{await e.removeItem(t)};class lu{constructor(){this.promise=new lu.promiseConstructor((e,t)=>{this.resolve=e,this.reject=t})}}function cu(e){const t=e.split(".");if(3!==t.length)throw new Wd("Invalid JWT structure");for(let s=0;s<t.length;s++)if(!Rd.test(t[s]))throw new Wd("JWT not in base64url format");return{header:JSON.parse(Jd(t[0])),payload:JSON.parse(Jd(t[1])),signature:Qd(t[2]),raw:{header:t[0],payload:t[1]}}}function du(e){return("0"+e.toString(16)).substr(-2)}async function uu(e){if(!("undefined"!=typeof crypto&&void 0!==crypto.subtle&&"undefined"!=typeof TextEncoder))return e;const t=await async function(e){const t=(new TextEncoder).encode(e),s=await crypto.subtle.digest("SHA-256",t),r=new Uint8Array(s);return Array.from(r).map(e=>String.fromCharCode(e)).join("")}(e);return btoa(t).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function hu(e,t,s=!1){const r=function(){const e=new Uint32Array(56);if("undefined"==typeof crypto){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",t=e.length;let s="";for(let r=0;r<56;r++)s+=e.charAt(Math.floor(Math.random()*t));return s}return crypto.getRandomValues(e),Array.from(e,du).join("")}();let n=r;s&&(n+="/PASSWORD_RECOVERY"),await au(e,`${t}-code-verifier`,n);const a=await uu(r);return[a,r===a?"plain":"s256"]}lu.promiseConstructor=Promise;const mu=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;const pu=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function fu(e){if(!pu.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function gu(){return new Proxy({},{get:(e,t)=>{if("__isUserNotAvailableProxy"===t)return!0;if("symbol"==typeof t){const e=t.toString();if("Symbol(Symbol.toPrimitive)"===e||"Symbol(Symbol.toStringTag)"===e||"Symbol(util.inspect.custom)"===e)return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${t}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,t)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${t}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,t)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${t}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function xu(e){return JSON.parse(JSON.stringify(e))}const vu=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),yu=[502,503,504];async function bu(e){var t,s;if(!("object"==typeof(s=e)&&null!==s&&"status"in s&&"ok"in s&&"json"in s&&"function"==typeof s.json))throw new Bd(vu(e),0);if(yu.includes(e.status))throw new Bd(vu(e),e.status);let r,n;try{r=await e.json()}catch(i){throw new Id(vu(i),i)}const a=function(e){const t=e.headers.get(Cd);if(!t)return null;if(!t.match(mu))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch(i){return null}}(e);if(a&&a.getTime()>=Td.timestamp&&"object"==typeof r&&r&&"string"==typeof r.code?n=r.code:"object"==typeof r&&r&&"string"==typeof r.error_code&&(n=r.error_code),n){if("weak_password"===n)throw new zd(vu(r),e.status,(null===(t=r.weak_password)||void 0===t?void 0:t.reasons)||[]);if("session_not_found"===n)throw new $d}else if("object"==typeof r&&r&&"object"==typeof r.weak_password&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((e,t)=>e&&"string"==typeof t,!0))throw new zd(vu(r),e.status,r.weak_password.reasons);throw new Pd(vu(r),e.status||500,n)}async function wu(e,t,s,r){var n;const a=Object.assign({},null==r?void 0:r.headers);a[Cd]||(a[Cd]=Td.name),(null==r?void 0:r.jwt)&&(a.Authorization=`Bearer ${r.jwt}`);const i=null!==(n=null==r?void 0:r.query)&&void 0!==n?n:{};(null==r?void 0:r.redirectTo)&&(i.redirect_to=r.redirectTo);const o=Object.keys(i).length?"?"+new URLSearchParams(i).toString():"",l=await async function(e,t,s,r,n,a){const i=((e,t,s,r)=>{const n={method:e,headers:(null==t?void 0:t.headers)||{}};return"GET"===e?n:(n.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},null==t?void 0:t.headers),n.body=JSON.stringify(r),Object.assign(Object.assign({},n),s))})(t,r,n,a);let o;try{o=await e(s,Object.assign({},i))}catch(l){throw new Bd(vu(l),0)}o.ok||await bu(o);if(null==r?void 0:r.noResolveJson)return o;try{return await o.json()}catch(l){await bu(l)}}(e,t,s+o,{headers:a,noResolveJson:null==r?void 0:r.noResolveJson},{},null==r?void 0:r.body);return(null==r?void 0:r.xform)?null==r?void 0:r.xform(l):{data:Object.assign({},l),error:null}}function ju(e){var t;let s=null;var r;(function(e){return e.access_token&&e.refresh_token&&e.expires_in})(e)&&(s=Object.assign({},e),e.expires_at||(s.expires_at=(r=e.expires_in,Math.round(Date.now()/1e3)+r)));return{data:{session:s,user:null!==(t=e.user)&&void 0!==t?t:e},error:null}}function _u(e){const t=ju(e);return!t.error&&e.weak_password&&"object"==typeof e.weak_password&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&"string"==typeof e.weak_password.message&&e.weak_password.reasons.reduce((e,t)=>e&&"string"==typeof t,!0)&&(t.data.weak_password=e.weak_password),t}function Nu(e){var t;return{data:{user:null!==(t=e.user)&&void 0!==t?t:e},error:null}}function ku(e){return{data:e,error:null}}function Su(e){const{action_link:t,email_otp:s,hashed_token:r,redirect_to:n,verification_type:a}=e,i=Je(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]);return{data:{properties:{action_link:t,email_otp:s,hashed_token:r,redirect_to:n,verification_type:a},user:Object.assign({},i)},error:null}}function Eu(e){return e}const Cu=["global","local","others"];class Tu{constructor({url:e="",headers:t={},fetch:s}){this.url=e,this.headers=t,this.fetch=nu(s),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(e,t=Cu[0]){if(Cu.indexOf(t)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Cu.join(", ")}`);try{return await wu(this.fetch,"POST",`${this.url}/logout?scope=${t}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(s){if(Ad(s))return{data:null,error:s};throw s}}async inviteUserByEmail(e,t={}){try{return await wu(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:t.data},headers:this.headers,redirectTo:t.redirectTo,xform:Nu})}catch(s){if(Ad(s))return{data:{user:null},error:s};throw s}}async generateLink(e){try{const{options:t}=e,s=Je(e,["options"]),r=Object.assign(Object.assign({},s),t);return"newEmail"in s&&(r.new_email=null==s?void 0:s.newEmail,delete r.newEmail),await wu(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:r,headers:this.headers,xform:Su,redirectTo:null==t?void 0:t.redirectTo})}catch(t){if(Ad(t))return{data:{properties:null,user:null},error:t};throw t}}async createUser(e){try{return await wu(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:Nu})}catch(t){if(Ad(t))return{data:{user:null},error:t};throw t}}async listUsers(e){var t,s,r,n,a,i,o;try{const l={nextPage:null,lastPage:0,total:0},c=await wu(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:null!==(s=null===(t=null==e?void 0:e.page)||void 0===t?void 0:t.toString())&&void 0!==s?s:"",per_page:null!==(n=null===(r=null==e?void 0:e.perPage)||void 0===r?void 0:r.toString())&&void 0!==n?n:""},xform:Eu});if(c.error)throw c.error;const d=await c.json(),u=null!==(a=c.headers.get("x-total-count"))&&void 0!==a?a:0,h=null!==(o=null===(i=c.headers.get("link"))||void 0===i?void 0:i.split(","))&&void 0!==o?o:[];return h.length>0&&(h.forEach(e=>{const t=parseInt(e.split(";")[0].split("=")[1].substring(0,1)),s=JSON.parse(e.split(";")[1].split("=")[1]);l[`${s}Page`]=t}),l.total=parseInt(u)),{data:Object.assign(Object.assign({},d),l),error:null}}catch(l){if(Ad(l))return{data:{users:[]},error:l};throw l}}async getUserById(e){fu(e);try{return await wu(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:Nu})}catch(t){if(Ad(t))return{data:{user:null},error:t};throw t}}async updateUserById(e,t){fu(e);try{return await wu(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:t,headers:this.headers,xform:Nu})}catch(s){if(Ad(s))return{data:{user:null},error:s};throw s}}async deleteUser(e,t=!1){fu(e);try{return await wu(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:t},xform:Nu})}catch(s){if(Ad(s))return{data:{user:null},error:s};throw s}}async _listFactors(e){fu(e.userId);try{const{data:t,error:s}=await wu(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:e=>({data:{factors:e},error:null})});return{data:t,error:s}}catch(t){if(Ad(t))return{data:null,error:t};throw t}}async _deleteFactor(e){fu(e.userId),fu(e.id);try{return{data:await wu(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(t){if(Ad(t))return{data:null,error:t};throw t}}async _listOAuthClients(e){var t,s,r,n,a,i,o;try{const l={nextPage:null,lastPage:0,total:0},c=await wu(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:null!==(s=null===(t=null==e?void 0:e.page)||void 0===t?void 0:t.toString())&&void 0!==s?s:"",per_page:null!==(n=null===(r=null==e?void 0:e.perPage)||void 0===r?void 0:r.toString())&&void 0!==n?n:""},xform:Eu});if(c.error)throw c.error;const d=await c.json(),u=null!==(a=c.headers.get("x-total-count"))&&void 0!==a?a:0,h=null!==(o=null===(i=c.headers.get("link"))||void 0===i?void 0:i.split(","))&&void 0!==o?o:[];return h.length>0&&(h.forEach(e=>{const t=parseInt(e.split(";")[0].split("=")[1].substring(0,1)),s=JSON.parse(e.split(";")[1].split("=")[1]);l[`${s}Page`]=t}),l.total=parseInt(u)),{data:Object.assign(Object.assign({},d),l),error:null}}catch(l){if(Ad(l))return{data:{clients:[]},error:l};throw l}}async _createOAuthClient(e){try{return await wu(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:e,headers:this.headers,xform:e=>({data:e,error:null})})}catch(t){if(Ad(t))return{data:null,error:t};throw t}}async _getOAuthClient(e){try{return await wu(this.fetch,"GET",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,xform:e=>({data:e,error:null})})}catch(t){if(Ad(t))return{data:null,error:t};throw t}}async _updateOAuthClient(e,t){try{return await wu(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${e}`,{body:t,headers:this.headers,xform:e=>({data:e,error:null})})}catch(s){if(Ad(s))return{data:null,error:s};throw s}}async _deleteOAuthClient(e){try{return await wu(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(t){if(Ad(t))return{data:null,error:t};throw t}}async _regenerateOAuthClientSecret(e){try{return await wu(this.fetch,"POST",`${this.url}/admin/oauth/clients/${e}/regenerate_secret`,{headers:this.headers,xform:e=>({data:e,error:null})})}catch(t){if(Ad(t))return{data:null,error:t};throw t}}}function Ru(e={}){return{getItem:t=>e[t]||null,setItem:(t,s)=>{e[t]=s},removeItem:t=>{delete e[t]}}}const Ou=!!(globalThis&&ru()&&globalThis.localStorage&&"true"===globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug"));class Au extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class Pu extends Au{}async function Iu(e,t,s){const r=new globalThis.AbortController;return t>0&&setTimeout(()=>{r.abort()},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,0===t?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async r=>{if(!r){if(0===t)throw new Pu(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(Ou)try{await globalThis.navigator.locks.query()}catch(n){}return await s()}try{return await s()}finally{}}))}function Mu(e){if(!/^0x[a-fA-F0-9]{40}$/.test(e))throw new Error(`@supabase/auth-js: Address "${e}" is invalid.`);return e.toLowerCase()}function $u(e){const t=(new TextEncoder).encode(e);return"0x"+Array.from(t,e=>e.toString(16).padStart(2,"0")).join("")}class Du extends Error{constructor({message:e,code:t,cause:s,name:r}){var n;super(e,{cause:s}),this.__isWebAuthnError=!0,this.name=null!==(n=null!=r?r:s instanceof Error?s.name:void 0)&&void 0!==n?n:"Unknown Error",this.code=t}}class Lu extends Du{constructor(e,t){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t,message:e}),this.name="WebAuthnUnknownError",this.originalError=t}}function Uu({error:e,options:t}){var s,r,n;const{publicKey:a}=t;if(!a)throw Error("options was missing required publicKey property");if("AbortError"===e.name){if(t.signal instanceof AbortSignal)return new Du({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else if("ConstraintError"===e.name){if(!0===(null===(s=a.authenticatorSelection)||void 0===s?void 0:s.requireResidentKey))return new Du({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:e});if("conditional"===t.mediation&&"required"===(null===(r=a.authenticatorSelection)||void 0===r?void 0:r.userVerification))return new Du({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:e});if("required"===(null===(n=a.authenticatorSelection)||void 0===n?void 0:n.userVerification))return new Du({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:e})}else{if("InvalidStateError"===e.name)return new Du({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:e});if("NotAllowedError"===e.name)return new Du({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if("NotSupportedError"===e.name){return 0===a.pubKeyCredParams.filter(e=>"public-key"===e.type).length?new Du({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:e}):new Du({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:e})}if("SecurityError"===e.name){const t=window.location.hostname;if(!Ku(t))return new Du({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e});if(a.rp.id!==t)return new Du({message:`The RP ID "${a.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else if("TypeError"===e.name){if(a.user.id.byteLength<1||a.user.id.byteLength>64)return new Du({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:e})}else if("UnknownError"===e.name)return new Du({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new Du({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}function Fu({error:e,options:t}){const{publicKey:s}=t;if(!s)throw Error("options was missing required publicKey property");if("AbortError"===e.name){if(t.signal instanceof AbortSignal)return new Du({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else{if("NotAllowedError"===e.name)return new Du({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if("SecurityError"===e.name){const t=window.location.hostname;if(!Ku(t))return new Du({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e});if(s.rpId!==t)return new Du({message:`The RP ID "${s.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else if("UnknownError"===e.name)return new Du({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new Du({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}const Bu=new class{createNewAbortSignal(){if(this.controller){const e=new Error("Cancelling existing WebAuthn API call for new one");e.name="AbortError",this.controller.abort(e)}const e=new AbortController;return this.controller=e,e.signal}cancelCeremony(){if(this.controller){const e=new Error("Manually cancelling existing WebAuthn API call");e.name="AbortError",this.controller.abort(e),this.controller=void 0}}};function qu(e){if(!e)throw new Error("Credential creation options are required");if("undefined"!=typeof PublicKeyCredential&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&"function"==typeof PublicKeyCredential.parseCreationOptionsFromJSON)return PublicKeyCredential.parseCreationOptionsFromJSON(e);const{challenge:t,user:s,excludeCredentials:r}=e,n=Je(e,["challenge","user","excludeCredentials"]),a=Qd(t).buffer,i=Object.assign(Object.assign({},s),{id:Qd(s.id).buffer}),o=Object.assign(Object.assign({},n),{challenge:a,user:i});if(r&&r.length>0){o.excludeCredentials=new Array(r.length);for(let e=0;e<r.length;e++){const t=r[e];o.excludeCredentials[e]=Object.assign(Object.assign({},t),{id:Qd(t.id).buffer,type:t.type||"public-key",transports:t.transports})}}return o}function zu(e){if(!e)throw new Error("Credential request options are required");if("undefined"!=typeof PublicKeyCredential&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&"function"==typeof PublicKeyCredential.parseRequestOptionsFromJSON)return PublicKeyCredential.parseRequestOptionsFromJSON(e);const{challenge:t,allowCredentials:s}=e,r=Je(e,["challenge","allowCredentials"]),n=Qd(t).buffer,a=Object.assign(Object.assign({},r),{challenge:n});if(s&&s.length>0){a.allowCredentials=new Array(s.length);for(let e=0;e<s.length;e++){const t=s[e];a.allowCredentials[e]=Object.assign(Object.assign({},t),{id:Qd(t.id).buffer,type:t.type||"public-key",transports:t.transports})}}return a}function Wu(e){var t;if("toJSON"in e&&"function"==typeof e.toJSON)return e.toJSON();const s=e;return{id:e.id,rawId:e.id,response:{attestationObject:eu(new Uint8Array(e.response.attestationObject)),clientDataJSON:eu(new Uint8Array(e.response.clientDataJSON))},type:"public-key",clientExtensionResults:e.getClientExtensionResults(),authenticatorAttachment:null!==(t=s.authenticatorAttachment)&&void 0!==t?t:void 0}}function Hu(e){var t;if("toJSON"in e&&"function"==typeof e.toJSON)return e.toJSON();const s=e,r=e.getClientExtensionResults(),n=e.response;return{id:e.id,rawId:e.id,response:{authenticatorData:eu(new Uint8Array(n.authenticatorData)),clientDataJSON:eu(new Uint8Array(n.clientDataJSON)),signature:eu(new Uint8Array(n.signature)),userHandle:n.userHandle?eu(new Uint8Array(n.userHandle)):void 0},type:"public-key",clientExtensionResults:r,authenticatorAttachment:null!==(t=s.authenticatorAttachment)&&void 0!==t?t:void 0}}function Ku(e){return"localhost"===e||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(e)}function Vu(){var e,t;return!!(tu()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&"function"==typeof(null===(e=null===navigator||void 0===navigator?void 0:navigator.credentials)||void 0===e?void 0:e.create)&&"function"==typeof(null===(t=null===navigator||void 0===navigator?void 0:navigator.credentials)||void 0===t?void 0:t.get))}const Gu={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},Zu={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function Ju(...e){const t=e=>null!==e&&"object"==typeof e&&!Array.isArray(e),s=e=>e instanceof ArrayBuffer||ArrayBuffer.isView(e),r={};for(const n of e)if(n)for(const e in n){const a=n[e];if(void 0!==a)if(Array.isArray(a))r[e]=a;else if(s(a))r[e]=a;else if(t(a)){const s=r[e];t(s)?r[e]=Ju(s,a):r[e]=Ju(a)}else r[e]=a}return r}class Yu{constructor(e){this.client=e,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(e){return this.client.mfa.enroll(Object.assign(Object.assign({},e),{factorType:"webauthn"}))}async _challenge({factorId:e,webauthn:t,friendlyName:s,signal:r},n){try{const{data:a,error:i}=await this.client.mfa.challenge({factorId:e,webauthn:t});if(!a)return{data:null,error:i};const o=null!=r?r:Bu.createNewAbortSignal();if("create"===a.webauthn.type){const{user:e}=a.webauthn.credential_options.publicKey;e.name||(e.name=`${e.id}:${s}`),e.displayName||(e.displayName=e.name)}switch(a.webauthn.type){case"create":{const t=function(e,t){return Ju(Gu,e,t||{})}(a.webauthn.credential_options.publicKey,null==n?void 0:n.create),{data:s,error:r}=await async function(e){try{const t=await navigator.credentials.create(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new Lu("Browser returned unexpected credential type",t)}:{data:null,error:new Lu("Empty credential response",t)}}catch(t){return{data:null,error:Uu({error:t,options:e})}}}({publicKey:t,signal:o});return s?{data:{factorId:e,challengeId:a.id,webauthn:{type:a.webauthn.type,credential_response:s}},error:null}:{data:null,error:r}}case"request":{const t=function(e,t){return Ju(Zu,e,t||{})}(a.webauthn.credential_options.publicKey,null==n?void 0:n.request),{data:s,error:r}=await async function(e){try{const t=await navigator.credentials.get(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new Lu("Browser returned unexpected credential type",t)}:{data:null,error:new Lu("Empty credential response",t)}}catch(t){return{data:null,error:Fu({error:t,options:e})}}}(Object.assign(Object.assign({},a.webauthn.credential_options),{publicKey:t,signal:o}));return s?{data:{factorId:e,challengeId:a.id,webauthn:{type:a.webauthn.type,credential_response:s}},error:null}:{data:null,error:r}}}}catch(a){return Ad(a)?{data:null,error:a}:{data:null,error:new Id("Unexpected error in challenge",a)}}}async _verify({challengeId:e,factorId:t,webauthn:s}){return this.client.mfa.verify({factorId:t,challengeId:e,webauthn:s})}async _authenticate({factorId:e,webauthn:{rpId:t=("undefined"!=typeof window?window.location.hostname:void 0),rpOrigins:s=("undefined"!=typeof window?[window.location.origin]:void 0),signal:r}={}},n){if(!t)return{data:null,error:new Od("rpId is required for WebAuthn authentication")};try{if(!Vu())return{data:null,error:new Id("Browser does not support WebAuthn",null)};const{data:a,error:i}=await this.challenge({factorId:e,webauthn:{rpId:t,rpOrigins:s},signal:r},{request:n});if(!a)return{data:null,error:i};const{webauthn:o}=a;return this._verify({factorId:e,challengeId:a.challengeId,webauthn:{type:o.type,rpId:t,rpOrigins:s,credential_response:o.credential_response}})}catch(a){return Ad(a)?{data:null,error:a}:{data:null,error:new Id("Unexpected error in authenticate",a)}}}async _register({friendlyName:e,webauthn:{rpId:t=("undefined"!=typeof window?window.location.hostname:void 0),rpOrigins:s=("undefined"!=typeof window?[window.location.origin]:void 0),signal:r}={}},n){if(!t)return{data:null,error:new Od("rpId is required for WebAuthn registration")};try{if(!Vu())return{data:null,error:new Id("Browser does not support WebAuthn",null)};const{data:a,error:i}=await this._enroll({friendlyName:e});if(!a)return await this.client.mfa.listFactors().then(t=>{var s;return null===(s=t.data)||void 0===s?void 0:s.all.find(t=>"webauthn"===t.factor_type&&t.friendly_name===e&&"unverified"!==t.status)}).then(e=>e?this.client.mfa.unenroll({factorId:null==e?void 0:e.id}):void 0),{data:null,error:i};const{data:o,error:l}=await this._challenge({factorId:a.id,friendlyName:a.friendly_name,webauthn:{rpId:t,rpOrigins:s},signal:r},{create:n});return o?this._verify({factorId:a.id,challengeId:o.challengeId,webauthn:{rpId:t,rpOrigins:s,type:o.webauthn.type,credential_response:o.webauthn.credential_response}}):{data:null,error:l}}catch(a){return Ad(a)?{data:null,error:a}:{data:null,error:new Id("Unexpected error in register",a)}}}}!function(){if("object"!=typeof globalThis)try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch(e){"undefined"!=typeof self&&(self.globalThis=self)}}();const Qu={url:"http://localhost:9999",storageKey:"supabase.auth.token",autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:Ed,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1};async function Xu(e,t,s){return await s()}const eh={};class th{get jwks(){var e,t;return null!==(t=null===(e=eh[this.storageKey])||void 0===e?void 0:e.jwks)&&void 0!==t?t:{keys:[]}}set jwks(e){eh[this.storageKey]=Object.assign(Object.assign({},eh[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,t;return null!==(t=null===(e=eh[this.storageKey])||void 0===e?void 0:e.cachedAt)&&void 0!==t?t:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){eh[this.storageKey]=Object.assign(Object.assign({},eh[this.storageKey]),{cachedAt:e})}constructor(e){var t,s,r;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const n=Object.assign(Object.assign({},Qu),e);if(this.storageKey=n.storageKey,this.instanceID=null!==(t=th.nextInstanceID[this.storageKey])&&void 0!==t?t:0,th.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!n.debug,"function"==typeof n.debug&&(this.logger=n.debug),this.instanceID>0&&tu()){this._logPrefix();this.logDebugMessages}if(this.persistSession=n.persistSession,this.autoRefreshToken=n.autoRefreshToken,this.admin=new Tu({url:n.url,headers:n.headers,fetch:n.fetch}),this.url=n.url,this.headers=n.headers,this.fetch=nu(n.fetch),this.lock=n.lock||Xu,this.detectSessionInUrl=n.detectSessionInUrl,this.flowType=n.flowType,this.hasCustomAuthorizationHeader=n.hasCustomAuthorizationHeader,this.throwOnError=n.throwOnError,n.lock?this.lock=n.lock:tu()&&(null===(s=null===globalThis||void 0===globalThis?void 0:globalThis.navigator)||void 0===s?void 0:s.locks)?this.lock=Iu:this.lock=Xu,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new Yu(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this)},this.persistSession?(n.storage?this.storage=n.storage:ru()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=Ru(this.memoryStorage)),n.userStorage&&(this.userStorage=n.userStorage)):(this.memoryStorage={},this.storage=Ru(this.memoryStorage)),tu()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(a){}null===(r=this.broadcastChannel)||void 0===r||r.addEventListener("message",async e=>{this._debug("received broadcast notification from other tab or client",e),await this._notifyAllSubscribers(e.data.event,e.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(e){if(this.throwOnError&&e&&e.error)throw e.error;return e}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${Nd}) ${(new Date).toISOString()}`}_debug(...e){return this.logDebugMessages&&this.logger(this._logPrefix(),...e),this}async initialize(){return this.initializePromise||(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))()),await this.initializePromise}async _initialize(){var e;try{let t={},s="none";if(tu()&&(t=function(e){const t={},s=new URL(e);if(s.hash&&"#"===s.hash[0])try{new URLSearchParams(s.hash.substring(1)).forEach((e,s)=>{t[s]=e})}catch(r){}return s.searchParams.forEach((e,s)=>{t[s]=e}),t}(window.location.href),this._isImplicitGrantCallback(t)?s="implicit":await this._isPKCECallback(t)&&(s="pkce")),tu()&&this.detectSessionInUrl&&"none"!==s){const{data:r,error:n}=await this._getSessionFromURL(t,s);if(n){if(this._debug("#_initialize()","error detecting session from URL",n),function(e){return Ad(e)&&"AuthImplicitGrantRedirectError"===e.name}(n)){const t=null===(e=n.details)||void 0===e?void 0:e.code;if("identity_already_exists"===t||"identity_not_found"===t||"single_identity_not_deletable"===t)return{error:n}}return await this._removeSession(),{error:n}}const{session:a,redirectType:i}=r;return this._debug("#_initialize()","detected session in URL",a,"redirect type",i),await this._saveSession(a),setTimeout(async()=>{"recovery"===i?await this._notifyAllSubscribers("PASSWORD_RECOVERY",a):await this._notifyAllSubscribers("SIGNED_IN",a)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(t){return Ad(t)?this._returnResult({error:t}):this._returnResult({error:new Id("Unexpected error during initialization",t)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var t,s,r;try{const n=await wu(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:null!==(s=null===(t=null==e?void 0:e.options)||void 0===t?void 0:t.data)&&void 0!==s?s:{},gotrue_meta_security:{captcha_token:null===(r=null==e?void 0:e.options)||void 0===r?void 0:r.captchaToken}},xform:ju}),{data:a,error:i}=n;if(i||!a)return this._returnResult({data:{user:null,session:null},error:i});const o=a.session,l=a.user;return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",o)),this._returnResult({data:{user:l,session:o},error:null})}catch(n){if(Ad(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async signUp(e){var t,s,r;try{let n;if("email"in e){const{email:s,password:r,options:a}=e;let i=null,o=null;"pkce"===this.flowType&&([i,o]=await hu(this.storage,this.storageKey)),n=await wu(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:null==a?void 0:a.emailRedirectTo,body:{email:s,password:r,data:null!==(t=null==a?void 0:a.data)&&void 0!==t?t:{},gotrue_meta_security:{captcha_token:null==a?void 0:a.captchaToken},code_challenge:i,code_challenge_method:o},xform:ju})}else{if(!("phone"in e))throw new Ld("You must provide either an email or phone number and a password");{const{phone:t,password:a,options:i}=e;n=await wu(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:t,password:a,data:null!==(s=null==i?void 0:i.data)&&void 0!==s?s:{},channel:null!==(r=null==i?void 0:i.channel)&&void 0!==r?r:"sms",gotrue_meta_security:{captcha_token:null==i?void 0:i.captchaToken}},xform:ju})}}const{data:a,error:i}=n;if(i||!a)return this._returnResult({data:{user:null,session:null},error:i});const o=a.session,l=a.user;return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",o)),this._returnResult({data:{user:l,session:o},error:null})}catch(n){if(Ad(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async signInWithPassword(e){try{let t;if("email"in e){const{email:s,password:r,options:n}=e;t=await wu(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:s,password:r,gotrue_meta_security:{captcha_token:null==n?void 0:n.captchaToken}},xform:_u})}else{if(!("phone"in e))throw new Ld("You must provide either an email or phone number and a password");{const{phone:s,password:r,options:n}=e;t=await wu(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:s,password:r,gotrue_meta_security:{captcha_token:null==n?void 0:n.captchaToken}},xform:_u})}}const{data:s,error:r}=t;if(r)return this._returnResult({data:{user:null,session:null},error:r});if(!s||!s.session||!s.user){const e=new Dd;return this._returnResult({data:{user:null,session:null},error:e})}return s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",s.session)),this._returnResult({data:Object.assign({user:s.user,session:s.session},s.weak_password?{weakPassword:s.weak_password}:null),error:r})}catch(t){if(Ad(t))return this._returnResult({data:{user:null,session:null},error:t});throw t}}async signInWithOAuth(e){var t,s,r,n;return await this._handleProviderSignIn(e.provider,{redirectTo:null===(t=e.options)||void 0===t?void 0:t.redirectTo,scopes:null===(s=e.options)||void 0===s?void 0:s.scopes,queryParams:null===(r=e.options)||void 0===r?void 0:r.queryParams,skipBrowserRedirect:null===(n=e.options)||void 0===n?void 0:n.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:t}=e;switch(t){case"ethereum":return await this.signInWithEthereum(e);case"solana":return await this.signInWithSolana(e);default:throw new Error(`@supabase/auth-js: Unsupported chain "${t}"`)}}async signInWithEthereum(e){var t,s,r,n,a,i,o,l,c,d,u;let h,m;if("message"in e)h=e.message,m=e.signature;else{const{chain:d,wallet:u,statement:p,options:f}=e;let g;if(tu())if("object"==typeof u)g=u;else{const e=window;if(!("ethereum"in e)||"object"!=typeof e.ethereum||!("request"in e.ethereum)||"function"!=typeof e.ethereum.request)throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.");g=e.ethereum}else{if("object"!=typeof u||!(null==f?void 0:f.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");g=u}const x=new URL(null!==(t=null==f?void 0:f.url)&&void 0!==t?t:window.location.href),v=await g.request({method:"eth_requestAccounts"}).then(e=>e).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!v||0===v.length)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const y=Mu(v[0]);let b=null===(s=null==f?void 0:f.signInWithEthereum)||void 0===s?void 0:s.chainId;if(!b){const e=await g.request({method:"eth_chainId"});b=parseInt(e,16)}h=function(e){var t;const{chainId:s,domain:r,expirationTime:n,issuedAt:a=new Date,nonce:i,notBefore:o,requestId:l,resources:c,scheme:d,uri:u,version:h}=e;if(!Number.isInteger(s))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${s}`);if(!r)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(i&&i.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${i}`);if(!u)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if("1"!==h)throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${h}`);if(null===(t=e.statement)||void 0===t?void 0:t.includes("\n"))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${e.statement}`);const m=`${d?`${d}://${r}`:r} wants you to sign in with your Ethereum account:\n${Mu(e.address)}\n\n${e.statement?`${e.statement}\n`:""}`;let p=`URI: ${u}\nVersion: ${h}\nChain ID: ${s}${i?`\nNonce: ${i}`:""}\nIssued At: ${a.toISOString()}`;if(n&&(p+=`\nExpiration Time: ${n.toISOString()}`),o&&(p+=`\nNot Before: ${o.toISOString()}`),l&&(p+=`\nRequest ID: ${l}`),c){let e="\nResources:";for(const t of c){if(!t||"string"!=typeof t)throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${t}`);e+=`\n- ${t}`}p+=e}return`${m}\n${p}`}({domain:x.host,address:y,statement:p,uri:x.href,version:"1",chainId:b,nonce:null===(r=null==f?void 0:f.signInWithEthereum)||void 0===r?void 0:r.nonce,issuedAt:null!==(a=null===(n=null==f?void 0:f.signInWithEthereum)||void 0===n?void 0:n.issuedAt)&&void 0!==a?a:new Date,expirationTime:null===(i=null==f?void 0:f.signInWithEthereum)||void 0===i?void 0:i.expirationTime,notBefore:null===(o=null==f?void 0:f.signInWithEthereum)||void 0===o?void 0:o.notBefore,requestId:null===(l=null==f?void 0:f.signInWithEthereum)||void 0===l?void 0:l.requestId,resources:null===(c=null==f?void 0:f.signInWithEthereum)||void 0===c?void 0:c.resources}),m=await g.request({method:"personal_sign",params:[$u(h),y]})}try{const{data:t,error:s}=await wu(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:h,signature:m},(null===(d=e.options)||void 0===d?void 0:d.captchaToken)?{gotrue_meta_security:{captcha_token:null===(u=e.options)||void 0===u?void 0:u.captchaToken}}:null),xform:ju});if(s)throw s;if(!t||!t.session||!t.user){const e=new Dd;return this._returnResult({data:{user:null,session:null},error:e})}return t.session&&(await this._saveSession(t.session),await this._notifyAllSubscribers("SIGNED_IN",t.session)),this._returnResult({data:Object.assign({},t),error:s})}catch(p){if(Ad(p))return this._returnResult({data:{user:null,session:null},error:p});throw p}}async signInWithSolana(e){var t,s,r,n,a,i,o,l,c,d,u,h;let m,p;if("message"in e)m=e.message,p=e.signature;else{const{chain:u,wallet:h,statement:f,options:g}=e;let x;if(tu())if("object"==typeof h)x=h;else{const e=window;if(!("solana"in e)||"object"!=typeof e.solana||!("signIn"in e.solana&&"function"==typeof e.solana.signIn||"signMessage"in e.solana&&"function"==typeof e.solana.signMessage))throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.");x=e.solana}else{if("object"!=typeof h||!(null==g?void 0:g.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");x=h}const v=new URL(null!==(t=null==g?void 0:g.url)&&void 0!==t?t:window.location.href);if("signIn"in x&&x.signIn){const e=await x.signIn(Object.assign(Object.assign(Object.assign({issuedAt:(new Date).toISOString()},null==g?void 0:g.signInWithSolana),{version:"1",domain:v.host,uri:v.href}),f?{statement:f}:null));let t;if(Array.isArray(e)&&e[0]&&"object"==typeof e[0])t=e[0];else{if(!(e&&"object"==typeof e&&"signedMessage"in e&&"signature"in e))throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");t=e}if(!("signedMessage"in t&&"signature"in t&&("string"==typeof t.signedMessage||t.signedMessage instanceof Uint8Array)&&t.signature instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields");m="string"==typeof t.signedMessage?t.signedMessage:(new TextDecoder).decode(t.signedMessage),p=t.signature}else{if(!("signMessage"in x&&"function"==typeof x.signMessage&&"publicKey"in x&&"object"==typeof x&&x.publicKey&&"toBase58"in x.publicKey&&"function"==typeof x.publicKey.toBase58))throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");m=[`${v.host} wants you to sign in with your Solana account:`,x.publicKey.toBase58(),...f?["",f,""]:[""],"Version: 1",`URI: ${v.href}`,`Issued At: ${null!==(r=null===(s=null==g?void 0:g.signInWithSolana)||void 0===s?void 0:s.issuedAt)&&void 0!==r?r:(new Date).toISOString()}`,...(null===(n=null==g?void 0:g.signInWithSolana)||void 0===n?void 0:n.notBefore)?[`Not Before: ${g.signInWithSolana.notBefore}`]:[],...(null===(a=null==g?void 0:g.signInWithSolana)||void 0===a?void 0:a.expirationTime)?[`Expiration Time: ${g.signInWithSolana.expirationTime}`]:[],...(null===(i=null==g?void 0:g.signInWithSolana)||void 0===i?void 0:i.chainId)?[`Chain ID: ${g.signInWithSolana.chainId}`]:[],...(null===(o=null==g?void 0:g.signInWithSolana)||void 0===o?void 0:o.nonce)?[`Nonce: ${g.signInWithSolana.nonce}`]:[],...(null===(l=null==g?void 0:g.signInWithSolana)||void 0===l?void 0:l.requestId)?[`Request ID: ${g.signInWithSolana.requestId}`]:[],...(null===(d=null===(c=null==g?void 0:g.signInWithSolana)||void 0===c?void 0:c.resources)||void 0===d?void 0:d.length)?["Resources",...g.signInWithSolana.resources.map(e=>`- ${e}`)]:[]].join("\n");const e=await x.signMessage((new TextEncoder).encode(m),"utf8");if(!(e&&e instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");p=e}}try{const{data:t,error:s}=await wu(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:m,signature:eu(p)},(null===(u=e.options)||void 0===u?void 0:u.captchaToken)?{gotrue_meta_security:{captcha_token:null===(h=e.options)||void 0===h?void 0:h.captchaToken}}:null),xform:ju});if(s)throw s;if(!t||!t.session||!t.user){const e=new Dd;return this._returnResult({data:{user:null,session:null},error:e})}return t.session&&(await this._saveSession(t.session),await this._notifyAllSubscribers("SIGNED_IN",t.session)),this._returnResult({data:Object.assign({},t),error:s})}catch(f){if(Ad(f))return this._returnResult({data:{user:null,session:null},error:f});throw f}}async _exchangeCodeForSession(e){const t=await iu(this.storage,`${this.storageKey}-code-verifier`),[s,r]=(null!=t?t:"").split("/");try{const{data:t,error:n}=await wu(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:s},xform:ju});if(await ou(this.storage,`${this.storageKey}-code-verifier`),n)throw n;if(!t||!t.session||!t.user){const e=new Dd;return this._returnResult({data:{user:null,session:null,redirectType:null},error:e})}return t.session&&(await this._saveSession(t.session),await this._notifyAllSubscribers("SIGNED_IN",t.session)),this._returnResult({data:Object.assign(Object.assign({},t),{redirectType:null!=r?r:null}),error:n})}catch(n){if(Ad(n))return this._returnResult({data:{user:null,session:null,redirectType:null},error:n});throw n}}async signInWithIdToken(e){try{const{options:t,provider:s,token:r,access_token:n,nonce:a}=e,i=await wu(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:s,id_token:r,access_token:n,nonce:a,gotrue_meta_security:{captcha_token:null==t?void 0:t.captchaToken}},xform:ju}),{data:o,error:l}=i;if(l)return this._returnResult({data:{user:null,session:null},error:l});if(!o||!o.session||!o.user){const e=new Dd;return this._returnResult({data:{user:null,session:null},error:e})}return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",o.session)),this._returnResult({data:o,error:l})}catch(t){if(Ad(t))return this._returnResult({data:{user:null,session:null},error:t});throw t}}async signInWithOtp(e){var t,s,r,n,a;try{if("email"in e){const{email:r,options:n}=e;let a=null,i=null;"pkce"===this.flowType&&([a,i]=await hu(this.storage,this.storageKey));const{error:o}=await wu(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:r,data:null!==(t=null==n?void 0:n.data)&&void 0!==t?t:{},create_user:null===(s=null==n?void 0:n.shouldCreateUser)||void 0===s||s,gotrue_meta_security:{captcha_token:null==n?void 0:n.captchaToken},code_challenge:a,code_challenge_method:i},redirectTo:null==n?void 0:n.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:o})}if("phone"in e){const{phone:t,options:s}=e,{data:i,error:o}=await wu(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:t,data:null!==(r=null==s?void 0:s.data)&&void 0!==r?r:{},create_user:null===(n=null==s?void 0:s.shouldCreateUser)||void 0===n||n,gotrue_meta_security:{captcha_token:null==s?void 0:s.captchaToken},channel:null!==(a=null==s?void 0:s.channel)&&void 0!==a?a:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:null==i?void 0:i.message_id},error:o})}throw new Ld("You must provide either an email or phone number.")}catch(i){if(Ad(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async verifyOtp(e){var t,s;try{let r,n;"options"in e&&(r=null===(t=e.options)||void 0===t?void 0:t.redirectTo,n=null===(s=e.options)||void 0===s?void 0:s.captchaToken);const{data:a,error:i}=await wu(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:n}}),redirectTo:r,xform:ju});if(i)throw i;if(!a){throw new Error("An error occurred on token verification.")}const o=a.session,l=a.user;return(null==o?void 0:o.access_token)&&(await this._saveSession(o),await this._notifyAllSubscribers("recovery"==e.type?"PASSWORD_RECOVERY":"SIGNED_IN",o)),this._returnResult({data:{user:l,session:o},error:null})}catch(r){if(Ad(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithSSO(e){var t,s,r,n,a;try{let i=null,o=null;"pkce"===this.flowType&&([i,o]=await hu(this.storage,this.storageKey));const l=await wu(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:null!==(s=null===(t=e.options)||void 0===t?void 0:t.redirectTo)&&void 0!==s?s:void 0}),(null===(r=null==e?void 0:e.options)||void 0===r?void 0:r.captchaToken)?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:i,code_challenge_method:o}),headers:this.headers,xform:ku});return(null===(n=l.data)||void 0===n?void 0:n.url)&&tu()&&!(null===(a=e.options)||void 0===a?void 0:a.skipBrowserRedirect)&&window.location.assign(l.data.url),this._returnResult(l)}catch(i){if(Ad(i))return this._returnResult({data:null,error:i});throw i}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:t},error:s}=e;if(s)throw s;if(!t)throw new $d;const{error:r}=await wu(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:t.access_token});return this._returnResult({data:{user:null,session:null},error:r})})}catch(e){if(Ad(e))return this._returnResult({data:{user:null,session:null},error:e});throw e}}async resend(e){try{const t=`${this.url}/resend`;if("email"in e){const{email:s,type:r,options:n}=e,{error:a}=await wu(this.fetch,"POST",t,{headers:this.headers,body:{email:s,type:r,gotrue_meta_security:{captcha_token:null==n?void 0:n.captchaToken}},redirectTo:null==n?void 0:n.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:a})}if("phone"in e){const{phone:s,type:r,options:n}=e,{data:a,error:i}=await wu(this.fetch,"POST",t,{headers:this.headers,body:{phone:s,type:r,gotrue_meta_security:{captcha_token:null==n?void 0:n.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:null==a?void 0:a.message_id},error:i})}throw new Ld("You must provide either an email or phone number and a type")}catch(t){if(Ad(t))return this._returnResult({data:{user:null,session:null},error:t});throw t}}async getSession(){await this.initializePromise;return await this._acquireLock(-1,async()=>this._useSession(async e=>e))}async _acquireLock(e,t){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const e=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await e,await t()))();return this.pendingInLock.push((async()=>{try{await s}catch(e){}})()),s}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const e=t();for(this.pendingInLock.push((async()=>{try{await e}catch(t){}})()),await e;this.pendingInLock.length;){const e=[...this.pendingInLock];await Promise.all(e),this.pendingInLock.splice(0,e.length)}return await e}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const t=await this.__loadSession();return await e(t)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",(new Error).stack);try{let e=null;const t=await iu(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",t),null!==t&&(this._isValidSession(t)?e=t:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const s=!!e.expires_at&&1e3*e.expires_at-Date.now()<Sd;if(this._debug("#__loadSession()",`session has${s?"":" not"} expired`,"expires_at",e.expires_at),!s){if(this.userStorage){const t=await iu(this.userStorage,this.storageKey+"-user");(null==t?void 0:t.user)?e.user=t.user:e.user=gu()}if(this.storage.isServer&&e.user&&!e.user.__isUserNotAvailableProxy){const t={value:this.suppressGetSessionWarning};e.user=function(e,t){return new Proxy(e,{get:(e,s,r)=>{if("__isInsecureUserWarningProxy"===s)return!0;if("symbol"==typeof s){const t=s.toString();if("Symbol(Symbol.toPrimitive)"===t||"Symbol(Symbol.toStringTag)"===t||"Symbol(util.inspect.custom)"===t||"Symbol(nodejs.util.inspect.custom)"===t)return Reflect.get(e,s,r)}return t.value||"string"!=typeof s||(t.value=!0),Reflect.get(e,s,r)}})}(e.user,t),t.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:e},error:null}}const{data:r,error:n}=await this._callRefreshToken(e.refresh_token);return n?this._returnResult({data:{session:null},error:n}):this._returnResult({data:{session:r},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(e){if(e)return await this._getUser(e);await this.initializePromise;return await this._acquireLock(-1,async()=>await this._getUser())}async _getUser(e){try{return e?await wu(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:Nu}):await this._useSession(async e=>{var t,s,r;const{data:n,error:a}=e;if(a)throw a;return(null===(t=n.session)||void 0===t?void 0:t.access_token)||this.hasCustomAuthorizationHeader?await wu(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:null!==(r=null===(s=n.session)||void 0===s?void 0:s.access_token)&&void 0!==r?r:void 0,xform:Nu}):{data:{user:null},error:new $d}})}catch(t){if(Ad(t))return function(e){return Ad(e)&&"AuthSessionMissingError"===e.name}(t)&&(await this._removeSession(),await ou(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:t});throw t}}async updateUser(e,t={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,t))}async _updateUser(e,t={}){try{return await this._useSession(async s=>{const{data:r,error:n}=s;if(n)throw n;if(!r.session)throw new $d;const a=r.session;let i=null,o=null;"pkce"===this.flowType&&null!=e.email&&([i,o]=await hu(this.storage,this.storageKey));const{data:l,error:c}=await wu(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:null==t?void 0:t.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:i,code_challenge_method:o}),jwt:a.access_token,xform:Nu});if(c)throw c;return a.user=l.user,await this._saveSession(a),await this._notifyAllSubscribers("USER_UPDATED",a),this._returnResult({data:{user:a.user},error:null})})}catch(s){if(Ad(s))return this._returnResult({data:{user:null},error:s});throw s}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new $d;const t=Date.now()/1e3;let s=t,r=!0,n=null;const{payload:a}=cu(e.access_token);if(a.exp&&(s=a.exp,r=s<=t),r){const{data:t,error:s}=await this._callRefreshToken(e.refresh_token);if(s)return this._returnResult({data:{user:null,session:null},error:s});if(!t)return{data:{user:null,session:null},error:null};n=t}else{const{data:r,error:a}=await this._getUser(e.access_token);if(a)throw a;n={access_token:e.access_token,refresh_token:e.refresh_token,user:r.user,token_type:"bearer",expires_in:s-t,expires_at:s},await this._saveSession(n),await this._notifyAllSubscribers("SIGNED_IN",n)}return this._returnResult({data:{user:n.user,session:n},error:null})}catch(t){if(Ad(t))return this._returnResult({data:{session:null,user:null},error:t});throw t}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async t=>{var s;if(!e){const{data:r,error:n}=t;if(n)throw n;e=null!==(s=r.session)&&void 0!==s?s:void 0}if(!(null==e?void 0:e.refresh_token))throw new $d;const{data:r,error:n}=await this._callRefreshToken(e.refresh_token);return n?this._returnResult({data:{user:null,session:null},error:n}):r?this._returnResult({data:{user:r.user,session:r},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(t){if(Ad(t))return this._returnResult({data:{user:null,session:null},error:t});throw t}}async _getSessionFromURL(e,t){try{if(!tu())throw new Ud("No browser detected.");if(e.error||e.error_description||e.error_code)throw new Ud(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(t){case"implicit":if("pkce"===this.flowType)throw new Fd("Not a valid PKCE flow url.");break;case"pkce":if("implicit"===this.flowType)throw new Ud("Not a valid implicit grant flow url.")}if("pkce"===t){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new Fd("No code detected.");const{data:t,error:s}=await this._exchangeCodeForSession(e.code);if(s)throw s;const r=new URL(window.location.href);return r.searchParams.delete("code"),window.history.replaceState(window.history.state,"",r.toString()),{data:{session:t.session,redirectType:null},error:null}}const{provider_token:s,provider_refresh_token:r,access_token:n,refresh_token:a,expires_in:i,expires_at:o,token_type:l}=e;if(!(n&&i&&a&&l))throw new Ud("No session defined in URL");const c=Math.round(Date.now()/1e3),d=parseInt(i);let u=c+d;o&&(u=parseInt(o));const{data:h,error:m}=await this._getUser(n);if(m)throw m;const p={provider_token:s,provider_refresh_token:r,access_token:n,expires_in:d,expires_at:u,refresh_token:a,token_type:l,user:h.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:p,redirectType:e.type},error:null})}catch(s){if(Ad(s))return this._returnResult({data:{session:null,redirectType:null},error:s});throw s}}_isImplicitGrantCallback(e){return Boolean(e.access_token||e.error_description)}async _isPKCECallback(e){const t=await iu(this.storage,`${this.storageKey}-code-verifier`);return!(!e.code||!t)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async t=>{var s;const{data:r,error:n}=t;if(n)return this._returnResult({error:n});const a=null===(s=r.session)||void 0===s?void 0:s.access_token;if(a){const{error:t}=await this.admin.signOut(a,e);if(t&&(!function(e){return Ad(e)&&"AuthApiError"===e.name}(t)||404!==t.status&&401!==t.status&&403!==t.status))return this._returnResult({error:t})}return"others"!==e&&(await this._removeSession(),await ou(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(e){const t=Symbol("auth-callback"),s={id:t,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",t),this.stateChangeEmitters.delete(t)}};return this._debug("#onAuthStateChange()","registered callback with id",t),this.stateChangeEmitters.set(t,s),(async()=>{await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(t)})})(),{data:{subscription:s}}}async _emitInitialSession(e){return await this._useSession(async t=>{var s,r;try{const{data:{session:r},error:n}=t;if(n)throw n;await(null===(s=this.stateChangeEmitters.get(e))||void 0===s?void 0:s.callback("INITIAL_SESSION",r)),this._debug("INITIAL_SESSION","callback id",e,"session",r)}catch(n){await(null===(r=this.stateChangeEmitters.get(e))||void 0===r?void 0:r.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",n)}})}async resetPasswordForEmail(e,t={}){let s=null,r=null;"pkce"===this.flowType&&([s,r]=await hu(this.storage,this.storageKey,!0));try{return await wu(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:s,code_challenge_method:r,gotrue_meta_security:{captcha_token:t.captchaToken}},headers:this.headers,redirectTo:t.redirectTo})}catch(n){if(Ad(n))return this._returnResult({data:null,error:n});throw n}}async getUserIdentities(){var e;try{const{data:t,error:s}=await this.getUser();if(s)throw s;return this._returnResult({data:{identities:null!==(e=t.user.identities)&&void 0!==e?e:[]},error:null})}catch(t){if(Ad(t))return this._returnResult({data:null,error:t});throw t}}async linkIdentity(e){return"token"in e?this.linkIdentityIdToken(e):this.linkIdentityOAuth(e)}async linkIdentityOAuth(e){var t;try{const{data:s,error:r}=await this._useSession(async t=>{var s,r,n,a,i;const{data:o,error:l}=t;if(l)throw l;const c=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:null===(s=e.options)||void 0===s?void 0:s.redirectTo,scopes:null===(r=e.options)||void 0===r?void 0:r.scopes,queryParams:null===(n=e.options)||void 0===n?void 0:n.queryParams,skipBrowserRedirect:!0});return await wu(this.fetch,"GET",c,{headers:this.headers,jwt:null!==(i=null===(a=o.session)||void 0===a?void 0:a.access_token)&&void 0!==i?i:void 0})});if(r)throw r;return tu()&&!(null===(t=e.options)||void 0===t?void 0:t.skipBrowserRedirect)&&window.location.assign(null==s?void 0:s.url),this._returnResult({data:{provider:e.provider,url:null==s?void 0:s.url},error:null})}catch(s){if(Ad(s))return this._returnResult({data:{provider:e.provider,url:null},error:s});throw s}}async linkIdentityIdToken(e){return await this._useSession(async t=>{var s;try{const{error:r,data:{session:n}}=t;if(r)throw r;const{options:a,provider:i,token:o,access_token:l,nonce:c}=e,d=await wu(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:null!==(s=null==n?void 0:n.access_token)&&void 0!==s?s:void 0,body:{provider:i,id_token:o,access_token:l,nonce:c,link_identity:!0,gotrue_meta_security:{captcha_token:null==a?void 0:a.captchaToken}},xform:ju}),{data:u,error:h}=d;return h?this._returnResult({data:{user:null,session:null},error:h}):u&&u.session&&u.user?(u.session&&(await this._saveSession(u.session),await this._notifyAllSubscribers("USER_UPDATED",u.session)),this._returnResult({data:u,error:h})):this._returnResult({data:{user:null,session:null},error:new Dd})}catch(r){if(Ad(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}})}async unlinkIdentity(e){try{return await this._useSession(async t=>{var s,r;const{data:n,error:a}=t;if(a)throw a;return await wu(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:null!==(r=null===(s=n.session)||void 0===s?void 0:s.access_token)&&void 0!==r?r:void 0})})}catch(t){if(Ad(t))return this._returnResult({data:null,error:t});throw t}}async _refreshAccessToken(e){const t=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(t,"begin");try{const n=Date.now();return await(s=async s=>(s>0&&await async function(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}(200*Math.pow(2,s-1)),this._debug(t,"refreshing attempt",s),await wu(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:ju})),r=(e,t)=>{const s=200*Math.pow(2,e);return t&&qd(t)&&Date.now()+s-n<kd},new Promise((e,t)=>{(async()=>{for(let a=0;a<1/0;a++)try{const t=await s(a);if(!r(a,null,t))return void e(t)}catch(n){if(!r(a,n))return void t(n)}})()}))}catch(n){if(this._debug(t,"error",n),Ad(n))return this._returnResult({data:{session:null,user:null},error:n});throw n}finally{this._debug(t,"end")}var s,r}_isValidSession(e){return"object"==typeof e&&null!==e&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,t){const s=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:t.redirectTo,scopes:t.scopes,queryParams:t.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",t,"url",s),tu()&&!t.skipBrowserRedirect&&window.location.assign(s),{data:{provider:e,url:s},error:null}}async _recoverAndRefresh(){var e,t;const s="#_recoverAndRefresh()";this._debug(s,"begin");try{const n=await iu(this.storage,this.storageKey);if(n&&this.userStorage){let t=await iu(this.userStorage,this.storageKey+"-user");this.storage.isServer||!Object.is(this.storage,this.userStorage)||t||(t={user:n.user},await au(this.userStorage,this.storageKey+"-user",t)),n.user=null!==(e=null==t?void 0:t.user)&&void 0!==e?e:gu()}else if(n&&!n.user&&!n.user){const e=await iu(this.storage,this.storageKey+"-user");e&&(null==e?void 0:e.user)?(n.user=e.user,await ou(this.storage,this.storageKey+"-user"),await au(this.storage,this.storageKey,n)):n.user=gu()}if(this._debug(s,"session from storage",n),!this._isValidSession(n))return this._debug(s,"session is not valid"),void(null!==n&&await this._removeSession());const a=1e3*(null!==(t=n.expires_at)&&void 0!==t?t:1/0)-Date.now()<Sd;if(this._debug(s,`session has${a?"":" not"} expired with margin of 90000s`),a){if(this.autoRefreshToken&&n.refresh_token){const{error:e}=await this._callRefreshToken(n.refresh_token);e&&(qd(e)||(this._debug(s,"refresh failed with a non-retryable error, removing the session",e),await this._removeSession()))}}else if(n.user&&!0===n.user.__isUserNotAvailableProxy)try{const{data:e,error:t}=await this._getUser(n.access_token);!t&&(null==e?void 0:e.user)?(n.user=e.user,await this._saveSession(n),await this._notifyAllSubscribers("SIGNED_IN",n)):this._debug(s,"could not get user data, skipping SIGNED_IN notification")}catch(r){this._debug(s,"error getting user data, skipping SIGNED_IN notification",r)}else await this._notifyAllSubscribers("SIGNED_IN",n)}catch(n){return void this._debug(s,"error",n)}finally{this._debug(s,"end")}}async _callRefreshToken(e){var t,s;if(!e)throw new $d;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const r=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(r,"begin");try{this.refreshingDeferred=new lu;const{data:t,error:s}=await this._refreshAccessToken(e);if(s)throw s;if(!t.session)throw new $d;await this._saveSession(t.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",t.session);const r={data:t.session,error:null};return this.refreshingDeferred.resolve(r),r}catch(n){if(this._debug(r,"error",n),Ad(n)){const e={data:null,error:n};return qd(n)||await this._removeSession(),null===(t=this.refreshingDeferred)||void 0===t||t.resolve(e),e}throw null===(s=this.refreshingDeferred)||void 0===s||s.reject(n),n}finally{this.refreshingDeferred=null,this._debug(r,"end")}}async _notifyAllSubscribers(e,t,s=!0){const r=`#_notifyAllSubscribers(${e})`;this._debug(r,"begin",t,`broadcast = ${s}`);try{this.broadcastChannel&&s&&this.broadcastChannel.postMessage({event:e,session:t});const r=[],n=Array.from(this.stateChangeEmitters.values()).map(async s=>{try{await s.callback(e,t)}catch(n){r.push(n)}});if(await Promise.all(n),r.length>0){for(let e=0;e<r.length;e+=1);throw r[0]}}finally{this._debug(r,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0;const t=Object.assign({},e),s=t.user&&!0===t.user.__isUserNotAvailableProxy;if(this.userStorage){!s&&t.user&&await au(this.userStorage,this.storageKey+"-user",{user:t.user});const e=Object.assign({},t);delete e.user;const r=xu(e);await au(this.storage,this.storageKey,r)}else{const e=xu(t);await au(this.storage,this.storageKey,e)}}async _removeSession(){this._debug("#_removeSession()"),await ou(this.storage,this.storageKey),await ou(this.storage,this.storageKey+"-code-verifier"),await ou(this.storage,this.storageKey+"-user"),this.userStorage&&await ou(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&tu()&&(null===window||void 0===window?void 0:window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(t){}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),kd);this.autoRefreshTicker=e,e&&"object"==typeof e&&"function"==typeof e.unref?e.unref():"undefined"!=typeof Deno&&"function"==typeof Deno.unrefTimer&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async e=>{const{data:{session:s}}=e;if(!s||!s.refresh_token||!s.expires_at)return void this._debug("#_autoRefreshTokenTick()","no session");const r=Math.floor((1e3*s.expires_at-t)/kd);this._debug("#_autoRefreshTokenTick()",`access token expires in ${r} ticks, a tick lasts 30000ms, refresh threshold is 3 ticks`),r<=3&&await this._callRefreshToken(s.refresh_token)})}catch(e){}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(!(e.isAcquireTimeout||e instanceof Au))throw e;this._debug("auto refresh token tick lock not available")}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!tu()||!(null===window||void 0===window?void 0:window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),null===window||void 0===window||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){}}async _onVisibilityChanged(e){const t=`#_onVisibilityChanged(${e})`;this._debug(t,"visibilityState",document.visibilityState),"visible"===document.visibilityState?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{"visible"===document.visibilityState?await this._recoverAndRefresh():this._debug(t,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting")}))):"hidden"===document.visibilityState&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,t,s){const r=[`provider=${encodeURIComponent(t)}`];if((null==s?void 0:s.redirectTo)&&r.push(`redirect_to=${encodeURIComponent(s.redirectTo)}`),(null==s?void 0:s.scopes)&&r.push(`scopes=${encodeURIComponent(s.scopes)}`),"pkce"===this.flowType){const[e,t]=await hu(this.storage,this.storageKey),s=new URLSearchParams({code_challenge:`${encodeURIComponent(e)}`,code_challenge_method:`${encodeURIComponent(t)}`});r.push(s.toString())}if(null==s?void 0:s.queryParams){const e=new URLSearchParams(s.queryParams);r.push(e.toString())}return(null==s?void 0:s.skipBrowserRedirect)&&r.push(`skip_http_redirect=${s.skipBrowserRedirect}`),`${e}?${r.join("&")}`}async _unenroll(e){try{return await this._useSession(async t=>{var s;const{data:r,error:n}=t;return n?this._returnResult({data:null,error:n}):await wu(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:null===(s=null==r?void 0:r.session)||void 0===s?void 0:s.access_token})})}catch(t){if(Ad(t))return this._returnResult({data:null,error:t});throw t}}async _enroll(e){try{return await this._useSession(async t=>{var s,r;const{data:n,error:a}=t;if(a)return this._returnResult({data:null,error:a});const i=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},"phone"===e.factorType?{phone:e.phone}:"totp"===e.factorType?{issuer:e.issuer}:{}),{data:o,error:l}=await wu(this.fetch,"POST",`${this.url}/factors`,{body:i,headers:this.headers,jwt:null===(s=null==n?void 0:n.session)||void 0===s?void 0:s.access_token});return l?this._returnResult({data:null,error:l}):("totp"===e.factorType&&"totp"===o.type&&(null===(r=null==o?void 0:o.totp)||void 0===r?void 0:r.qr_code)&&(o.totp.qr_code=`data:image/svg+xml;utf-8,${o.totp.qr_code}`),this._returnResult({data:o,error:null}))})}catch(t){if(Ad(t))return this._returnResult({data:null,error:t});throw t}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async t=>{var s;const{data:r,error:n}=t;if(n)return this._returnResult({data:null,error:n});const a=Object.assign({challenge_id:e.challengeId},"webauthn"in e?{webauthn:Object.assign(Object.assign({},e.webauthn),{credential_response:"create"===e.webauthn.type?Wu(e.webauthn.credential_response):Hu(e.webauthn.credential_response)})}:{code:e.code}),{data:i,error:o}=await wu(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:a,headers:this.headers,jwt:null===(s=null==r?void 0:r.session)||void 0===s?void 0:s.access_token});return o?this._returnResult({data:null,error:o}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+i.expires_in},i)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",i),this._returnResult({data:i,error:o}))})}catch(t){if(Ad(t))return this._returnResult({data:null,error:t});throw t}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async t=>{var s;const{data:r,error:n}=t;if(n)return this._returnResult({data:null,error:n});const a=await wu(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:e,headers:this.headers,jwt:null===(s=null==r?void 0:r.session)||void 0===s?void 0:s.access_token});if(a.error)return a;const{data:i}=a;if("webauthn"!==i.type)return{data:i,error:null};switch(i.webauthn.type){case"create":return{data:Object.assign(Object.assign({},i),{webauthn:Object.assign(Object.assign({},i.webauthn),{credential_options:Object.assign(Object.assign({},i.webauthn.credential_options),{publicKey:qu(i.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},i),{webauthn:Object.assign(Object.assign({},i.webauthn),{credential_options:Object.assign(Object.assign({},i.webauthn.credential_options),{publicKey:zu(i.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(t){if(Ad(t))return this._returnResult({data:null,error:t});throw t}})}async _challengeAndVerify(e){const{data:t,error:s}=await this._challenge({factorId:e.factorId});return s?this._returnResult({data:null,error:s}):await this._verify({factorId:e.factorId,challengeId:t.id,code:e.code})}async _listFactors(){var e;const{data:{user:t},error:s}=await this.getUser();if(s)return{data:null,error:s};const r={all:[],phone:[],totp:[],webauthn:[]};for(const n of null!==(e=null==t?void 0:t.factors)&&void 0!==e?e:[])r.all.push(n),"verified"===n.status&&r[n.factor_type].push(n);return{data:r,error:null}}async _getAuthenticatorAssuranceLevel(){var e,t;const{data:{session:s},error:r}=await this.getSession();if(r)return this._returnResult({data:null,error:r});if(!s)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:n}=cu(s.access_token);let a=null;n.aal&&(a=n.aal);let i=a;(null!==(t=null===(e=s.user.factors)||void 0===e?void 0:e.filter(e=>"verified"===e.status))&&void 0!==t?t:[]).length>0&&(i="aal2");return{data:{currentLevel:a,nextLevel:i,currentAuthenticationMethods:n.amr||[]},error:null}}async _getAuthorizationDetails(e){try{return await this._useSession(async t=>{const{data:{session:s},error:r}=t;return r?this._returnResult({data:null,error:r}):s?await wu(this.fetch,"GET",`${this.url}/oauth/authorizations/${e}`,{headers:this.headers,jwt:s.access_token,xform:e=>({data:e,error:null})}):this._returnResult({data:null,error:new $d})})}catch(t){if(Ad(t))return this._returnResult({data:null,error:t});throw t}}async _approveAuthorization(e,t){try{return await this._useSession(async s=>{const{data:{session:r},error:n}=s;if(n)return this._returnResult({data:null,error:n});if(!r)return this._returnResult({data:null,error:new $d});const a=await wu(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:r.access_token,body:{action:"approve"},xform:e=>({data:e,error:null})});return a.data&&a.data.redirect_url&&tu()&&!(null==t?void 0:t.skipBrowserRedirect)&&window.location.assign(a.data.redirect_url),a})}catch(s){if(Ad(s))return this._returnResult({data:null,error:s});throw s}}async _denyAuthorization(e,t){try{return await this._useSession(async s=>{const{data:{session:r},error:n}=s;if(n)return this._returnResult({data:null,error:n});if(!r)return this._returnResult({data:null,error:new $d});const a=await wu(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:r.access_token,body:{action:"deny"},xform:e=>({data:e,error:null})});return a.data&&a.data.redirect_url&&tu()&&!(null==t?void 0:t.skipBrowserRedirect)&&window.location.assign(a.data.redirect_url),a})}catch(s){if(Ad(s))return this._returnResult({data:null,error:s});throw s}}async fetchJwk(e,t={keys:[]}){let s=t.keys.find(t=>t.kid===e);if(s)return s;const r=Date.now();if(s=this.jwks.keys.find(t=>t.kid===e),s&&this.jwks_cached_at+6e5>r)return s;const{data:n,error:a}=await wu(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(a)throw a;return n.keys&&0!==n.keys.length?(this.jwks=n,this.jwks_cached_at=r,s=n.keys.find(t=>t.kid===e),s||null):null}async getClaims(e,t={}){try{let s=e;if(!s){const{data:e,error:t}=await this.getSession();if(t||!e.session)return this._returnResult({data:null,error:t});s=e.session.access_token}const{header:r,payload:n,signature:a,raw:{header:i,payload:o}}=cu(s);(null==t?void 0:t.allowExpired)||function(e){if(!e)throw new Error("Missing exp claim");if(e<=Math.floor(Date.now()/1e3))throw new Error("JWT has expired")}(n.exp);const l=r.alg&&!r.alg.startsWith("HS")&&r.kid&&"crypto"in globalThis&&"subtle"in globalThis.crypto?await this.fetchJwk(r.kid,(null==t?void 0:t.keys)?{keys:t.keys}:null==t?void 0:t.jwks):null;if(!l){const{error:e}=await this.getUser(s);if(e)throw e;return{data:{claims:n,header:r,signature:a},error:null}}const c=function(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}(r.alg),d=await crypto.subtle.importKey("jwk",l,c,!0,["verify"]);if(!(await crypto.subtle.verify(c,d,a,Xd(`${i}.${o}`))))throw new Wd("Invalid JWT signature");return{data:{claims:n,header:r,signature:a},error:null}}catch(s){if(Ad(s))return this._returnResult({data:null,error:s});throw s}}}th.nextInstanceID={};const sh=th;class rh extends sh{constructor(e){super(e)}}class nh{constructor(e,t,s){var r,n,a;this.supabaseUrl=e,this.supabaseKey=t;const i=function(e){const t=null==e?void 0:e.trim();if(!t)throw new Error("supabaseUrl is required.");if(!t.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL((s=t).endsWith("/")?s:s+"/")}catch(r){throw Error("Invalid supabaseUrl: Provided URL is malformed.")}var s}(e);if(!t)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",i),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",i),this.storageUrl=new URL("storage/v1",i),this.functionsUrl=new URL("functions/v1",i);const o=`sb-${i.hostname.split(".")[0]}-auth-token`,l=function(e,t){var s,r;const{db:n,auth:a,realtime:i,global:o}=e,{db:l,auth:c,realtime:d,global:u}=t,h={db:Object.assign(Object.assign({},l),n),auth:Object.assign(Object.assign({},c),a),realtime:Object.assign(Object.assign({},d),i),storage:{},global:Object.assign(Object.assign(Object.assign({},u),o),{headers:Object.assign(Object.assign({},null!==(s=null==u?void 0:u.headers)&&void 0!==s?s:{}),null!==(r=null==o?void 0:o.headers)&&void 0!==r?r:{})}),accessToken:async()=>""};return e.accessToken?h.accessToken=e.accessToken:delete h.accessToken,h}(null!=s?s:{},{db:bd,realtime:jd,auth:Object.assign(Object.assign({},wd),{storageKey:o}),global:yd});this.storageKey=null!==(r=l.auth.storageKey)&&void 0!==r?r:"",this.headers=null!==(n=l.global.headers)&&void 0!==n?n:{},l.accessToken?(this.accessToken=l.accessToken,this.auth=new Proxy({},{get:(e,t)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(t)} is not possible`)}})):this.auth=this._initSupabaseAuthClient(null!==(a=l.auth)&&void 0!==a?a:{},this.headers,l.global.fetch),this.fetch=_d(t,this._getAccessToken.bind(this),l.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},l.realtime)),this.accessToken&&this.accessToken().then(e=>this.realtime.setAuth(e)).catch(e=>{}),this.rest=new Pl(new URL("rest/v1",i).href,{headers:this.headers,schema:l.db.schema,fetch:this.fetch}),this.storage=new xd(this.storageUrl.href,this.headers,this.fetch,null==s?void 0:s.storage),l.accessToken||this._listenForAuthEvents()}get functions(){return new Qo(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,t={},s={head:!1,get:!1,count:void 0}){return this.rest.rpc(e,t,s)}channel(e,t={config:{}}){return this.realtime.channel(e,t)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var e,t;if(this.accessToken)return await this.accessToken();const{data:s}=await this.auth.getSession();return null!==(t=null===(e=s.session)||void 0===e?void 0:e.access_token)&&void 0!==t?t:this.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:t,detectSessionInUrl:s,storage:r,userStorage:n,storageKey:a,flowType:i,lock:o,debug:l,throwOnError:c},d,u){const h={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new rh({url:this.authUrl.href,headers:Object.assign(Object.assign({},h),d),storageKey:a,autoRefreshToken:e,persistSession:t,detectSessionInUrl:s,storage:r,userStorage:n,flowType:i,lock:o,debug:l,throwOnError:c,fetch:u,hasCustomAuthorizationHeader:Object.keys(this.headers).some(e=>"authorization"===e.toLowerCase())})}_initRealtimeClient(e){return new Cc(this.realtimeUrl.href,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},null==e?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((e,t)=>{this._handleTokenChanged(e,"CLIENT",null==t?void 0:t.access_token)})}_handleTokenChanged(e,t,s){"TOKEN_REFRESHED"!==e&&"SIGNED_IN"!==e||this.changedAccessToken===s?"SIGNED_OUT"===e&&(this.realtime.setAuth(),"STORAGE"==t&&this.auth.signOut(),this.changedAccessToken=void 0):(this.changedAccessToken=s,this.realtime.setAuth(s))}}!function(){if("undefined"!=typeof window)return!1;if("undefined"==typeof process)return!1;const e=process.version;if(null==e)return!1;const t=e.match(/^v(\d+)\./);!!t&&parseInt(t[1],10)}();const ah=(ih={auth:{storage:localStorage,persistSession:!0,autoRefreshToken:!0}},new nh("https://izaixznfdhdmavtwdhnr.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Iml6YWl4em5mZGhkbWF2dHdkaG5yIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjI5Mzc0MTEsImV4cCI6MjA3ODUxMzQxMX0.HnWBX3B7ocglUgZ91Say1TPkWQ6f5NbDF4pYL3CirRs",ih));var ih;const oh=rt,lh=nt,ch=st,dh=Pt.forwardRef(({className:e,...t},s)=>Ce.jsx(Ye,{ref:s,className:Aa("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t}));dh.displayName=Ye.displayName;const uh=Pt.forwardRef(({className:e,children:t,...s},r)=>Ce.jsxs(ch,{children:[Ce.jsx(dh,{}),Ce.jsxs(Qe,{ref:r,className:Aa("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...s,children:[t,Ce.jsxs(Xe,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity data-[state=open]:bg-accent data-[state=open]:text-muted-foreground hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none",children:[Ce.jsx(Un,{className:"h-4 w-4"}),Ce.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));uh.displayName=Qe.displayName;const hh=({className:e,...t})=>Ce.jsx("div",{className:Aa("flex flex-col space-y-1.5 text-center sm:text-left",e),...t});hh.displayName="DialogHeader";const mh=Pt.forwardRef(({className:e,...t},s)=>Ce.jsx(et,{ref:s,className:Aa("text-lg font-semibold leading-none tracking-tight",e),...t}));mh.displayName=et.displayName;function ph(){const[e,t]=Pt.useState(null),[s,r]=Pt.useState(!1);Pt.useEffect(()=>{n()},[]);const n=async()=>{try{const{data:e,error:s}=await ah.from("announcements").select("*").eq("is_active",!0).order("created_at",{ascending:!1}).limit(1).maybeSingle();if(s)throw s;e&&(t(e),r(!0))}catch(e){}};return e?Ce.jsx(oh,{open:s,onOpenChange:r,children:Ce.jsxs(uh,{className:"max-w-2xl",children:[Ce.jsx(hh,{children:Ce.jsx(mh,{className:"text-2xl",children:e.title})}),Ce.jsxs("div",{className:"space-y-4",children:[e.image_url&&Ce.jsx("img",{src:e.image_url,alt:e.title,className:"w-full h-auto rounded-lg object-cover max-h-96"}),Ce.jsx("p",{className:"text-muted-foreground whitespace-pre-wrap",children:e.message})]})]})}):null}Pt.forwardRef(({className:e,...t},s)=>Ce.jsx(tt,{ref:s,className:Aa("text-sm text-muted-foreground",e),...t})).displayName=tt.displayName;var fh="Collapsible",[gh,xh]=Se(fh),[vh,yh]=gh(fh),bh=Pt.forwardRef((e,t)=>{const{__scopeCollapsible:s,open:r,defaultOpen:n,disabled:a,onOpenChange:i,...o}=e,[l,c]=Ae({prop:r,defaultProp:n??!1,onChange:i,caller:fh});return Ce.jsx(vh,{scope:s,disabled:a,contentId:at(),open:l,onOpenToggle:Pt.useCallback(()=>c(e=>!e),[c]),children:Ce.jsx(Re.div,{"data-state":Sh(l),"data-disabled":a?"":void 0,...o,ref:t})})});bh.displayName=fh;var wh="CollapsibleTrigger",jh=Pt.forwardRef((e,t)=>{const{__scopeCollapsible:s,...r}=e,n=yh(wh,s);return Ce.jsx(Re.button,{type:"button","aria-controls":n.contentId,"aria-expanded":n.open||!1,"data-state":Sh(n.open),"data-disabled":n.disabled?"":void 0,disabled:n.disabled,...r,ref:t,onClick:Me(e.onClick,n.onOpenToggle)})});jh.displayName=wh;var _h="CollapsibleContent",Nh=Pt.forwardRef((e,t)=>{const{forceMount:s,...r}=e,n=yh(_h,e.__scopeCollapsible);return Ce.jsx(Pe,{present:s||n.open,children:({present:e})=>Ce.jsx(kh,{...r,ref:t,present:e})})});Nh.displayName=_h;var kh=Pt.forwardRef((e,t)=>{const{__scopeCollapsible:s,present:r,children:n,...a}=e,i=yh(_h,s),[o,l]=Pt.useState(r),c=Pt.useRef(null),d=Ee(t,c),u=Pt.useRef(0),h=u.current,m=Pt.useRef(0),p=m.current,f=i.open||o,g=Pt.useRef(f),x=Pt.useRef(void 0);return Pt.useEffect(()=>{const e=requestAnimationFrame(()=>g.current=!1);return()=>cancelAnimationFrame(e)},[]),Le(()=>{const e=c.current;if(e){x.current=x.current||{transitionDuration:e.style.transitionDuration,animationName:e.style.animationName},e.style.transitionDuration="0s",e.style.animationName="none";const t=e.getBoundingClientRect();u.current=t.height,m.current=t.width,g.current||(e.style.transitionDuration=x.current.transitionDuration,e.style.animationName=x.current.animationName),l(r)}},[i.open,r]),Ce.jsx(Re.div,{"data-state":Sh(i.open),"data-disabled":i.disabled?"":void 0,id:i.contentId,hidden:!f,...a,ref:d,style:{"--radix-collapsible-content-height":h?`${h}px`:void 0,"--radix-collapsible-content-width":p?`${p}px`:void 0,...e.style},children:f&&n})});function Sh(e){return e?"open":"closed"}var Eh=bh,Ch=jh,Th=Nh,Rh="Accordion",Oh=["Home","End","ArrowDown","ArrowUp","ArrowLeft","ArrowRight"],[Ah,Ph,Ih]=ke(Rh),[Mh,$h]=Se(Rh,[Ih,xh]),Dh=xh(),Lh=At.forwardRef((e,t)=>{const{type:s,...r}=e,n=r,a=r;return Ce.jsx(Ah.Provider,{scope:e.__scopeAccordion,children:"multiple"===s?Ce.jsx(Wh,{...a,ref:t}):Ce.jsx(zh,{...n,ref:t})})});Lh.displayName=Rh;var[Uh,Fh]=Mh(Rh),[Bh,qh]=Mh(Rh,{collapsible:!1}),zh=At.forwardRef((e,t)=>{const{value:s,defaultValue:r,onValueChange:n=()=>{},collapsible:a=!1,...i}=e,[o,l]=Ae({prop:s,defaultProp:r??"",onChange:n,caller:Rh});return Ce.jsx(Uh,{scope:e.__scopeAccordion,value:At.useMemo(()=>o?[o]:[],[o]),onItemOpen:l,onItemClose:At.useCallback(()=>a&&l(""),[a,l]),children:Ce.jsx(Bh,{scope:e.__scopeAccordion,collapsible:a,children:Ce.jsx(Vh,{...i,ref:t})})})}),Wh=At.forwardRef((e,t)=>{const{value:s,defaultValue:r,onValueChange:n=()=>{},...a}=e,[i,o]=Ae({prop:s,defaultProp:r??[],onChange:n,caller:Rh}),l=At.useCallback(e=>o((t=[])=>[...t,e]),[o]),c=At.useCallback(e=>o((t=[])=>t.filter(t=>t!==e)),[o]);return Ce.jsx(Uh,{scope:e.__scopeAccordion,value:i,onItemOpen:l,onItemClose:c,children:Ce.jsx(Bh,{scope:e.__scopeAccordion,collapsible:!0,children:Ce.jsx(Vh,{...a,ref:t})})})}),[Hh,Kh]=Mh(Rh),Vh=At.forwardRef((e,t)=>{const{__scopeAccordion:s,disabled:r,dir:n,orientation:a="vertical",...i}=e,o=At.useRef(null),l=Ee(o,t),c=Ph(s),d="ltr"===it(n),u=Me(e.onKeyDown,e=>{var t;if(!Oh.includes(e.key))return;const s=e.target,r=c().filter(e=>{var t;return!(null==(t=e.ref.current)?void 0:t.disabled)}),n=r.findIndex(e=>e.ref.current===s),i=r.length;if(-1===n)return;e.preventDefault();let o=n;const l=i-1,u=()=>{o=n+1,o>l&&(o=0)},h=()=>{o=n-1,o<0&&(o=l)};switch(e.key){case"Home":o=0;break;case"End":o=l;break;case"ArrowRight":"horizontal"===a&&(d?u():h());break;case"ArrowDown":"vertical"===a&&u();break;case"ArrowLeft":"horizontal"===a&&(d?h():u());break;case"ArrowUp":"vertical"===a&&h()}null==(t=r[o%i].ref.current)||t.focus()});return Ce.jsx(Hh,{scope:s,disabled:r,direction:n,orientation:a,children:Ce.jsx(Ah.Slot,{scope:s,children:Ce.jsx(Re.div,{...i,"data-orientation":a,ref:l,onKeyDown:r?void 0:u})})})}),Gh="AccordionItem",[Zh,Jh]=Mh(Gh),Yh=At.forwardRef((e,t)=>{const{__scopeAccordion:s,value:r,...n}=e,a=Kh(Gh,s),i=Fh(Gh,s),o=Dh(s),l=at(),c=r&&i.value.includes(r)||!1,d=a.disabled||e.disabled;return Ce.jsx(Zh,{scope:s,open:c,disabled:d,triggerId:l,children:Ce.jsx(Eh,{"data-orientation":a.orientation,"data-state":nm(c),...o,...n,ref:t,disabled:d,open:c,onOpenChange:e=>{e?i.onItemOpen(r):i.onItemClose(r)}})})});Yh.displayName=Gh;var Qh="AccordionHeader",Xh=At.forwardRef((e,t)=>{const{__scopeAccordion:s,...r}=e,n=Kh(Rh,s),a=Jh(Qh,s);return Ce.jsx(Re.h3,{"data-orientation":n.orientation,"data-state":nm(a.open),"data-disabled":a.disabled?"":void 0,...r,ref:t})});Xh.displayName=Qh;var em="AccordionTrigger",tm=At.forwardRef((e,t)=>{const{__scopeAccordion:s,...r}=e,n=Kh(Rh,s),a=Jh(em,s),i=qh(em,s),o=Dh(s);return Ce.jsx(Ah.ItemSlot,{scope:s,children:Ce.jsx(Ch,{"aria-disabled":a.open&&!i.collapsible||void 0,"data-orientation":n.orientation,id:a.triggerId,...o,...r,ref:t})})});tm.displayName=em;var sm="AccordionContent",rm=At.forwardRef((e,t)=>{const{__scopeAccordion:s,...r}=e,n=Kh(Rh,s),a=Jh(sm,s),i=Dh(s);return Ce.jsx(Th,{role:"region","aria-labelledby":a.triggerId,"data-orientation":n.orientation,...i,...r,ref:t,style:{"--radix-accordion-content-height":"var(--radix-collapsible-content-height)","--radix-accordion-content-width":"var(--radix-collapsible-content-width)",...e.style}})});function nm(e){return e?"open":"closed"}rm.displayName=sm;var am=Yh,im=Xh,om=tm,lm=rm;const cm=Lh,dm=Pt.forwardRef(({className:e,...t},s)=>Ce.jsx(am,{ref:s,className:Aa("border-b",e),...t}));dm.displayName="AccordionItem";const um=Pt.forwardRef(({className:e,children:t,...s},r)=>Ce.jsx(im,{className:"flex",children:Ce.jsxs(om,{ref:r,className:Aa("flex flex-1 items-center justify-between py-4 font-medium transition-all hover:underline [&[data-state=open]>svg]:rotate-180",e),...s,children:[t,Ce.jsx(rn,{className:"h-4 w-4 shrink-0 transition-transform duration-200"})]})}));um.displayName=om.displayName;const hm=Pt.forwardRef(({className:e,children:t,...s},r)=>Ce.jsx(lm,{ref:r,className:"overflow-hidden text-sm transition-all data-[state=closed]:animate-accordion-up data-[state=open]:animate-accordion-down",...s,children:Ce.jsx("div",{className:Aa("pb-4 pt-0",e),children:t})}));hm.displayName=lm.displayName;var mm="NavigationMenu",[pm,fm,gm]=ke(mm),[xm,vm,ym]=ke(mm),[bm,wm]=Se(mm,[gm,ym]),[jm,_m]=bm(mm),[Nm,km]=bm(mm),Sm=Pt.forwardRef((e,t)=>{const{__scopeNavigationMenu:s,value:r,onValueChange:n,defaultValue:a,delayDuration:i=200,skipDelayDuration:o=300,orientation:l="horizontal",dir:c,...d}=e,[u,h]=Pt.useState(null),m=Ee(t,e=>h(e)),p=it(c),f=Pt.useRef(0),g=Pt.useRef(0),x=Pt.useRef(0),[v,y]=Pt.useState(!0),[b,w]=Ae({prop:r,onChange:e=>{const t=o>0;""!==e?(window.clearTimeout(x.current),t&&y(!1)):(window.clearTimeout(x.current),x.current=window.setTimeout(()=>y(!0),o)),null==n||n(e)},defaultProp:a??"",caller:mm}),j=Pt.useCallback(()=>{window.clearTimeout(g.current),g.current=window.setTimeout(()=>w(""),150)},[w]),_=Pt.useCallback(e=>{window.clearTimeout(g.current),w(e)},[w]),N=Pt.useCallback(e=>{b===e?window.clearTimeout(g.current):f.current=window.setTimeout(()=>{window.clearTimeout(g.current),w(e)},i)},[b,w,i]);return Pt.useEffect(()=>()=>{window.clearTimeout(f.current),window.clearTimeout(g.current),window.clearTimeout(x.current)},[]),Ce.jsx(Cm,{scope:s,isRootMenu:!0,value:b,dir:p,orientation:l,rootNavigationMenu:u,onTriggerEnter:e=>{window.clearTimeout(f.current),v?N(e):_(e)},onTriggerLeave:()=>{window.clearTimeout(f.current),j()},onContentEnter:()=>window.clearTimeout(g.current),onContentLeave:j,onItemSelect:e=>{w(t=>t===e?"":e)},onItemDismiss:()=>w(""),children:Ce.jsx(Re.nav,{"aria-label":"Main","data-orientation":l,dir:p,...d,ref:m})})});Sm.displayName=mm;var Em="NavigationMenuSub";Pt.forwardRef((e,t)=>{const{__scopeNavigationMenu:s,value:r,onValueChange:n,defaultValue:a,orientation:i="horizontal",...o}=e,l=_m(Em,s),[c,d]=Ae({prop:r,onChange:n,defaultProp:a??"",caller:Em});return Ce.jsx(Cm,{scope:s,isRootMenu:!1,value:c,dir:l.dir,orientation:i,rootNavigationMenu:l.rootNavigationMenu,onTriggerEnter:e=>d(e),onItemSelect:e=>d(e),onItemDismiss:()=>d(""),children:Ce.jsx(Re.div,{"data-orientation":i,...o,ref:t})})}).displayName=Em;var Cm=e=>{const{scope:t,isRootMenu:s,rootNavigationMenu:r,dir:n,orientation:a,children:i,value:o,onItemSelect:l,onItemDismiss:c,onTriggerEnter:d,onTriggerLeave:u,onContentEnter:h,onContentLeave:m}=e,[p,f]=Pt.useState(null),[g,x]=Pt.useState(new Map),[v,y]=Pt.useState(null);return Ce.jsx(jm,{scope:t,isRootMenu:s,rootNavigationMenu:r,value:o,previousValue:ot(o),baseId:at(),dir:n,orientation:a,viewport:p,onViewportChange:f,indicatorTrack:v,onIndicatorTrackChange:y,onTriggerEnter:Ie(d),onTriggerLeave:Ie(u),onContentEnter:Ie(h),onContentLeave:Ie(m),onItemSelect:Ie(l),onItemDismiss:Ie(c),onViewportContentChange:Pt.useCallback((e,t)=>{x(s=>(s.set(e,t),new Map(s)))},[]),onViewportContentRemove:Pt.useCallback(e=>{x(t=>t.has(e)?(t.delete(e),new Map(t)):t)},[]),children:Ce.jsx(pm.Provider,{scope:t,children:Ce.jsx(Nm,{scope:t,items:g,children:i})})})},Tm="NavigationMenuList",Rm=Pt.forwardRef((e,t)=>{const{__scopeNavigationMenu:s,...r}=e,n=_m(Tm,s),a=Ce.jsx(Re.ul,{"data-orientation":n.orientation,...r,ref:t});return Ce.jsx(Re.div,{style:{position:"relative"},ref:n.onIndicatorTrackChange,children:Ce.jsx(pm.Slot,{scope:s,children:n.isRootMenu?Ce.jsx(Jm,{asChild:!0,children:a}):a})})});Rm.displayName=Tm;var Om="NavigationMenuItem",[Am,Pm]=bm(Om),Im=Pt.forwardRef((e,t)=>{const{__scopeNavigationMenu:s,value:r,...n}=e,a=at(),i=r||a||"LEGACY_REACT_AUTO_VALUE",o=Pt.useRef(null),l=Pt.useRef(null),c=Pt.useRef(null),d=Pt.useRef(()=>{}),u=Pt.useRef(!1),h=Pt.useCallback((e="start")=>{if(o.current){d.current();const t=Xm(o.current);t.length&&ep("start"===e?t:t.reverse())}},[]),m=Pt.useCallback(()=>{if(o.current){const e=Xm(o.current);e.length&&(d.current=function(e){return e.forEach(e=>{e.dataset.tabindex=e.getAttribute("tabindex")||"",e.setAttribute("tabindex","-1")}),()=>{e.forEach(e=>{const t=e.dataset.tabindex;e.setAttribute("tabindex",t)})}}(e))}},[]);return Ce.jsx(Am,{scope:s,value:i,triggerRef:l,contentRef:o,focusProxyRef:c,wasEscapeCloseRef:u,onEntryKeyDown:h,onFocusProxyEnter:h,onRootContentClose:m,onContentFocusOutside:m,children:Ce.jsx(Re.li,{...n,ref:t})})});Im.displayName=Om;var Mm="NavigationMenuTrigger",$m=Pt.forwardRef((e,t)=>{const{__scopeNavigationMenu:s,disabled:r,...n}=e,a=_m(Mm,e.__scopeNavigationMenu),i=Pm(Mm,e.__scopeNavigationMenu),o=Pt.useRef(null),l=Ee(o,i.triggerRef,t),c=rp(a.baseId,i.value),d=np(a.baseId,i.value),u=Pt.useRef(!1),h=Pt.useRef(!1),m=i.value===a.value;return Ce.jsxs(Ce.Fragment,{children:[Ce.jsx(pm.ItemSlot,{scope:s,value:i.value,children:Ce.jsx(Qm,{asChild:!0,children:Ce.jsx(Re.button,{id:c,disabled:r,"data-disabled":r?"":void 0,"data-state":sp(m),"aria-expanded":m,"aria-controls":d,...n,ref:l,onPointerEnter:Me(e.onPointerEnter,()=>{h.current=!1,i.wasEscapeCloseRef.current=!1}),onPointerMove:Me(e.onPointerMove,ap(()=>{r||h.current||i.wasEscapeCloseRef.current||u.current||(a.onTriggerEnter(i.value),u.current=!0)})),onPointerLeave:Me(e.onPointerLeave,ap(()=>{r||(a.onTriggerLeave(),u.current=!1)})),onClick:Me(e.onClick,()=>{a.onItemSelect(i.value),h.current=m}),onKeyDown:Me(e.onKeyDown,e=>{const t={horizontal:"ArrowDown",vertical:"rtl"===a.dir?"ArrowLeft":"ArrowRight"}[a.orientation];m&&e.key===t&&(i.onEntryKeyDown(),e.preventDefault())})})})}),m&&Ce.jsxs(Ce.Fragment,{children:[Ce.jsx(We,{"aria-hidden":!0,tabIndex:0,ref:i.focusProxyRef,onFocus:e=>{const t=i.contentRef.current,s=e.relatedTarget,r=s===o.current,n=null==t?void 0:t.contains(s);!r&&n||i.onFocusProxyEnter(r?"start":"end")}}),a.viewport&&Ce.jsx("span",{"aria-owns":d})]})]})});$m.displayName=Mm;var Dm="navigationMenu.linkSelect",Lm=Pt.forwardRef((e,t)=>{const{__scopeNavigationMenu:s,active:r,onSelect:n,...a}=e;return Ce.jsx(Qm,{asChild:!0,children:Ce.jsx(Re.a,{"data-active":r?"":void 0,"aria-current":r?"page":void 0,...a,ref:t,onClick:Me(e.onClick,e=>{const t=e.target,s=new CustomEvent(Dm,{bubbles:!0,cancelable:!0});if(t.addEventListener(Dm,e=>null==n?void 0:n(e),{once:!0}),Ue(t,s),!s.defaultPrevented&&!e.metaKey){const e=new CustomEvent(Hm,{bubbles:!0,cancelable:!0});Ue(t,e)}},{checkForDefaultPrevented:!1})})})});Lm.displayName="NavigationMenuLink";var Um="NavigationMenuIndicator",Fm=Pt.forwardRef((e,t)=>{const{forceMount:s,...r}=e,n=_m(Um,e.__scopeNavigationMenu),a=Boolean(n.value);return n.indicatorTrack?It.createPortal(Ce.jsx(Pe,{present:s||a,children:Ce.jsx(Bm,{...r,ref:t})}),n.indicatorTrack):null});Fm.displayName=Um;var Bm=Pt.forwardRef((e,t)=>{const{__scopeNavigationMenu:s,...r}=e,n=_m(Um,s),a=fm(s),[i,o]=Pt.useState(null),[l,c]=Pt.useState(null),d="horizontal"===n.orientation,u=Boolean(n.value);Pt.useEffect(()=>{var e;const t=null==(e=a().find(e=>e.value===n.value))?void 0:e.ref.current;t&&o(t)},[a,n.value]);const h=()=>{i&&c({size:d?i.offsetWidth:i.offsetHeight,offset:d?i.offsetLeft:i.offsetTop})};return tp(i,h),tp(n.indicatorTrack,h),l?Ce.jsx(Re.div,{"aria-hidden":!0,"data-state":u?"visible":"hidden","data-orientation":n.orientation,...r,ref:t,style:{position:"absolute",...d?{left:0,width:l.size+"px",transform:`translateX(${l.offset}px)`}:{top:0,height:l.size+"px",transform:`translateY(${l.offset}px)`},...r.style}}):null}),qm="NavigationMenuContent",zm=Pt.forwardRef((e,t)=>{const{forceMount:s,...r}=e,n=_m(qm,e.__scopeNavigationMenu),a=Pm(qm,e.__scopeNavigationMenu),i=Ee(a.contentRef,t),o=a.value===n.value,l={value:a.value,triggerRef:a.triggerRef,focusProxyRef:a.focusProxyRef,wasEscapeCloseRef:a.wasEscapeCloseRef,onContentFocusOutside:a.onContentFocusOutside,onRootContentClose:a.onRootContentClose,...r};return n.viewport?Ce.jsx(Wm,{forceMount:s,...l,ref:i}):Ce.jsx(Pe,{present:s||o,children:Ce.jsx(Km,{"data-state":sp(o),...l,ref:i,onPointerEnter:Me(e.onPointerEnter,n.onContentEnter),onPointerLeave:Me(e.onPointerLeave,ap(n.onContentLeave)),style:{pointerEvents:!o&&n.isRootMenu?"none":void 0,...l.style}})})});zm.displayName=qm;var Wm=Pt.forwardRef((e,t)=>{const s=_m(qm,e.__scopeNavigationMenu),{onViewportContentChange:r,onViewportContentRemove:n}=s;return Le(()=>{r(e.value,{ref:t,...e})},[e,t,r]),Le(()=>()=>n(e.value),[e.value,n]),null}),Hm="navigationMenu.rootContentDismiss",Km=Pt.forwardRef((e,t)=>{const{__scopeNavigationMenu:s,value:r,triggerRef:n,focusProxyRef:a,wasEscapeCloseRef:i,onRootContentClose:o,onContentFocusOutside:l,...c}=e,d=_m(qm,s),u=Pt.useRef(null),h=Ee(u,t),m=rp(d.baseId,r),p=np(d.baseId,r),f=fm(s),g=Pt.useRef(null),{onItemDismiss:x}=d;Pt.useEffect(()=>{const e=u.current;if(d.isRootMenu&&e){const t=()=>{var t;x(),o(),e.contains(document.activeElement)&&(null==(t=n.current)||t.focus())};return e.addEventListener(Hm,t),()=>e.removeEventListener(Hm,t)}},[d.isRootMenu,e.value,n,x,o]);const v=Pt.useMemo(()=>{const e=f().map(e=>e.value);"rtl"===d.dir&&e.reverse();const t=e.indexOf(d.value),s=e.indexOf(d.previousValue),n=r===d.value,a=s===e.indexOf(r);if(!n&&!a)return g.current;const i=(()=>{if(t!==s){if(n&&-1!==s)return t>s?"from-end":"from-start";if(a&&-1!==t)return t>s?"to-start":"to-end"}return null})();return g.current=i,i},[d.previousValue,d.value,d.dir,f,r]);return Ce.jsx(Jm,{asChild:!0,children:Ce.jsx(qe,{id:p,"aria-labelledby":m,"data-motion":v,"data-orientation":d.orientation,...c,ref:h,disableOutsidePointerEvents:!1,onDismiss:()=>{var e;const t=new Event(Hm,{bubbles:!0,cancelable:!0});null==(e=u.current)||e.dispatchEvent(t)},onFocusOutside:Me(e.onFocusOutside,e=>{var t;l();const s=e.target;(null==(t=d.rootNavigationMenu)?void 0:t.contains(s))&&e.preventDefault()}),onPointerDownOutside:Me(e.onPointerDownOutside,e=>{var t;const s=e.target,r=f().some(e=>{var t;return null==(t=e.ref.current)?void 0:t.contains(s)}),n=d.isRootMenu&&(null==(t=d.viewport)?void 0:t.contains(s));(r||n||!d.isRootMenu)&&e.preventDefault()}),onKeyDown:Me(e.onKeyDown,e=>{var t;const s=e.altKey||e.ctrlKey||e.metaKey;if("Tab"===e.key&&!s){const s=Xm(e.currentTarget),r=document.activeElement,n=s.findIndex(e=>e===r);ep(e.shiftKey?s.slice(0,n).reverse():s.slice(n+1,s.length))?e.preventDefault():null==(t=a.current)||t.focus()}}),onEscapeKeyDown:Me(e.onEscapeKeyDown,e=>{i.current=!0})})})}),Vm="NavigationMenuViewport",Gm=Pt.forwardRef((e,t)=>{const{forceMount:s,...r}=e,n=_m(Vm,e.__scopeNavigationMenu),a=Boolean(n.value);return Ce.jsx(Pe,{present:s||a,children:Ce.jsx(Zm,{...r,ref:t})})});Gm.displayName=Vm;var Zm=Pt.forwardRef((e,t)=>{const{__scopeNavigationMenu:s,children:r,...n}=e,a=_m(Vm,s),i=Ee(t,a.onViewportChange),o=km(qm,e.__scopeNavigationMenu),[l,c]=Pt.useState(null),[d,u]=Pt.useState(null),h=l?(null==l?void 0:l.width)+"px":void 0,m=l?(null==l?void 0:l.height)+"px":void 0,p=Boolean(a.value),f=p?a.value:a.previousValue;return tp(d,()=>{d&&c({width:d.offsetWidth,height:d.offsetHeight})}),Ce.jsx(Re.div,{"data-state":sp(p),"data-orientation":a.orientation,...n,ref:i,style:{pointerEvents:!p&&a.isRootMenu?"none":void 0,"--radix-navigation-menu-viewport-width":h,"--radix-navigation-menu-viewport-height":m,...n.style},onPointerEnter:Me(e.onPointerEnter,a.onContentEnter),onPointerLeave:Me(e.onPointerLeave,ap(a.onContentLeave)),children:Array.from(o.items).map(([e,{ref:t,forceMount:s,...r}])=>{const n=f===e;return Ce.jsx(Pe,{present:s||n,children:Ce.jsx(Km,{...r,ref:lt(t,e=>{n&&e&&u(e)})})},e)})})}),Jm=Pt.forwardRef((e,t)=>{const{__scopeNavigationMenu:s,...r}=e,n=_m("FocusGroup",s);return Ce.jsx(xm.Provider,{scope:s,children:Ce.jsx(xm.Slot,{scope:s,children:Ce.jsx(Re.div,{dir:n.dir,...r,ref:t})})})}),Ym=["ArrowRight","ArrowLeft","ArrowUp","ArrowDown"],Qm=Pt.forwardRef((e,t)=>{const{__scopeNavigationMenu:s,...r}=e,n=vm(s),a=_m("FocusGroupItem",s);return Ce.jsx(xm.ItemSlot,{scope:s,children:Ce.jsx(Re.button,{...r,ref:t,onKeyDown:Me(e.onKeyDown,e=>{if(["Home","End",...Ym].includes(e.key)){let t=n().map(e=>e.ref.current);if(["rtl"===a.dir?"ArrowRight":"ArrowLeft","ArrowUp","End"].includes(e.key)&&t.reverse(),Ym.includes(e.key)){const s=t.indexOf(e.currentTarget);t=t.slice(s+1)}setTimeout(()=>ep(t)),e.preventDefault()}})})})});function Xm(e){const t=[],s=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:e=>{const t="INPUT"===e.tagName&&"hidden"===e.type;return e.disabled||e.hidden||t?NodeFilter.FILTER_SKIP:e.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;s.nextNode();)t.push(s.currentNode);return t}function ep(e){const t=document.activeElement;return e.some(e=>e===t||(e.focus(),document.activeElement!==t))}function tp(e,t){const s=Ie(t);Le(()=>{let t=0;if(e){const r=new ResizeObserver(()=>{cancelAnimationFrame(t),t=window.requestAnimationFrame(s)});return r.observe(e),()=>{window.cancelAnimationFrame(t),r.unobserve(e)}}},[e,s])}function sp(e){return e?"open":"closed"}function rp(e,t){return`${e}-trigger-${t}`}function np(e,t){return`${e}-content-${t}`}function ap(e){return t=>"mouse"===t.pointerType?e(t):void 0}var ip=Sm,op=Rm,lp=Im,cp=$m,dp=Lm,up=Fm,hp=zm,mp=Gm;const pp=Pt.forwardRef(({className:e,children:t,...s},r)=>Ce.jsxs(ip,{ref:r,className:Aa("relative z-10 flex max-w-max flex-1 items-center justify-center",e),...s,children:[t,Ce.jsx(wp,{})]}));pp.displayName=ip.displayName;const fp=Pt.forwardRef(({className:e,...t},s)=>Ce.jsx(op,{ref:s,className:Aa("group flex flex-1 list-none items-center justify-center space-x-1",e),...t}));fp.displayName=op.displayName;const gp=lp,xp=zr("group inline-flex h-10 w-max items-center justify-center rounded-md bg-background px-4 py-2 text-sm font-medium transition-colors hover:bg-accent hover:text-accent-foreground focus:bg-accent focus:text-accent-foreground focus:outline-none disabled:pointer-events-none disabled:opacity-50 data-[active]:bg-accent/50 data-[state=open]:bg-accent/50"),vp=Pt.forwardRef(({className:e,children:t,...s},r)=>Ce.jsxs(cp,{ref:r,className:Aa(xp(),"group",e),...s,children:[t," ",Ce.jsx(rn,{className:"relative top-[1px] ml-1 h-3 w-3 transition duration-200 group-data-[state=open]:rotate-180","aria-hidden":"true"})]}));vp.displayName=cp.displayName;const yp=Pt.forwardRef(({className:e,...t},s)=>Ce.jsx(hp,{ref:s,className:Aa("left-0 top-0 w-full data-[motion^=from-]:animate-in data-[motion^=to-]:animate-out data-[motion^=from-]:fade-in data-[motion^=to-]:fade-out data-[motion=from-end]:slide-in-from-right-52 data-[motion=from-start]:slide-in-from-left-52 data-[motion=to-end]:slide-out-to-right-52 data-[motion=to-start]:slide-out-to-left-52 md:absolute md:w-auto",e),...t}));yp.displayName=hp.displayName;const bp=dp,wp=Pt.forwardRef(({className:e,...t},s)=>Ce.jsx("div",{className:Aa("absolute left-0 top-full flex justify-center"),children:Ce.jsx(mp,{className:Aa("origin-top-center relative mt-1.5 h-[var(--radix-navigation-menu-viewport-height)] w-full overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-90 md:w-[var(--radix-navigation-menu-viewport-width)]",e),ref:s,...t})}));wp.displayName=mp.displayName;Pt.forwardRef(({className:e,...t},s)=>Ce.jsx(up,{ref:s,className:Aa("top-full z-[1] flex h-1.5 items-end justify-center overflow-hidden data-[state=visible]:animate-in data-[state=hidden]:animate-out data-[state=hidden]:fade-out data-[state=visible]:fade-in",e),...t,children:Ce.jsx("div",{className:"relative top-[60%] h-2 w-2 rotate-45 rounded-tl-sm bg-border shadow-md"})})).displayName=up.displayName;const jp=()=>{const[e,t]=Pt.useState(!1),[s,r]=Pt.useState(!1),n=$t(),{toast:a}=Qs();Pt.useEffect(()=>{ah.auth.getSession().then(({data:{session:e}})=>{r(!!e)});const{data:{subscription:e}}=ah.auth.onAuthStateChange((e,t)=>{r(!!t)});return()=>e.unsubscribe()},[]);const i=async()=>{const{error:e}=await ah.auth.signOut();e?a({title:"Error",description:"Failed to log out",variant:"destructive"}):(a({title:"Logged out",description:"You've been successfully logged out"}),n("/"))};return Ce.jsxs("header",{className:"sticky top-0 z-50 w-full border-b border-border bg-background/95 backdrop-blur supports-[backdrop-filter]:bg-background/60",children:[Ce.jsxs("nav",{className:"container mx-auto flex h-16 items-center justify-between px-4",children:[Ce.jsxs(Dt,{to:"/",className:"flex items-center space-x-3",children:[Ce.jsx("img",{src:"/project-page-master/assets/logo-1RfAReF4.jpg",alt:"Happy Space World Logo",className:"h-10 w-10 object-contain rounded-full"}),Ce.jsx("span",{className:"text-2xl font-bold text-primary",children:"Happy Space World"})]}),Ce.jsxs("div",{className:"hidden md:flex items-center space-x-6",children:[Ce.jsx(pp,{children:Ce.jsxs(fp,{children:[Ce.jsx(gp,{children:Ce.jsx(Dt,{to:"/",children:Ce.jsx(bp,{className:"group inline-flex h-10 w-max items-center justify-center rounded-md bg-background px-4 py-2 text-sm font-medium transition-colors hover:bg-muted hover:text-primary",children:"Home"})})}),Ce.jsxs(gp,{children:[Ce.jsx(vp,{children:"For Students"}),Ce.jsx(yp,{children:Ce.jsxs("ul",{className:"grid w-[400px] gap-3 p-4",children:[Ce.jsx("li",{children:Ce.jsx(bp,{asChild:!0,children:Ce.jsxs(Dt,{to:"/students",className:"block select-none space-y-1 rounded-md p-3 leading-none no-underline outline-none transition-colors hover:bg-accent hover:text-accent-foreground",children:[Ce.jsx("div",{className:"text-sm font-medium",children:"Services"}),Ce.jsx("p",{className:"text-sm text-muted-foreground",children:"Counseling, pet therapy, and wellness programs"})]})})}),Ce.jsx("li",{children:Ce.jsx(bp,{asChild:!0,children:Ce.jsxs(Dt,{to:"/resources",className:"block select-none space-y-1 rounded-md p-3 leading-none no-underline outline-none transition-colors hover:bg-accent hover:text-accent-foreground",children:[Ce.jsx("div",{className:"text-sm font-medium",children:"Resources"}),Ce.jsx("p",{className:"text-sm text-muted-foreground",children:"Self-help tools, worksheets, and guides"})]})})})]})})]}),Ce.jsxs(gp,{children:[Ce.jsx(vp,{children:"For Schools"}),Ce.jsx(yp,{children:Ce.jsx("ul",{className:"grid w-[400px] gap-3 p-4",children:Ce.jsx("li",{children:Ce.jsx(bp,{asChild:!0,children:Ce.jsxs(Dt,{to:"/schools",className:"block select-none space-y-1 rounded-md p-3 leading-none no-underline outline-none transition-colors hover:bg-accent hover:text-accent-foreground",children:[Ce.jsx("div",{className:"text-sm font-medium",children:"Programs"}),Ce.jsx("p",{className:"text-sm text-muted-foreground",children:"Campus counseling and pet therapy programs"})]})})})})})]}),Ce.jsx(gp,{children:Ce.jsx(Dt,{to:"/about",children:Ce.jsx(bp,{className:"group inline-flex h-10 w-max items-center justify-center rounded-md bg-background px-4 py-2 text-sm font-medium transition-colors hover:bg-muted hover:text-primary",children:"About"})})}),Ce.jsx(gp,{children:Ce.jsx(Dt,{to:"/blog",children:Ce.jsx(bp,{className:"group inline-flex h-10 w-max items-center justify-center rounded-md bg-background px-4 py-2 text-sm font-medium transition-colors hover:bg-muted hover:text-primary",children:"Blog"})})}),Ce.jsx(gp,{children:Ce.jsx(Dt,{to:"/gallery",children:Ce.jsx(bp,{className:"group inline-flex h-10 w-max items-center justify-center rounded-md bg-background px-4 py-2 text-sm font-medium transition-colors hover:bg-muted hover:text-primary",children:"Gallery"})})}),Ce.jsx(gp,{children:Ce.jsx(Dt,{to:"/testimonials",children:Ce.jsx(bp,{className:"group inline-flex h-10 w-max items-center justify-center rounded-md bg-background px-4 py-2 text-sm font-medium transition-colors hover:bg-muted hover:text-primary",children:"Testimonials"})})})]})}),Ce.jsxs("div",{className:"flex items-center gap-2",children:[Ce.jsx(Dt,{to:"/contact?type=student&source=booking",children:Ce.jsx(Uo,{className:"bg-primary hover:bg-primary-dark text-primary-foreground font-semibold px-6",children:"Book Session"})}),s&&Ce.jsx(Uo,{onClick:i,variant:"outline",size:"icon",className:"ml-2",title:"Logout",children:Ce.jsx(_n,{className:"h-4 w-4"})})]})]}),Ce.jsx("button",{onClick:()=>t(!e),className:"md:hidden p-2 rounded-md hover:bg-muted","aria-label":"Toggle menu",children:e?Ce.jsx(Un,{className:"h-6 w-6"}):Ce.jsx(kn,{className:"h-6 w-6"})})]}),e&&Ce.jsx("div",{className:"md:hidden border-t border-border bg-background/95 backdrop-blur",children:Ce.jsxs("nav",{className:"container mx-auto px-4 py-4 space-y-4",children:[Ce.jsx(Dt,{to:"/",className:"block px-4 py-2 rounded-md hover:bg-muted",onClick:()=>t(!1),children:"Home"}),Ce.jsx(Dt,{to:"/students",className:"block px-4 py-2 rounded-md hover:bg-muted",onClick:()=>t(!1),children:"For Students"}),Ce.jsx(Dt,{to:"/schools",className:"block px-4 py-2 rounded-md hover:bg-muted",onClick:()=>t(!1),children:"For Schools"}),Ce.jsx(Dt,{to:"/about",className:"block px-4 py-2 rounded-md hover:bg-muted",onClick:()=>t(!1),children:"About"}),Ce.jsx(Dt,{to:"/resources",className:"block px-4 py-2 rounded-md hover:bg-muted",onClick:()=>t(!1),children:"Resources"}),Ce.jsx(Dt,{to:"/blog",className:"block px-4 py-2 rounded-md hover:bg-muted",onClick:()=>t(!1),children:"Blog"}),Ce.jsx(Dt,{to:"/gallery",className:"block px-4 py-2 rounded-md hover:bg-muted",onClick:()=>t(!1),children:"Gallery"}),Ce.jsx(Dt,{to:"/testimonials",className:"block px-4 py-2 rounded-md hover:bg-muted",onClick:()=>t(!1),children:"Testimonials"}),Ce.jsx(Dt,{to:"/contact?type=student&source=booking",children:Ce.jsx(Uo,{className:"w-full bg-primary hover:bg-primary-dark text-primary-foreground font-semibold",onClick:()=>t(!1),children:"Book Session"})}),s&&Ce.jsxs(Uo,{onClick:()=>{i(),t(!1)},variant:"outline",className:"w-full",children:[Ce.jsx(_n,{className:"h-4 w-4 mr-2"}),"Logout"]})]})})]})},_p=()=>Ce.jsx("footer",{className:"bg-card border-t border-border",children:Ce.jsxs("div",{className:"container mx-auto px-4 py-12",children:[Ce.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8",children:[Ce.jsxs("div",{className:"space-y-4",children:[Ce.jsx("h3",{className:"text-lg font-semibold text-primary",children:"Happy Space World"}),Ce.jsx("p",{className:"text-sm text-muted-foreground leading-relaxed",children:"Cultivating Calm, Confidence and Connection through expert counseling and pet therapy for students."}),Ce.jsxs("div",{className:"flex space-x-4",children:[Ce.jsx("a",{href:"https://facebook.com",target:"_blank",rel:"noopener noreferrer",className:"text-muted-foreground hover:text-primary transition-colors",children:Ce.jsx(mn,{className:"h-5 w-5"})}),Ce.jsx("a",{href:"https://instagram.com",target:"_blank",rel:"noopener noreferrer",className:"text-muted-foreground hover:text-primary transition-colors",children:Ce.jsx(vn,{className:"h-5 w-5"})}),Ce.jsx("a",{href:"https://linkedin.com",target:"_blank",rel:"noopener noreferrer",className:"text-muted-foreground hover:text-primary transition-colors",children:Ce.jsx(wn,{className:"h-5 w-5"})}),Ce.jsx("a",{href:"https://twitter.com",target:"_blank",rel:"noopener noreferrer",className:"text-muted-foreground hover:text-primary transition-colors",children:Ce.jsx(In,{className:"h-5 w-5"})})]})]}),Ce.jsxs("div",{className:"space-y-4",children:[Ce.jsx("h3",{className:"text-lg font-semibold text-foreground",children:"For Students"}),Ce.jsxs("ul",{className:"space-y-2 text-sm",children:[Ce.jsx("li",{children:Ce.jsx(Dt,{to:"/students",className:"text-muted-foreground hover:text-primary transition-colors",children:"Services & Programs"})}),Ce.jsx("li",{children:Ce.jsx(Dt,{to:"/resources",className:"text-muted-foreground hover:text-primary transition-colors",children:"Resources & Blog"})}),Ce.jsx("li",{children:Ce.jsx(Dt,{to:"/contact#booking",className:"text-muted-foreground hover:text-primary transition-colors",children:"Book a Session"})}),Ce.jsx("li",{children:Ce.jsx(Dt,{to:"/#faqs",className:"text-muted-foreground hover:text-primary transition-colors",children:"FAQs"})})]})]}),Ce.jsxs("div",{className:"space-y-4",children:[Ce.jsx("h3",{className:"text-lg font-semibold text-foreground",children:"For Schools"}),Ce.jsxs("ul",{className:"space-y-2 text-sm",children:[Ce.jsx("li",{children:Ce.jsx(Dt,{to:"/schools",className:"text-muted-foreground hover:text-primary transition-colors",children:"Partnership Program"})}),Ce.jsx("li",{children:Ce.jsx(Dt,{to:"/schools#certification",className:"text-muted-foreground hover:text-primary transition-colors",children:"School Certification"})}),Ce.jsx("li",{children:Ce.jsx(Dt,{to:"/schools#pricing",className:"text-muted-foreground hover:text-primary transition-colors",children:"Pricing & Packages"})}),Ce.jsx("li",{children:Ce.jsx(Dt,{to:"/contact",className:"text-muted-foreground hover:text-primary transition-colors",children:"Request Demo"})})]})]}),Ce.jsxs("div",{className:"space-y-4",children:[Ce.jsx("h3",{className:"text-lg font-semibold text-foreground",children:"Contact Us"}),Ce.jsxs("ul",{className:"space-y-3 text-sm",children:[Ce.jsxs("li",{className:"flex items-start space-x-2",children:[Ce.jsx(En,{className:"h-4 w-4 mt-0.5 text-primary flex-shrink-0"}),Ce.jsx("a",{href:"tel:8937915125",className:"text-muted-foreground hover:text-primary transition-colors",children:"8937915125"})]}),Ce.jsxs("li",{className:"flex items-start space-x-2",children:[Ce.jsx(Nn,{className:"h-4 w-4 mt-0.5 text-primary flex-shrink-0"}),Ce.jsx("a",{href:"mailto:happyspaceschool@gmail.com",className:"text-muted-foreground hover:text-primary transition-colors break-all",children:"happyspaceschool@gmail.com"})]})]}),Ce.jsx("div",{className:"pt-2",children:Ce.jsx(Dt,{to:"/about",className:"text-sm text-muted-foreground hover:text-primary transition-colors",children:"About Us"})})]})]}),Ce.jsx("div",{className:"mt-12 pt-8 border-t border-border",children:Ce.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center space-y-4 md:space-y-0",children:[Ce.jsxs("p",{className:"text-sm text-muted-foreground text-center md:text-left",children:[" ",(new Date).getFullYear()," Happy Space World. All rights reserved."]}),Ce.jsxs("div",{className:"flex space-x-6 text-sm",children:[Ce.jsx(Dt,{to:"/privacy",className:"text-muted-foreground hover:text-primary transition-colors",children:"Privacy Policy"}),Ce.jsx(Dt,{to:"/terms",className:"text-muted-foreground hover:text-primary transition-colors",children:"Terms of Service"})]})]})})]})});function Np({title:e,description:t,image:s,type:r="website",preloadImage:n}){const a=Lt(),[i,o]=Pt.useState(null);Pt.useEffect(()=>{(async()=>{const{data:e}=await ah.from("page_metadata").select("*").eq("page_path",a.pathname).maybeSingle();e&&o(e)})()},[a.pathname]);const l=`${window.location.origin}/happy-space-og.png`,c=(null==i?void 0:i.meta_title)||e||"Happy Space World  Student Mental Wellness",d=(null==i?void 0:i.meta_description)||t||"Empowering students with accessible mental wellness support through counseling, resources, and community.",u=(null==i?void 0:i.og_image)||s||l,h=(null==i?void 0:i.og_title)||c,m=(null==i?void 0:i.og_description)||d,p=window.location.origin,f=(null==i?void 0:i.canonical_url)||`${p}${a.pathname}`;return Ce.jsxs(zs,{children:[n&&Ce.jsx("link",{rel:"preload",as:"image",href:n,fetchPriority:"high"}),Ce.jsx("title",{children:c}),Ce.jsx("meta",{name:"description",content:d}),Ce.jsx("link",{rel:"canonical",href:f}),(null==i?void 0:i.robots)&&Ce.jsx("meta",{name:"robots",content:i.robots}),Ce.jsx("meta",{property:"og:title",content:h}),Ce.jsx("meta",{property:"og:description",content:m}),Ce.jsx("meta",{property:"og:image",content:u}),Ce.jsx("meta",{property:"og:url",content:f}),Ce.jsx("meta",{property:"og:type",content:r}),Ce.jsx("meta",{property:"og:site_name",content:"Happy Space World"}),Ce.jsx("meta",{name:"twitter:card",content:(null==i?void 0:i.twitter_card)||"summary_large_image"}),Ce.jsx("meta",{name:"twitter:title",content:h}),Ce.jsx("meta",{name:"twitter:description",content:m}),Ce.jsx("meta",{name:"twitter:image",content:u}),Ce.jsx("meta",{name:"theme-color",content:"#52A5A5"}),Ce.jsx("meta",{name:"apple-mobile-web-app-capable",content:"yes"}),Ce.jsx("meta",{name:"apple-mobile-web-app-status-bar-style",content:"default"})]})}const kp="/project-page-master/assets/hero-students-pets-DvMuwxRd.jpg",Sp=()=>Ce.jsxs(Ce.Fragment,{children:[Ce.jsx(Np,{preloadImage:kp}),Ce.jsxs("div",{className:"min-h-screen flex flex-col",children:[Ce.jsx(jp,{}),Ce.jsxs("main",{className:"flex-1",children:[Ce.jsxs("section",{className:"relative h-[600px] flex items-center justify-center overflow-hidden",children:[Ce.jsxs("div",{className:"absolute inset-0 z-0",children:[Ce.jsx("img",{src:kp,alt:"Students with therapy animals",className:"w-full h-full object-cover"}),Ce.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-primary/95 to-tertiary/85"})]}),Ce.jsxs("div",{className:"container mx-auto px-4 relative z-10 text-center text-white",children:[Ce.jsxs("h1",{className:"text-4xl md:text-6xl font-bold mb-6 leading-tight",children:["Cultivating Calm, Confidence",Ce.jsx("br",{}),"and Connection"]}),Ce.jsxs("p",{className:"text-xl md:text-2xl mb-8 max-w-3xl mx-auto opacity-95",children:["Mental Health + Pet Therapy for Students (Classes 8-12)",Ce.jsx("br",{}),"Expert Counseling Backed by Sivaram Raghavan's Stop, Look, Go Model"]}),Ce.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[Ce.jsx(Uo,{asChild:!0,size:"lg",className:"bg-secondary hover:bg-secondary-dark text-lg px-8 py-6",children:Ce.jsx(Dt,{to:"/contact#booking",children:"Start Your Happy Journey"})}),Ce.jsx(Uo,{asChild:!0,size:"lg",variant:"outline",className:"text-lg px-8 py-6 bg-white/10 backdrop-blur border-white text-white hover:bg-white/20",children:Ce.jsx(Dt,{to:"/schools",children:"For Schools: Learn More"})})]})]})]}),Ce.jsx("section",{className:"py-20 bg-background",children:Ce.jsxs("div",{className:"container mx-auto px-4",children:[Ce.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-center mb-12 text-foreground",children:"Students Face Real Challenges"}),Ce.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[Ce.jsx(Fo,{className:"hover:shadow-lg transition-all duration-300 border-border",children:Ce.jsxs(Wo,{className:"p-6 text-center",children:[Ce.jsx("div",{className:"w-16 h-16 mx-auto mb-4 bg-secondary/10 rounded-full flex items-center justify-center",children:Ce.jsx(Qr,{className:"h-8 w-8 text-secondary"})}),Ce.jsx("h3",{className:"text-xl font-semibold mb-3 text-foreground",children:"Academic Pressure"}),Ce.jsx("p",{className:"text-muted-foreground",children:"80% of students report exam stress and focus issues affecting their performance"})]})}),Ce.jsx(Fo,{className:"hover:shadow-lg transition-all duration-300 border-border",children:Ce.jsxs(Wo,{className:"p-6 text-center",children:[Ce.jsx("div",{className:"w-16 h-16 mx-auto mb-4 bg-tertiary/10 rounded-full flex items-center justify-center",children:Ce.jsx(Dn,{className:"h-8 w-8 text-tertiary"})}),Ce.jsx("h3",{className:"text-xl font-semibold mb-3 text-foreground",children:"Social & Relationship Issues"}),Ce.jsx("p",{className:"text-muted-foreground",children:"Peer pressure and conflict impact emotional health and wellbeing"})]})}),Ce.jsx(Fo,{className:"hover:shadow-lg transition-all duration-300 border-border",children:Ce.jsxs(Wo,{className:"p-6 text-center",children:[Ce.jsx("div",{className:"w-16 h-16 mx-auto mb-4 bg-primary/10 rounded-full flex items-center justify-center",children:Ce.jsx(Gr,{className:"h-8 w-8 text-primary"})}),Ce.jsx("h3",{className:"text-xl font-semibold mb-3 text-foreground",children:"Emotional Overwhelm"}),Ce.jsx("p",{className:"text-muted-foreground",children:"Anxiety, distraction, and loss of motivation affect daily life"})]})})]})]})}),Ce.jsx("section",{className:"py-20 bg-muted/30",children:Ce.jsxs("div",{className:"container mx-auto px-4",children:[Ce.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-center mb-4 text-foreground",children:"Happy Space World's Proven Three-Pillar Approach"}),Ce.jsx("p",{className:"text-center text-muted-foreground mb-12 max-w-2xl mx-auto",children:"A comprehensive program combining therapy, counseling, and progress tracking"}),Ce.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[Ce.jsxs(Fo,{className:"overflow-hidden hover:shadow-xl transition-all duration-300",children:[Ce.jsx("div",{className:"h-48 overflow-hidden",children:Ce.jsx("img",{src:"/project-page-master/assets/therapy-pet-BsmY_eoV.jpg",alt:"Pet Therapy",className:"w-full h-full object-cover"})}),Ce.jsxs(Wo,{className:"p-6",children:[Ce.jsxs("div",{className:"flex items-center mb-4",children:[Ce.jsx("div",{className:"w-12 h-12 bg-secondary/10 rounded-full flex items-center justify-center mr-3",children:Ce.jsx(xn,{className:"h-6 w-6 text-secondary"})}),Ce.jsx("h3",{className:"text-xl font-semibold text-foreground",children:"Pet Therapy & Activities"})]}),Ce.jsx("p",{className:"text-muted-foreground mb-4",children:"Emotional connection and stress reduction through interaction with trained therapy animals"}),Ce.jsxs("ul",{className:"space-y-2 text-sm text-muted-foreground",children:[Ce.jsxs("li",{className:"flex items-start",children:[Ce.jsx(sn,{className:"h-4 w-4 text-success mr-2 mt-0.5 flex-shrink-0"}),Ce.jsx("span",{children:"Paint with Pets"})]}),Ce.jsxs("li",{className:"flex items-start",children:[Ce.jsx(sn,{className:"h-4 w-4 text-success mr-2 mt-0.5 flex-shrink-0"}),Ce.jsx("span",{children:"Icebreaking Games"})]}),Ce.jsxs("li",{className:"flex items-start",children:[Ce.jsx(sn,{className:"h-4 w-4 text-success mr-2 mt-0.5 flex-shrink-0"}),Ce.jsx("span",{children:"Grounding Exercises"})]})]})]})]}),Ce.jsxs(Fo,{className:"overflow-hidden hover:shadow-xl transition-all duration-300",children:[Ce.jsx("div",{className:"h-48 overflow-hidden",children:Ce.jsx("img",{src:"/project-page-master/assets/counseling-session-CUUluy_w.jpg",alt:"Expert Counseling",className:"w-full h-full object-cover"})}),Ce.jsxs(Wo,{className:"p-6",children:[Ce.jsxs("div",{className:"flex items-center mb-4",children:[Ce.jsx("div",{className:"w-12 h-12 bg-primary/10 rounded-full flex items-center justify-center mr-3",children:Ce.jsx(Xr,{className:"h-6 w-6 text-primary"})}),Ce.jsx("h3",{className:"text-xl font-semibold text-foreground",children:"Expert Counseling"})]}),Ce.jsx("p",{className:"text-muted-foreground mb-4",children:"Personalized guidance using Sivaram Raghavan's Stop, Look, Go mindfulness model"}),Ce.jsxs("ul",{className:"space-y-2 text-sm text-muted-foreground",children:[Ce.jsxs("li",{className:"flex items-start",children:[Ce.jsx(sn,{className:"h-4 w-4 text-success mr-2 mt-0.5 flex-shrink-0"}),Ce.jsx("span",{children:"One-on-one sessions"})]}),Ce.jsxs("li",{className:"flex items-start",children:[Ce.jsx(sn,{className:"h-4 w-4 text-success mr-2 mt-0.5 flex-shrink-0"}),Ce.jsx("span",{children:"Group discussions"})]}),Ce.jsxs("li",{className:"flex items-start",children:[Ce.jsx(sn,{className:"h-4 w-4 text-success mr-2 mt-0.5 flex-shrink-0"}),Ce.jsx("span",{children:"Personalized coaching"})]})]})]})]}),Ce.jsxs(Fo,{className:"overflow-hidden hover:shadow-xl transition-all duration-300",children:[Ce.jsx("div",{className:"h-48 overflow-hidden",children:Ce.jsx("img",{src:"/project-page-master/assets/progress-tracking-DcWu27YH.jpg",alt:"Progress Tracking",className:"w-full h-full object-cover"})}),Ce.jsxs(Wo,{className:"p-6",children:[Ce.jsxs("div",{className:"flex items-center mb-4",children:[Ce.jsx("div",{className:"w-12 h-12 bg-tertiary/10 rounded-full flex items-center justify-center mr-3",children:Ce.jsx(An,{className:"h-6 w-6 text-tertiary"})}),Ce.jsx("h3",{className:"text-xl font-semibold text-foreground",children:"Wellness Tracking"})]}),Ce.jsx("p",{className:"text-muted-foreground mb-4",children:"Measure progress through Happiness & Stress Questionnaires and real-time tracking"}),Ce.jsxs("ul",{className:"space-y-2 text-sm text-muted-foreground",children:[Ce.jsxs("li",{className:"flex items-start",children:[Ce.jsx(sn,{className:"h-4 w-4 text-success mr-2 mt-0.5 flex-shrink-0"}),Ce.jsx("span",{children:"Weekly assessments"})]}),Ce.jsxs("li",{className:"flex items-start",children:[Ce.jsx(sn,{className:"h-4 w-4 text-success mr-2 mt-0.5 flex-shrink-0"}),Ce.jsx("span",{children:"Progress reports"})]}),Ce.jsxs("li",{className:"flex items-start",children:[Ce.jsx(sn,{className:"h-4 w-4 text-success mr-2 mt-0.5 flex-shrink-0"}),Ce.jsx("span",{children:"Milestone celebrations"})]})]})]})]})]})]})}),Ce.jsx("section",{className:"py-20 bg-primary text-white",children:Ce.jsx("div",{className:"container mx-auto px-4",children:Ce.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-8 text-center",children:[Ce.jsxs("div",{children:[Ce.jsx("div",{className:"text-4xl md:text-5xl font-bold mb-2",children:"500+"}),Ce.jsx("div",{className:"text-primary-foreground/80",children:"Students Served"})]}),Ce.jsxs("div",{children:[Ce.jsx("div",{className:"text-4xl md:text-5xl font-bold mb-2",children:"92%"}),Ce.jsx("div",{className:"text-primary-foreground/80",children:"Improved Happiness"})]}),Ce.jsxs("div",{children:[Ce.jsx("div",{className:"text-4xl md:text-5xl font-bold mb-2",children:"87%"}),Ce.jsx("div",{className:"text-primary-foreground/80",children:"Reduced Stress"})]}),Ce.jsxs("div",{children:[Ce.jsx("div",{className:"text-4xl md:text-5xl font-bold mb-2",children:"100%"}),Ce.jsx("div",{className:"text-primary-foreground/80",children:"School Recommendations"})]})]})})}),Ce.jsx("section",{id:"faqs",className:"py-20 bg-muted/30",children:Ce.jsxs("div",{className:"container mx-auto px-4 max-w-3xl",children:[Ce.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-center mb-12 text-foreground",children:"Frequently Asked Questions"}),Ce.jsxs(cm,{type:"multiple",defaultValue:["item-1","item-2","item-3"],className:"space-y-4",children:[Ce.jsxs(dm,{value:"item-1",className:"bg-card border border-border rounded-lg px-6",children:[Ce.jsx(um,{className:"text-left hover:no-underline",children:"What is Happy Space World?"}),Ce.jsx(hm,{className:"text-muted-foreground",children:"Happy Space World is a comprehensive mental wellness program for students in Classes 8-12, combining expert counseling, pet therapy, and progress tracking to help students manage stress, build confidence, and improve their overall wellbeing."})]}),Ce.jsxs(dm,{value:"item-2",className:"bg-card border border-border rounded-lg px-6",children:[Ce.jsx(um,{className:"text-left hover:no-underline",children:"How does pet therapy help?"}),Ce.jsx(hm,{className:"text-muted-foreground",children:"Pet therapy has been scientifically proven to reduce stress hormones, lower blood pressure, and increase feelings of happiness. Interacting with trained therapy animals helps students relax, build emotional connections, and develop coping mechanisms in a safe, non-judgmental environment."})]}),Ce.jsxs(dm,{value:"item-3",className:"bg-card border border-border rounded-lg px-6",children:[Ce.jsx(um,{className:"text-left hover:no-underline",children:"What is the Stop, Look, Go model?"}),Ce.jsx(hm,{className:"text-muted-foreground",children:"The Stop, Look, Go model is Sivaram Raghavan's mindfulness-based approach: Stop (pause and recognize emotions), Look (observe without judgment), and Go (take positive action). This methodology helps students develop emotional awareness and healthy coping strategies."})]}),Ce.jsxs(dm,{value:"item-4",className:"bg-card border border-border rounded-lg px-6",children:[Ce.jsx(um,{className:"text-left hover:no-underline",children:"Is this confidential?"}),Ce.jsx(hm,{className:"text-muted-foreground",children:"Absolutely. All counseling sessions and student information are kept strictly confidential. We follow best practices in data protection and student privacy to ensure a safe, trustworthy environment."})]}),Ce.jsxs(dm,{value:"item-5",className:"bg-card border border-border rounded-lg px-6",children:[Ce.jsx(um,{className:"text-left hover:no-underline",children:"How much does it cost?"}),Ce.jsx(hm,{className:"text-muted-foreground",children:"Individual student programs start at 3,500, which includes counseling sessions, pet therapy, questionnaires, and activities. School programs have customized pricing based on batch size and requirements. Contact us for a personalized quote."})]})]})]})}),Ce.jsx("section",{className:"py-20 bg-gradient-to-r from-secondary to-secondary-light",children:Ce.jsxs("div",{className:"container mx-auto px-4 text-center",children:[Ce.jsx("h2",{className:"text-3xl md:text-4xl font-bold mb-6 text-white",children:"Ready to Transform Your Well-being?"}),Ce.jsx("p",{className:"text-xl mb-8 text-white/90 max-w-2xl mx-auto",children:"Join hundreds of students who have found their calm, confidence, and connection"}),Ce.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[Ce.jsx(Uo,{asChild:!0,size:"lg",className:"bg-white text-secondary hover:bg-white/90 text-lg px-8 py-6",children:Ce.jsxs(Dt,{to:"/students",children:["I'm a Student  Start Now ",Ce.jsx(Jr,{className:"ml-2 h-5 w-5"})]})}),Ce.jsx(Uo,{asChild:!0,size:"lg",className:"bg-white text-secondary hover:bg-white/90 text-lg px-8 py-6",children:Ce.jsxs(Dt,{to:"/schools",children:["I'm a School  Get Info ",Ce.jsx(Jr,{className:"ml-2 h-5 w-5"})]})})]})]})}),Ce.jsx("section",{className:"py-20 bg-muted/30",children:Ce.jsxs("div",{className:"container mx-auto px-4",children:[Ce.jsxs("div",{className:"text-center mb-12",children:[Ce.jsx("h2",{className:"text-3xl md:text-4xl font-bold mb-4 text-foreground",children:"Our Happy Moments & Stories"}),Ce.jsx("p",{className:"text-muted-foreground max-w-2xl mx-auto",children:"Explore our gallery and read testimonials from students, parents, and educators"})]}),Ce.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8 max-w-4xl mx-auto",children:[Ce.jsx(Fo,{className:"hover:shadow-lg transition-all duration-300",children:Ce.jsxs(Wo,{className:"pt-8 text-center",children:[Ce.jsx("h3",{className:"text-2xl font-bold mb-4 text-foreground",children:"Gallery"}),Ce.jsx("p",{className:"text-muted-foreground mb-6",children:"View photos from our programs and see the joy and transformation firsthand"}),Ce.jsx(Uo,{asChild:!0,variant:"outline",size:"lg",children:Ce.jsx(Dt,{to:"/gallery",children:"View Gallery"})})]})}),Ce.jsx(Fo,{className:"hover:shadow-lg transition-all duration-300",children:Ce.jsxs(Wo,{className:"pt-8 text-center",children:[Ce.jsx("h3",{className:"text-2xl font-bold mb-4 text-foreground",children:"Testimonials"}),Ce.jsx("p",{className:"text-muted-foreground mb-6",children:"Read real stories from people who've experienced our programs"}),Ce.jsx(Uo,{asChild:!0,variant:"outline",size:"lg",children:Ce.jsx(Dt,{to:"/testimonials",children:"Read Testimonials"})})]})})]})]})})]}),Ce.jsx(_p,{})]})]}),Ep=()=>Ce.jsxs(Ce.Fragment,{children:[Ce.jsx(Np,{title:"About Us - Happy Space World",description:"Learn about Happy Space World's mission to empower student mental wellness through innovative pet therapy and expert counseling programs."}),Ce.jsxs("div",{className:"min-h-screen flex flex-col",children:[Ce.jsx(jp,{}),Ce.jsxs("main",{className:"flex-1",children:[Ce.jsx("section",{className:"py-20 bg-gradient-to-br from-primary to-primary-light text-white",children:Ce.jsxs("div",{className:"container mx-auto px-4 text-center",children:[Ce.jsx("h1",{className:"text-4xl md:text-5xl font-bold mb-6",children:"About Happy Space World"}),Ce.jsx("p",{className:"text-xl max-w-3xl mx-auto opacity-95",children:"Empowering student mental wellness through innovative pet therapy and expert counseling"})]})}),Ce.jsx("section",{className:"py-20 bg-background",children:Ce.jsx("div",{className:"container mx-auto px-4",children:Ce.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-12 items-center max-w-6xl mx-auto",children:[Ce.jsxs("div",{children:[Ce.jsx("h2",{className:"text-3xl md:text-4xl font-bold mb-6 text-foreground",children:"Our Story"}),Ce.jsxs("div",{className:"space-y-4 text-muted-foreground",children:[Ce.jsx("p",{children:"Happy Space World was founded with a simple yet powerful vision: to create a safe, supportive environment where every student can thrive emotionally and mentally during their crucial teenage years."}),Ce.jsx("p",{children:"We recognized that students in Classes 8-12 face unprecedented challengesacademic pressure, social dynamics, and emotional overwhelm. Traditional approaches weren't enough. We needed something different, something holistic."}),Ce.jsx("p",{children:"That's why we combined the proven benefits of pet therapy with expert counseling, grounded in Sivaram Raghavan's Stop, Look, Go mindfulness model. The result? A comprehensive program that has helped over 500 students find their calm, build confidence, and create meaningful connections."})]})]}),Ce.jsxs("div",{className:"bg-muted/50 rounded-xl p-8",children:[Ce.jsx("h3",{className:"text-2xl font-semibold mb-6 text-foreground",children:"Our Mission"}),Ce.jsx("p",{className:"text-muted-foreground mb-6",children:"To cultivate calm, confidence, and connection in every student through accessible, compassionate, and effective mental wellness programs that combine the healing power of animals with expert psychological guidance."}),Ce.jsx("h3",{className:"text-2xl font-semibold mb-6 text-foreground",children:"Our Vision"}),Ce.jsx("p",{className:"text-muted-foreground",children:"A future where every school prioritizes mental wellness as much as academic excellence, and where every student has the tools and support they need to navigate life's challenges with resilience and hope."})]})]})})}),Ce.jsx("section",{className:"py-20 bg-muted/30",children:Ce.jsxs("div",{className:"container mx-auto px-4",children:[Ce.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-center mb-12 text-foreground",children:"Meet the Expert"}),Ce.jsx(Fo,{className:"max-w-4xl mx-auto border-2 border-primary",children:Ce.jsx(Wo,{className:"p-8",children:Ce.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[Ce.jsx("div",{className:"md:col-span-1",children:Ce.jsx("div",{className:"w-48 h-48 mx-auto bg-primary/10 rounded-full flex items-center justify-center",children:Ce.jsx("div",{className:"text-6xl font-bold text-primary",children:"SR"})})}),Ce.jsxs("div",{className:"md:col-span-2",children:[Ce.jsx("h3",{className:"text-3xl font-bold mb-2 text-foreground",children:"Sivaram Raghavan"}),Ce.jsx("p",{className:"text-lg text-primary mb-4",children:"Counselor, Coach, Mediator"}),Ce.jsxs("div",{className:"space-y-4 text-muted-foreground",children:[Ce.jsx("p",{children:"With over years of experience in counseling and mental health support, Sivaram Raghavan has dedicated his career to helping young people navigate the complexities of adolescence and early adulthood."}),Ce.jsxs("p",{children:["His groundbreaking ",Ce.jsx("strong",{className:"text-foreground",children:'"Stop, Look, Go"'})," mindfulness model has transformed the way students approach stress, anxiety, and emotional challenges. This three-step approach teaches students to pause (Stop), observe their thoughts and feelings without judgment (Look), and take constructive action (Go)."]}),Ce.jsx("p",{children:"Sivaram's unique integration of pet therapy with traditional counseling methods has proven remarkably effective, with over 90% of students reporting significant improvements in their mental wellbeing."})]}),Ce.jsxs("div",{className:"mt-6 p-4 bg-secondary/10 rounded-lg border-l-4 border-secondary",children:[Ce.jsx("p",{className:"italic text-foreground",children:'"Mental health is not a destination, it\'s a journey. And every student deserves a guide who believes in their potential to heal and grow."'}),Ce.jsx("p",{className:"text-sm text-muted-foreground mt-2",children:" Sivaram Raghavan"})]})]})]})})})]})}),Ce.jsx("section",{className:"py-20 bg-background",children:Ce.jsxs("div",{className:"container mx-auto px-4",children:[Ce.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-center mb-12 text-foreground",children:"Our Unique Approach"}),Ce.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8 max-w-6xl mx-auto",children:[Ce.jsx(Fo,{className:"border-border",children:Ce.jsxs(Wo,{className:"p-6",children:[Ce.jsx("div",{className:"w-16 h-16 bg-secondary/10 rounded-full flex items-center justify-center mb-4 mx-auto",children:Ce.jsx(xn,{className:"h-8 w-8 text-secondary"})}),Ce.jsx("h3",{className:"text-xl font-semibold text-center mb-4 text-foreground",children:"Pet Therapy Science"}),Ce.jsx("p",{className:"text-muted-foreground text-sm",children:"Animal-assisted therapy has been scientifically proven to reduce cortisol levels (the stress hormone), lower blood pressure, and increase oxytocin (the bonding hormone). Our trained therapy animals provide unconditional acceptance, helping students feel safe to express their emotions."})]})}),Ce.jsx(Fo,{className:"border-border",children:Ce.jsxs(Wo,{className:"p-6",children:[Ce.jsx("div",{className:"w-16 h-16 bg-primary/10 rounded-full flex items-center justify-center mb-4 mx-auto",children:Ce.jsx(Xr,{className:"h-8 w-8 text-primary"})}),Ce.jsx("h3",{className:"text-xl font-semibold text-center mb-4 text-foreground",children:"Stop, Look, Go Model"}),Ce.jsx("p",{className:"text-muted-foreground text-sm",children:"This mindfulness-based cognitive approach teaches students practical skills: Stop (recognize emotional triggers), Look (observe thoughts without judgment), Go (choose healthy responses). It's simple, memorable, and highly effective for teens navigating complex emotions."})]})}),Ce.jsx(Fo,{className:"border-border",children:Ce.jsxs(Wo,{className:"p-6",children:[Ce.jsx("div",{className:"w-16 h-16 bg-tertiary/10 rounded-full flex items-center justify-center mb-4 mx-auto",children:Ce.jsx(Yr,{className:"h-8 w-8 text-tertiary"})}),Ce.jsx("h3",{className:"text-xl font-semibold text-center mb-4 text-foreground",children:"Certification Methodology"}),Ce.jsx("p",{className:"text-muted-foreground text-sm",children:"Our school certification program is based on measurable outcomespre and post-program assessments of happiness and stress levels. Schools are awarded Gold, Silver, or Bronze tiers based on demonstrated impact, ensuring accountability and excellence."})]})})]})]})}),Ce.jsx("section",{className:"py-20 bg-muted/30",children:Ce.jsxs("div",{className:"container mx-auto px-4",children:[Ce.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-center mb-12 text-foreground",children:"Our Core Values"}),Ce.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 max-w-4xl mx-auto",children:[Ce.jsxs("div",{className:"flex items-start space-x-4",children:[Ce.jsx("div",{className:"w-12 h-12 bg-primary/10 rounded-full flex items-center justify-center flex-shrink-0",children:Ce.jsx("span",{className:"text-primary font-bold",children:"C"})}),Ce.jsxs("div",{children:[Ce.jsx("h3",{className:"text-lg font-semibold mb-2 text-foreground",children:"Compassion"}),Ce.jsx("p",{className:"text-sm text-muted-foreground",children:"Every student deserves to be heard, understood, and supported without judgment"})]})]}),Ce.jsxs("div",{className:"flex items-start space-x-4",children:[Ce.jsx("div",{className:"w-12 h-12 bg-secondary/10 rounded-full flex items-center justify-center flex-shrink-0",children:Ce.jsx("span",{className:"text-secondary font-bold",children:"E"})}),Ce.jsxs("div",{children:[Ce.jsx("h3",{className:"text-lg font-semibold mb-2 text-foreground",children:"Evidence-Based"}),Ce.jsx("p",{className:"text-sm text-muted-foreground",children:"Our methods are grounded in research and proven to create lasting positive change"})]})]}),Ce.jsxs("div",{className:"flex items-start space-x-4",children:[Ce.jsx("div",{className:"w-12 h-12 bg-tertiary/10 rounded-full flex items-center justify-center flex-shrink-0",children:Ce.jsx("span",{className:"text-tertiary font-bold",children:"A"})}),Ce.jsxs("div",{children:[Ce.jsx("h3",{className:"text-lg font-semibold mb-2 text-foreground",children:"Accessibility"}),Ce.jsx("p",{className:"text-sm text-muted-foreground",children:"Mental wellness support should be available to all students, regardless of background"})]})]}),Ce.jsxs("div",{className:"flex items-start space-x-4",children:[Ce.jsx("div",{className:"w-12 h-12 bg-success/10 rounded-full flex items-center justify-center flex-shrink-0",children:Ce.jsx("span",{className:"text-success font-bold",children:"E"})}),Ce.jsxs("div",{children:[Ce.jsx("h3",{className:"text-lg font-semibold mb-2 text-foreground",children:"Excellence"}),Ce.jsx("p",{className:"text-sm text-muted-foreground",children:"We hold ourselves to the highest standards of professional practice and student care"})]})]})]})]})}),Ce.jsx("section",{className:"py-20 bg-gradient-to-r from-primary to-tertiary text-white",children:Ce.jsxs("div",{className:"container mx-auto px-4 text-center",children:[Ce.jsx("h2",{className:"text-3xl md:text-4xl font-bold mb-6",children:"Want to Learn More?"}),Ce.jsx("p",{className:"text-xl mb-8 max-w-2xl mx-auto opacity-95",children:"We'd love to tell you more about our programs and answer any questions"}),Ce.jsx(Uo,{asChild:!0,size:"lg",className:"bg-white text-primary hover:bg-white/90 font-semibold",children:Ce.jsx(Dt,{to:"/contact",children:"Contact Us"})})]})})]}),Ce.jsx(_p,{})]})]});function Cp({className:e,...t}){return Ce.jsx("div",{className:Aa("animate-pulse rounded-md bg-muted",e),...t})}const Tp=()=>{const{data:e=[],isLoading:t}=Do({queryKey:["student-plan"],queryFn:async()=>{const{data:e,error:t}=await ah.from("plans").select("*").in("plan_type",["student","both"]).eq("is_active",!0).order("display_order",{ascending:!0});if(t)throw t;return(e||[]).map(e=>({...e,features:Array.isArray(e.features)?e.features:[]}))},staleTime:0,refetchOnWindowFocus:!0});return Ce.jsxs(Ce.Fragment,{children:[Ce.jsx(Np,{title:"For Students - Happy Space World",description:"Personalized counseling, pet therapy sessions, and digital resources to support your mental wellness journey. Track progress and build confidence."}),Ce.jsxs("div",{className:"min-h-screen flex flex-col",children:[Ce.jsx(jp,{}),Ce.jsxs("main",{className:"flex-1",children:[Ce.jsx("section",{className:"py-20 bg-gradient-to-br from-primary to-primary-light text-white",children:Ce.jsxs("div",{className:"container mx-auto px-4 text-center",children:[Ce.jsx("h1",{className:"text-4xl md:text-5xl font-bold mb-6",children:"Your Personal Wellness Hub"}),Ce.jsx("p",{className:"text-xl mb-8 max-w-2xl mx-auto opacity-95",children:"Track your progress, celebrate your success, and discover your path to calm and confidence"}),Ce.jsx(Uo,{asChild:!0,size:"lg",className:"bg-secondary hover:bg-secondary-dark",children:Ce.jsx(Dt,{to:"/contact?type=student&source=booking#contact-form",children:"Book Your First Session"})})]})}),Ce.jsx("section",{className:"py-20 bg-background",children:Ce.jsxs("div",{className:"container mx-auto px-4",children:[Ce.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-center mb-12 text-foreground",children:"Our Services for Students"}),Ce.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[Ce.jsxs(Fo,{className:"hover:shadow-xl transition-all duration-300",children:[Ce.jsxs(Bo,{children:[Ce.jsx("div",{className:"w-16 h-16 bg-primary/10 rounded-full flex items-center justify-center mb-4",children:Ce.jsx($n,{className:"h-8 w-8 text-primary"})}),Ce.jsx(qo,{children:"1-on-1 Expert Counseling"})]}),Ce.jsxs(Wo,{children:[Ce.jsx("p",{className:"text-muted-foreground mb-4",children:"Personalized guidance from network of trained counselors"}),Ce.jsxs("ul",{className:"space-y-2 text-sm text-muted-foreground mb-6",children:[Ce.jsx("li",{children:" Duration: 45-60 minutes"}),Ce.jsx("li",{children:" Frequency: Weekly or bi-weekly"}),Ce.jsx("li",{children:" Confidential & supportive"})]}),Ce.jsx(Uo,{asChild:!0,className:"w-full",children:Ce.jsx(Dt,{to:"/contact?type=student&source=booking#contact-form",children:"Book Session"})})]})]}),Ce.jsxs(Fo,{className:"hover:shadow-xl transition-all duration-300 border-2 border-secondary",children:[Ce.jsxs(Bo,{children:[Ce.jsx("div",{className:"w-16 h-16 bg-secondary/10 rounded-full flex items-center justify-center mb-4",children:Ce.jsx(Dn,{className:"h-8 w-8 text-secondary"})}),Ce.jsx(qo,{children:"Group Wellness Programs"})]}),Ce.jsxs(Wo,{children:[Ce.jsx("p",{className:"text-muted-foreground mb-4",children:"Pet therapy, icebreakers, and group discussions with your schoolmates"}),Ce.jsxs("ul",{className:"space-y-2 text-sm text-muted-foreground mb-6",children:[Ce.jsx("li",{children:" Max 30 students per group"}),Ce.jsx("li",{children:" Duration: 60-90 minutes"}),Ce.jsx("li",{children:" Interactive & fun activities"})]}),Ce.jsx(Uo,{asChild:!0,className:"w-full bg-secondary hover:bg-secondary-dark",children:Ce.jsx(Dt,{to:"/contact?type=student&source=plan#contact-form",children:"Join Program"})})]})]}),Ce.jsxs(Fo,{className:"hover:shadow-xl transition-all duration-300",children:[Ce.jsxs(Bo,{children:[Ce.jsx("div",{className:"w-16 h-16 bg-tertiary/10 rounded-full flex items-center justify-center mb-4",children:Ce.jsx(Qr,{className:"h-8 w-8 text-tertiary"})}),Ce.jsx(qo,{children:"Digital Resources"})]}),Ce.jsxs(Wo,{children:[Ce.jsx("p",{className:"text-muted-foreground mb-4",children:"Self-help tools, worksheets, video tutorials, and blog content"}),Ce.jsxs("ul",{className:"space-y-2 text-sm text-muted-foreground mb-6",children:[Ce.jsx("li",{children:" Available 24/7"}),Ce.jsx("li",{children:" Downloadable materials"}),Ce.jsx("li",{children:" Mobile-friendly access"})]}),Ce.jsx(Uo,{asChild:!0,variant:"outline",className:"w-full",children:Ce.jsx(Dt,{to:"/resources",children:"Explore Resources"})})]})]})]})]})}),Ce.jsx("section",{className:"py-20 bg-muted/30",children:Ce.jsxs("div",{className:"container mx-auto px-4",children:[Ce.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-center mb-12 text-foreground",children:"What You'll Experience"}),Ce.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-12 max-w-4xl mx-auto",children:[Ce.jsxs("div",{className:"flex items-start space-x-4",children:[Ce.jsx("div",{className:"w-12 h-12 bg-primary/10 rounded-full flex items-center justify-center flex-shrink-0",children:Ce.jsx(tn,{className:"h-6 w-6 text-primary"})}),Ce.jsxs("div",{children:[Ce.jsx("h3",{className:"text-xl font-semibold mb-2 text-foreground",children:"Regular Sessions"}),Ce.jsx("p",{className:"text-muted-foreground",children:"Schedule weekly or bi-weekly sessions that fit your school routine and personal needs"})]})]}),Ce.jsxs("div",{className:"flex items-start space-x-4",children:[Ce.jsx("div",{className:"w-12 h-12 bg-secondary/10 rounded-full flex items-center justify-center flex-shrink-0",children:Ce.jsx(An,{className:"h-6 w-6 text-secondary"})}),Ce.jsxs("div",{children:[Ce.jsx("h3",{className:"text-xl font-semibold mb-2 text-foreground",children:"Progress Tracking"}),Ce.jsx("p",{className:"text-muted-foreground",children:"Monitor your mood, stress levels, and happiness scores with weekly check-ins"})]})]}),Ce.jsxs("div",{className:"flex items-start space-x-4",children:[Ce.jsx("div",{className:"w-12 h-12 bg-tertiary/10 rounded-full flex items-center justify-center flex-shrink-0",children:Ce.jsx(Yr,{className:"h-6 w-6 text-tertiary"})}),Ce.jsxs("div",{children:[Ce.jsx("h3",{className:"text-xl font-semibold mb-2 text-foreground",children:"Achievement Badges"}),Ce.jsx("p",{className:"text-muted-foreground",children:"Earn recognition for milestones like session completion and progress streaks"})]})]}),Ce.jsxs("div",{className:"flex items-start space-x-4",children:[Ce.jsx("div",{className:"w-12 h-12 bg-success/10 rounded-full flex items-center justify-center flex-shrink-0",children:Ce.jsx(Dn,{className:"h-6 w-6 text-success"})}),Ce.jsxs("div",{children:[Ce.jsx("h3",{className:"text-xl font-semibold mb-2 text-foreground",children:"Peer Support"}),Ce.jsx("p",{className:"text-muted-foreground",children:"Connect with other students in group activities and build a supportive community"})]})]})]})]})}),Ce.jsx("section",{className:"py-20 bg-background",children:Ce.jsxs("div",{className:"container mx-auto px-4",children:[Ce.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-center mb-4 text-foreground",children:"Simple, Transparent Pricing"}),Ce.jsx("p",{className:"text-center text-muted-foreground mb-12",children:"Invest in your mental wellness with our comprehensive program"}),t?Ce.jsxs(Fo,{className:"max-w-md mx-auto border-2 border-primary",children:[Ce.jsxs(Bo,{className:"text-center pb-8",children:[Ce.jsx(Cp,{className:"h-10 w-48 mx-auto mb-4"}),Ce.jsx(Cp,{className:"h-14 w-32 mx-auto"})]}),Ce.jsxs(Wo,{children:[Ce.jsx("div",{className:"space-y-4 mb-8",children:Array.from({length:5}).map((e,t)=>Ce.jsx(Cp,{className:"h-6 w-full"},t))}),Ce.jsx(Cp,{className:"h-12 w-full"})]})]}):e.length>0?Ce.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8 max-w-5xl mx-auto",children:e.map(e=>Ce.jsxs(Fo,{className:"border-2 border-primary",children:[Ce.jsxs(Bo,{className:"text-center pb-8",children:[Ce.jsx(qo,{className:"text-3xl font-bold text-foreground",children:e.name}),Ce.jsxs("div",{className:"mt-4",children:[Ce.jsx("span",{className:"text-5xl font-bold text-primary",children:e.price?`${e.price.toLocaleString()}`:"Contact Us"}),Ce.jsx("span",{className:"text-muted-foreground",children:" / student"})]})]}),Ce.jsxs(Wo,{children:[Ce.jsx("ul",{className:"space-y-4 mb-8",children:e.features.map((e,t)=>Ce.jsxs("li",{className:"flex items-start",children:[Ce.jsx("div",{className:"w-6 h-6 bg-success/10 rounded-full flex items-center justify-center mr-3 flex-shrink-0 mt-0.5",children:Ce.jsx("svg",{className:"h-4 w-4 text-success",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:Ce.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})}),Ce.jsx("span",{className:"text-muted-foreground",children:e})]},t))}),Ce.jsx(Uo,{asChild:!0,className:"w-full",size:"lg",children:Ce.jsx(Dt,{to:`/contact?type=student&source=plan${e.contact_message?"&planId="+e.id:""}#contact-form`,children:"Get Started Today"})})]})]},e.id))}):Ce.jsx(Fo,{className:"max-w-md mx-auto",children:Ce.jsxs(Wo,{className:"py-12 text-center",children:[Ce.jsx("p",{className:"text-muted-foreground",children:"No pricing plan available. Please contact us for details."}),Ce.jsx(Uo,{asChild:!0,className:"mt-4",children:Ce.jsx(Dt,{to:"/contact?type=student#contact-form",children:"Contact Us"})})]})})]})}),Ce.jsx("section",{className:"py-20 bg-gradient-to-r from-primary to-tertiary text-white",children:Ce.jsxs("div",{className:"container mx-auto px-4 text-center",children:[Ce.jsx("h2",{className:"text-3xl md:text-4xl font-bold mb-6",children:"Ready to Start Your Journey?"}),Ce.jsx("p",{className:"text-xl mb-8 max-w-2xl mx-auto opacity-95",children:"Join Happy Space World today and discover a calmer, more confident you"}),Ce.jsx(Uo,{asChild:!0,size:"lg",className:"bg-white text-primary hover:bg-white/90",children:Ce.jsx(Dt,{to:"/contact?type=student&source=booking#contact-form",children:"Book Your First Session"})})]})})]}),Ce.jsx(_p,{})]})]})},Rp=()=>{const{data:e=[],isLoading:t}=Do({queryKey:["school-plans"],queryFn:async()=>{const{data:e,error:t}=await ah.from("plans").select("*").in("plan_type",["school","both"]).eq("is_active",!0).order("display_order",{ascending:!0});if(t)throw t;return(e||[]).map(e=>({...e,features:Array.isArray(e.features)?e.features:[]}))},staleTime:0,refetchOnWindowFocus:!0});return Ce.jsxs(Ce.Fragment,{children:[Ce.jsx(Np,{title:"For Schools - Happy Space World",description:"Transform your school's mental wellness with our certification programs. Proven results: 92% happiness improvement, 87% stress reduction."}),Ce.jsxs("div",{className:"min-h-screen flex flex-col",children:[Ce.jsx(jp,{}),Ce.jsxs("main",{className:"flex-1",children:[Ce.jsx("section",{className:"py-20 bg-gradient-to-br from-primary to-tertiary text-white",children:Ce.jsxs("div",{className:"container mx-auto px-4 text-center",children:[Ce.jsx("h1",{className:"text-4xl md:text-5xl font-bold mb-6",children:"Transform Your School's Mental Wellness"}),Ce.jsx("p",{className:"text-xl mb-8 max-w-2xl mx-auto opacity-95",children:"Make your school a mental wellness pioneer with Happy Space World certification and programs"}),Ce.jsx(Uo,{asChild:!0,size:"lg",className:"bg-secondary hover:bg-secondary-dark",children:Ce.jsx(Dt,{to:"/contact?type=school&source=demo#contact-form",children:"Request School Demo"})})]})}),Ce.jsx("section",{className:"py-20 bg-background",children:Ce.jsxs("div",{className:"container mx-auto px-4",children:[Ce.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-center mb-12 text-foreground",children:"Why Schools Choose Happy Space World"}),Ce.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:[Ce.jsxs(Fo,{className:"border-border",children:[Ce.jsxs(Bo,{children:[Ce.jsx("div",{className:"w-12 h-12 bg-success/10 rounded-full flex items-center justify-center mb-3",children:Ce.jsx(An,{className:"h-6 w-6 text-success"})}),Ce.jsx(qo,{children:"Improved Student Performance"})]}),Ce.jsx(Wo,{children:Ce.jsx("p",{className:"text-muted-foreground",children:"92% improvement in happiness index and 87% reduction in stress levels leads to better academic outcomes"})})]}),Ce.jsxs(Fo,{className:"border-border",children:[Ce.jsxs(Bo,{children:[Ce.jsx("div",{className:"w-12 h-12 bg-primary/10 rounded-full flex items-center justify-center mb-3",children:Ce.jsx(Yr,{className:"h-6 w-6 text-primary"})}),Ce.jsx(qo,{children:"Prestigious Certification"})]}),Ce.jsx(Wo,{children:Ce.jsx("p",{className:"text-muted-foreground",children:"Earn Happy Space World Certified School status with Gold, Silver, or Bronze tier recognition"})})]}),Ce.jsxs(Fo,{className:"border-border",children:[Ce.jsxs(Bo,{children:[Ce.jsx("div",{className:"w-12 h-12 bg-secondary/10 rounded-full flex items-center justify-center mb-3",children:Ce.jsx(Dn,{className:"h-6 w-6 text-secondary"})}),Ce.jsx(qo,{children:"Enhanced Reputation"})]}),Ce.jsx(Wo,{children:Ce.jsx("p",{className:"text-muted-foreground",children:"Stand out as a wellness-focused institution with certification badge and media visibility"})})]}),Ce.jsxs(Fo,{className:"border-border",children:[Ce.jsxs(Bo,{children:[Ce.jsx("div",{className:"w-12 h-12 bg-tertiary/10 rounded-full flex items-center justify-center mb-3",children:Ce.jsx(pn,{className:"h-6 w-6 text-tertiary"})}),Ce.jsx(qo,{children:"Comprehensive Reports"})]}),Ce.jsx(Wo,{children:Ce.jsx("p",{className:"text-muted-foreground",children:"Receive detailed annual wellness reports and data-driven insights about student progress"})})]}),Ce.jsxs(Fo,{className:"border-border",children:[Ce.jsxs(Bo,{children:[Ce.jsx("div",{className:"w-12 h-12 bg-warning/10 rounded-full flex items-center justify-center mb-3",children:Ce.jsx(Tn,{className:"h-6 w-6 text-warning"})}),Ce.jsx(qo,{children:"Parent Satisfaction"})]}),Ce.jsx(Wo,{children:Ce.jsx("p",{className:"text-muted-foreground",children:"Parents notice visible improvements in their children's focus, confidence, and emotional wellbeing"})})]}),Ce.jsxs(Fo,{className:"border-border",children:[Ce.jsxs(Bo,{children:[Ce.jsx("div",{className:"w-12 h-12 bg-calm-blue/10 rounded-full flex items-center justify-center mb-3",children:Ce.jsx(ln,{className:"h-6 w-6 text-calm-blue"})}),Ce.jsx(qo,{children:"Expert Support"})]}),Ce.jsx(Wo,{children:Ce.jsx("p",{className:"text-muted-foreground",children:"Guidance from Sivaram Raghavan and trained counselors using proven methodologies"})})]})]})]})}),Ce.jsx("section",{id:"certification",className:"py-20 bg-muted/30",children:Ce.jsxs("div",{className:"container mx-auto px-4",children:[Ce.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-center mb-4 text-foreground",children:"Certification Pathway"}),Ce.jsx("p",{className:"text-center text-muted-foreground mb-12 max-w-2xl mx-auto",children:"A simple 5-step process to become a Happy Space World Certified School"}),Ce.jsx("div",{className:"max-w-4xl mx-auto",children:Ce.jsxs("div",{className:"space-y-8",children:[Ce.jsxs("div",{className:"flex items-start",children:[Ce.jsx("div",{className:"flex-shrink-0 w-12 h-12 bg-primary text-white rounded-full flex items-center justify-center font-bold text-lg mr-4",children:"1"}),Ce.jsxs("div",{children:[Ce.jsx("h3",{className:"text-xl font-semibold mb-2 text-foreground",children:"Baseline Assessment"}),Ce.jsx("p",{className:"text-muted-foreground",children:"Conduct initial Happiness Index Survey to understand current student mental wellness levels"})]})]}),Ce.jsxs("div",{className:"flex items-start",children:[Ce.jsx("div",{className:"flex-shrink-0 w-12 h-12 bg-primary text-white rounded-full flex items-center justify-center font-bold text-lg mr-4",children:"2"}),Ce.jsxs("div",{children:[Ce.jsx("h3",{className:"text-xl font-semibold mb-2 text-foreground",children:"Program Execution"}),Ce.jsx("p",{className:"text-muted-foreground",children:"4-6 week comprehensive program with pet therapy sessions, expert counseling, and wellness activities"})]})]}),Ce.jsxs("div",{className:"flex items-start",children:[Ce.jsx("div",{className:"flex-shrink-0 w-12 h-12 bg-primary text-white rounded-full flex items-center justify-center font-bold text-lg mr-4",children:"3"}),Ce.jsxs("div",{children:[Ce.jsx("h3",{className:"text-xl font-semibold mb-2 text-foreground",children:"Post-Program Assessment"}),Ce.jsx("p",{className:"text-muted-foreground",children:"Re-survey students and analyze improvement data to measure program impact"})]})]}),Ce.jsxs("div",{className:"flex items-start",children:[Ce.jsx("div",{className:"flex-shrink-0 w-12 h-12 bg-primary text-white rounded-full flex items-center justify-center font-bold text-lg mr-4",children:"4"}),Ce.jsxs("div",{children:[Ce.jsx("h3",{className:"text-xl font-semibold mb-2 text-foreground",children:"Certification Award"}),Ce.jsx("p",{className:"text-muted-foreground",children:"Receive Gold, Silver, or Bronze tier certification based on measurable impact metrics"})]})]}),Ce.jsxs("div",{className:"flex items-start",children:[Ce.jsx("div",{className:"flex-shrink-0 w-12 h-12 bg-primary text-white rounded-full flex items-center justify-center font-bold text-lg mr-4",children:"5"}),Ce.jsxs("div",{children:[Ce.jsx("h3",{className:"text-xl font-semibold mb-2 text-foreground",children:"Recognition & Media"}),Ce.jsx("p",{className:"text-muted-foreground",children:"Display certification badge, receive media coverage, and get annual wellness reports"})]})]})]})})]})}),Ce.jsx("section",{id:"pricing",className:"py-20 bg-background",children:Ce.jsxs("div",{className:"container mx-auto px-4",children:[Ce.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-center mb-4 text-foreground",children:"Transparent, Flexible Pricing"}),Ce.jsx("p",{className:"text-center text-muted-foreground mb-12",children:"Choose the package that fits your school's needs"}),t?Ce.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8 max-w-6xl mx-auto",children:Array.from({length:3}).map((e,t)=>Ce.jsxs(Fo,{children:[Ce.jsxs(Bo,{children:[Ce.jsx(Cp,{className:"h-8 w-40 mb-4"}),Ce.jsx(Cp,{className:"h-12 w-32"}),Ce.jsx(Cp,{className:"h-4 w-48 mt-2"})]}),Ce.jsxs(Wo,{children:[Ce.jsx("div",{className:"space-y-3 mb-6",children:Array.from({length:4}).map((e,t)=>Ce.jsx(Cp,{className:"h-4 w-full"},t))}),Ce.jsx(Cp,{className:"h-10 w-full"})]})]},t))}):Ce.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8 max-w-6xl mx-auto",children:e.map((e,t)=>{const s=1===t;return Ce.jsxs(Fo,{className:s?"border-2 border-secondary shadow-xl":"border-border",children:[s&&Ce.jsx("div",{className:"bg-secondary text-white text-center py-2 text-sm font-semibold",children:"RECOMMENDED"}),Ce.jsxs(Bo,{children:[Ce.jsx(qo,{className:"text-2xl",children:e.name}),Ce.jsxs("div",{className:"mt-4",children:[Ce.jsx("span",{className:"text-4xl font-bold text-primary",children:e.price&&e.price>0?`${e.price.toLocaleString()}${e.name.includes("Growth")?"+":""}`:"Custom"}),Ce.jsx("p",{className:"text-sm text-muted-foreground mt-2",children:e.description})]})]}),Ce.jsxs(Wo,{children:[Ce.jsx("ul",{className:"space-y-3 mb-6",children:e.features.map((e,t)=>Ce.jsxs("li",{className:"flex items-start",children:[Ce.jsx(ln,{className:"h-5 w-5 text-success mr-2 flex-shrink-0 mt-0.5"}),Ce.jsx("span",{className:"text-sm text-muted-foreground",children:e})]},t))}),Ce.jsx(Uo,{asChild:!0,variant:s?"default":"outline",className:s?"w-full bg-secondary hover:bg-secondary-dark":"w-full",children:Ce.jsx(Dt,{to:`/contact?type=school&source=${e.price&&e.price>0?"pricing":"quote"}${e.contact_message?"&planId="+e.id:""}#contact-form`,children:e.price&&e.price>0?`Choose ${e.name.split(" ")[0]}`:"Request Quote"})})]})]},e.id)})})]})}),Ce.jsx("section",{className:"py-20 bg-muted/30",children:Ce.jsxs("div",{className:"container mx-auto px-4",children:[Ce.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-center mb-12 text-foreground",children:"See the Impact"}),Ce.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[Ce.jsxs(Fo,{className:"border-border",children:[Ce.jsxs(Bo,{children:[Ce.jsxs("div",{className:"flex items-center justify-between mb-2",children:[Ce.jsx(qo,{className:"text-lg",children:"Delhi Public School"}),Ce.jsx(Yr,{className:"h-6 w-6 text-warning"})]}),Ce.jsx("p",{className:"text-sm text-muted-foreground",children:"45 students participated"})]}),Ce.jsxs(Wo,{children:[Ce.jsxs("div",{className:"mb-4",children:[Ce.jsx("div",{className:"text-3xl font-bold text-primary mb-1",children:"78%"}),Ce.jsx("p",{className:"text-sm text-muted-foreground",children:"Happiness improvement"})]}),Ce.jsx("p",{className:"text-sm text-muted-foreground italic",children:'"This program transformed our school culture and student wellbeing."'})]})]}),Ce.jsxs(Fo,{className:"border-border",children:[Ce.jsxs(Bo,{children:[Ce.jsxs("div",{className:"flex items-center justify-between mb-2",children:[Ce.jsx(qo,{className:"text-lg",children:"Mumbai International"}),Ce.jsx(Yr,{className:"h-6 w-6 text-warning"})]}),Ce.jsx("p",{className:"text-sm text-muted-foreground",children:"60 students participated"})]}),Ce.jsxs(Wo,{children:[Ce.jsxs("div",{className:"mb-4",children:[Ce.jsx("div",{className:"text-3xl font-bold text-primary mb-1",children:"85%"}),Ce.jsx("p",{className:"text-sm text-muted-foreground",children:"Stress reduction"})]}),Ce.jsx("p",{className:"text-sm text-muted-foreground italic",children:'"Parents noticed visible change in focus and emotional regulation."'})]})]}),Ce.jsxs(Fo,{className:"border-2 border-warning",children:[Ce.jsxs(Bo,{children:[Ce.jsxs("div",{className:"flex items-center justify-between mb-2",children:[Ce.jsx(qo,{className:"text-lg",children:"Bangalore Academy"}),Ce.jsxs("div",{className:"flex items-center space-x-1",children:[Ce.jsx(Tn,{className:"h-5 w-5 fill-warning text-warning"}),Ce.jsx("span",{className:"text-xs font-semibold text-warning",children:"GOLD"})]})]}),Ce.jsx("p",{className:"text-sm text-muted-foreground",children:"30 students participated"})]}),Ce.jsxs(Wo,{children:[Ce.jsxs("div",{className:"mb-4",children:[Ce.jsx("div",{className:"text-3xl font-bold text-primary mb-1",children:"Gold Tier"}),Ce.jsx("p",{className:"text-sm text-muted-foreground",children:"Certified Happy Space World"})]}),Ce.jsx("p",{className:"text-sm text-muted-foreground italic",children:'"Best decision we made for our students\' mental health."'})]})]})]})]})}),Ce.jsx("section",{className:"py-20 bg-gradient-to-r from-primary to-tertiary text-white",children:Ce.jsxs("div",{className:"container mx-auto px-4 text-center",children:[Ce.jsx("h2",{className:"text-3xl md:text-4xl font-bold mb-6",children:"Ready to Transform Your School?"}),Ce.jsx("p",{className:"text-xl mb-8 max-w-2xl mx-auto opacity-95",children:"Join leading schools in prioritizing student mental wellness"}),Ce.jsx(Uo,{asChild:!0,size:"lg",className:"bg-white text-primary hover:bg-white/90",children:Ce.jsx(Dt,{to:"/contact?type=school&source=cta#contact-form",children:"Request a Demo"})})]})})]}),Ce.jsx(_p,{})]})]})};var Op,Ap,Pp;(Ap=Op||(Op={})).assertEqual=e=>{},Ap.assertIs=function(e){},Ap.assertNever=function(e){throw new Error},Ap.arrayToEnum=e=>{const t={};for(const s of e)t[s]=s;return t},Ap.getValidEnumValues=e=>{const t=Ap.objectKeys(e).filter(t=>"number"!=typeof e[e[t]]),s={};for(const r of t)s[r]=e[r];return Ap.objectValues(s)},Ap.objectValues=e=>Ap.objectKeys(e).map(function(t){return e[t]}),Ap.objectKeys="function"==typeof Object.keys?e=>Object.keys(e):e=>{const t=[];for(const s in e)Object.prototype.hasOwnProperty.call(e,s)&&t.push(s);return t},Ap.find=(e,t)=>{for(const s of e)if(t(s))return s},Ap.isInteger="function"==typeof Number.isInteger?e=>Number.isInteger(e):e=>"number"==typeof e&&Number.isFinite(e)&&Math.floor(e)===e,Ap.joinValues=function(e,t=" | "){return e.map(e=>"string"==typeof e?`'${e}'`:e).join(t)},Ap.jsonStringifyReplacer=(e,t)=>"bigint"==typeof t?t.toString():t,(Pp||(Pp={})).mergeShapes=(e,t)=>({...e,...t});const Ip=Op.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),Mp=e=>{switch(typeof e){case"undefined":return Ip.undefined;case"string":return Ip.string;case"number":return Number.isNaN(e)?Ip.nan:Ip.number;case"boolean":return Ip.boolean;case"function":return Ip.function;case"bigint":return Ip.bigint;case"symbol":return Ip.symbol;case"object":return Array.isArray(e)?Ip.array:null===e?Ip.null:e.then&&"function"==typeof e.then&&e.catch&&"function"==typeof e.catch?Ip.promise:"undefined"!=typeof Map&&e instanceof Map?Ip.map:"undefined"!=typeof Set&&e instanceof Set?Ip.set:"undefined"!=typeof Date&&e instanceof Date?Ip.date:Ip.object;default:return Ip.unknown}},$p=Op.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]);class Dp extends Error{get errors(){return this.issues}constructor(e){super(),this.issues=[],this.addIssue=e=>{this.issues=[...this.issues,e]},this.addIssues=(e=[])=>{this.issues=[...this.issues,...e]};const t=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,t):this.__proto__=t,this.name="ZodError",this.issues=e}format(e){const t=e||function(e){return e.message},s={_errors:[]},r=e=>{for(const n of e.issues)if("invalid_union"===n.code)n.unionErrors.map(r);else if("invalid_return_type"===n.code)r(n.returnTypeError);else if("invalid_arguments"===n.code)r(n.argumentsError);else if(0===n.path.length)s._errors.push(t(n));else{let e=s,r=0;for(;r<n.path.length;){const s=n.path[r];r===n.path.length-1?(e[s]=e[s]||{_errors:[]},e[s]._errors.push(t(n))):e[s]=e[s]||{_errors:[]},e=e[s],r++}}};return r(this),s}static assert(e){if(!(e instanceof Dp))throw new Error(`Not a ZodError: ${e}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,Op.jsonStringifyReplacer,2)}get isEmpty(){return 0===this.issues.length}flatten(e=e=>e.message){const t={},s=[];for(const r of this.issues)if(r.path.length>0){const s=r.path[0];t[s]=t[s]||[],t[s].push(e(r))}else s.push(e(r));return{formErrors:s,fieldErrors:t}}get formErrors(){return this.flatten()}}Dp.create=e=>new Dp(e);const Lp=(e,t)=>{let s;switch(e.code){case $p.invalid_type:s=e.received===Ip.undefined?"Required":`Expected ${e.expected}, received ${e.received}`;break;case $p.invalid_literal:s=`Invalid literal value, expected ${JSON.stringify(e.expected,Op.jsonStringifyReplacer)}`;break;case $p.unrecognized_keys:s=`Unrecognized key(s) in object: ${Op.joinValues(e.keys,", ")}`;break;case $p.invalid_union:s="Invalid input";break;case $p.invalid_union_discriminator:s=`Invalid discriminator value. Expected ${Op.joinValues(e.options)}`;break;case $p.invalid_enum_value:s=`Invalid enum value. Expected ${Op.joinValues(e.options)}, received '${e.received}'`;break;case $p.invalid_arguments:s="Invalid function arguments";break;case $p.invalid_return_type:s="Invalid function return type";break;case $p.invalid_date:s="Invalid date";break;case $p.invalid_string:"object"==typeof e.validation?"includes"in e.validation?(s=`Invalid input: must include "${e.validation.includes}"`,"number"==typeof e.validation.position&&(s=`${s} at one or more positions greater than or equal to ${e.validation.position}`)):"startsWith"in e.validation?s=`Invalid input: must start with "${e.validation.startsWith}"`:"endsWith"in e.validation?s=`Invalid input: must end with "${e.validation.endsWith}"`:Op.assertNever(e.validation):s="regex"!==e.validation?`Invalid ${e.validation}`:"Invalid";break;case $p.too_small:s="array"===e.type?`Array must contain ${e.exact?"exactly":e.inclusive?"at least":"more than"} ${e.minimum} element(s)`:"string"===e.type?`String must contain ${e.exact?"exactly":e.inclusive?"at least":"over"} ${e.minimum} character(s)`:"number"===e.type||"bigint"===e.type?`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:"date"===e.type?`Date must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(e.minimum))}`:"Invalid input";break;case $p.too_big:s="array"===e.type?`Array must contain ${e.exact?"exactly":e.inclusive?"at most":"less than"} ${e.maximum} element(s)`:"string"===e.type?`String must contain ${e.exact?"exactly":e.inclusive?"at most":"under"} ${e.maximum} character(s)`:"number"===e.type?`Number must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:"bigint"===e.type?`BigInt must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:"date"===e.type?`Date must be ${e.exact?"exactly":e.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(e.maximum))}`:"Invalid input";break;case $p.custom:s="Invalid input";break;case $p.invalid_intersection_types:s="Intersection results could not be merged";break;case $p.not_multiple_of:s=`Number must be a multiple of ${e.multipleOf}`;break;case $p.not_finite:s="Number must be finite";break;default:s=t.defaultError,Op.assertNever(e)}return{message:s}};let Up=Lp;function Fp(e,t){const s=Up,r=(e=>{const{data:t,path:s,errorMaps:r,issueData:n}=e,a=[...s,...n.path||[]],i={...n,path:a};if(void 0!==n.message)return{...n,path:a,message:n.message};let o="";const l=r.filter(e=>!!e).slice().reverse();for(const c of l)o=c(i,{data:t,defaultError:o}).message;return{...n,path:a,message:o}})({issueData:t,data:e.data,path:e.path,errorMaps:[e.common.contextualErrorMap,e.schemaErrorMap,s,s===Lp?void 0:Lp].filter(e=>!!e)});e.common.issues.push(r)}class Bp{constructor(){this.value="valid"}dirty(){"valid"===this.value&&(this.value="dirty")}abort(){"aborted"!==this.value&&(this.value="aborted")}static mergeArray(e,t){const s=[];for(const r of t){if("aborted"===r.status)return qp;"dirty"===r.status&&e.dirty(),s.push(r.value)}return{status:e.value,value:s}}static async mergeObjectAsync(e,t){const s=[];for(const r of t){const e=await r.key,t=await r.value;s.push({key:e,value:t})}return Bp.mergeObjectSync(e,s)}static mergeObjectSync(e,t){const s={};for(const r of t){const{key:t,value:n}=r;if("aborted"===t.status)return qp;if("aborted"===n.status)return qp;"dirty"===t.status&&e.dirty(),"dirty"===n.status&&e.dirty(),"__proto__"===t.value||void 0===n.value&&!r.alwaysSet||(s[t.value]=n.value)}return{status:e.value,value:s}}}const qp=Object.freeze({status:"aborted"}),zp=e=>({status:"dirty",value:e}),Wp=e=>({status:"valid",value:e}),Hp=e=>"aborted"===e.status,Kp=e=>"dirty"===e.status,Vp=e=>"valid"===e.status,Gp=e=>"undefined"!=typeof Promise&&e instanceof Promise;var Zp,Jp;(Jp=Zp||(Zp={})).errToObj=e=>"string"==typeof e?{message:e}:e||{},Jp.toString=e=>"string"==typeof e?e:null==e?void 0:e.message;class Yp{constructor(e,t,s,r){this._cachedPath=[],this.parent=e,this.data=t,this._path=s,this._key=r}get path(){return this._cachedPath.length||(Array.isArray(this._key)?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const Qp=(e,t)=>{if(Vp(t))return{success:!0,data:t.value};if(!e.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const t=new Dp(e.common.issues);return this._error=t,this._error}}};function Xp(e){if(!e)return{};const{errorMap:t,invalid_type_error:s,required_error:r,description:n}=e;if(t&&(s||r))throw new Error('Can\'t use "invalid_type_error" or "required_error" in conjunction with custom error map.');if(t)return{errorMap:t,description:n};return{errorMap:(t,n)=>{const{message:a}=e;return"invalid_enum_value"===t.code?{message:a??n.defaultError}:void 0===n.data?{message:a??r??n.defaultError}:"invalid_type"!==t.code?{message:n.defaultError}:{message:a??s??n.defaultError}},description:n}}class ef{get description(){return this._def.description}_getType(e){return Mp(e.data)}_getOrReturnCtx(e,t){return t||{common:e.parent.common,data:e.data,parsedType:Mp(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new Bp,ctx:{common:e.parent.common,data:e.data,parsedType:Mp(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){const t=this._parse(e);if(Gp(t))throw new Error("Synchronous parse encountered promise.");return t}_parseAsync(e){const t=this._parse(e);return Promise.resolve(t)}parse(e,t){const s=this.safeParse(e,t);if(s.success)return s.data;throw s.error}safeParse(e,t){const s={common:{issues:[],async:(null==t?void 0:t.async)??!1,contextualErrorMap:null==t?void 0:t.errorMap},path:(null==t?void 0:t.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Mp(e)},r=this._parseSync({data:e,path:s.path,parent:s});return Qp(s,r)}"~validate"(e){var t,s;const r={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Mp(e)};if(!this["~standard"].async)try{const t=this._parseSync({data:e,path:[],parent:r});return Vp(t)?{value:t.value}:{issues:r.common.issues}}catch(n){(null==(s=null==(t=null==n?void 0:n.message)?void 0:t.toLowerCase())?void 0:s.includes("encountered"))&&(this["~standard"].async=!0),r.common={issues:[],async:!0}}return this._parseAsync({data:e,path:[],parent:r}).then(e=>Vp(e)?{value:e.value}:{issues:r.common.issues})}async parseAsync(e,t){const s=await this.safeParseAsync(e,t);if(s.success)return s.data;throw s.error}async safeParseAsync(e,t){const s={common:{issues:[],contextualErrorMap:null==t?void 0:t.errorMap,async:!0},path:(null==t?void 0:t.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Mp(e)},r=this._parse({data:e,path:s.path,parent:s}),n=await(Gp(r)?r:Promise.resolve(r));return Qp(s,n)}refine(e,t){const s=e=>"string"==typeof t||void 0===t?{message:t}:"function"==typeof t?t(e):t;return this._refinement((t,r)=>{const n=e(t),a=()=>r.addIssue({code:$p.custom,...s(t)});return"undefined"!=typeof Promise&&n instanceof Promise?n.then(e=>!!e||(a(),!1)):!!n||(a(),!1)})}refinement(e,t){return this._refinement((s,r)=>!!e(s)||(r.addIssue("function"==typeof t?t(s,r):t),!1))}_refinement(e){return new Xf({schema:this,typeName:lg.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:e=>this["~validate"](e)}}optional(){return eg.create(this,this._def)}nullable(){return tg.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return Lf.create(this)}promise(){return Qf.create(this,this._def)}or(e){return Bf.create([this,e],this._def)}and(e){return zf.create(this,e,this._def)}transform(e){return new Xf({...Xp(this._def),schema:this,typeName:lg.ZodEffects,effect:{type:"transform",transform:e}})}default(e){const t="function"==typeof e?e:()=>e;return new sg({...Xp(this._def),innerType:this,defaultValue:t,typeName:lg.ZodDefault})}brand(){return new ag({typeName:lg.ZodBranded,type:this,...Xp(this._def)})}catch(e){const t="function"==typeof e?e:()=>e;return new rg({...Xp(this._def),innerType:this,catchValue:t,typeName:lg.ZodCatch})}describe(e){return new(0,this.constructor)({...this._def,description:e})}pipe(e){return ig.create(this,e)}readonly(){return og.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const tf=/^c[^\s-]{8,}$/i,sf=/^[0-9a-z]+$/,rf=/^[0-9A-HJKMNP-TV-Z]{26}$/i,nf=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,af=/^[a-z0-9_-]{21}$/i,of=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,lf=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,cf=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i;let df;const uf=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,hf=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,mf=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,pf=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,ff=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,gf=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,xf="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",vf=new RegExp(`^${xf}$`);function yf(e){let t="[0-5]\\d";e.precision?t=`${t}\\.\\d{${e.precision}}`:null==e.precision&&(t=`${t}(\\.\\d+)?`);return`([01]\\d|2[0-3]):[0-5]\\d(:${t})${e.precision?"+":"?"}`}function bf(e){return new RegExp(`^${yf(e)}$`)}function wf(e){let t=`${xf}T${yf(e)}`;const s=[];return s.push(e.local?"Z?":"Z"),e.offset&&s.push("([+-]\\d{2}:?\\d{2})"),t=`${t}(${s.join("|")})`,new RegExp(`^${t}$`)}function jf(e,t){return!("v4"!==t&&t||!uf.test(e))||!("v6"!==t&&t||!mf.test(e))}function _f(e,t){if(!of.test(e))return!1;try{const[s]=e.split(".");if(!s)return!1;const r=s.replace(/-/g,"+").replace(/_/g,"/").padEnd(s.length+(4-s.length%4)%4,"="),n=JSON.parse(atob(r));return"object"==typeof n&&null!==n&&((!("typ"in n)||"JWT"===(null==n?void 0:n.typ))&&(!!n.alg&&(!t||n.alg===t)))}catch{return!1}}function Nf(e,t){return!("v4"!==t&&t||!hf.test(e))||!("v6"!==t&&t||!pf.test(e))}class kf extends ef{_parse(e){this._def.coerce&&(e.data=String(e.data));if(this._getType(e)!==Ip.string){const t=this._getOrReturnCtx(e);return Fp(t,{code:$p.invalid_type,expected:Ip.string,received:t.parsedType}),qp}const t=new Bp;let s;for(const r of this._def.checks)if("min"===r.kind)e.data.length<r.value&&(s=this._getOrReturnCtx(e,s),Fp(s,{code:$p.too_small,minimum:r.value,type:"string",inclusive:!0,exact:!1,message:r.message}),t.dirty());else if("max"===r.kind)e.data.length>r.value&&(s=this._getOrReturnCtx(e,s),Fp(s,{code:$p.too_big,maximum:r.value,type:"string",inclusive:!0,exact:!1,message:r.message}),t.dirty());else if("length"===r.kind){const n=e.data.length>r.value,a=e.data.length<r.value;(n||a)&&(s=this._getOrReturnCtx(e,s),n?Fp(s,{code:$p.too_big,maximum:r.value,type:"string",inclusive:!0,exact:!0,message:r.message}):a&&Fp(s,{code:$p.too_small,minimum:r.value,type:"string",inclusive:!0,exact:!0,message:r.message}),t.dirty())}else if("email"===r.kind)cf.test(e.data)||(s=this._getOrReturnCtx(e,s),Fp(s,{validation:"email",code:$p.invalid_string,message:r.message}),t.dirty());else if("emoji"===r.kind)df||(df=new RegExp("^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$","u")),df.test(e.data)||(s=this._getOrReturnCtx(e,s),Fp(s,{validation:"emoji",code:$p.invalid_string,message:r.message}),t.dirty());else if("uuid"===r.kind)nf.test(e.data)||(s=this._getOrReturnCtx(e,s),Fp(s,{validation:"uuid",code:$p.invalid_string,message:r.message}),t.dirty());else if("nanoid"===r.kind)af.test(e.data)||(s=this._getOrReturnCtx(e,s),Fp(s,{validation:"nanoid",code:$p.invalid_string,message:r.message}),t.dirty());else if("cuid"===r.kind)tf.test(e.data)||(s=this._getOrReturnCtx(e,s),Fp(s,{validation:"cuid",code:$p.invalid_string,message:r.message}),t.dirty());else if("cuid2"===r.kind)sf.test(e.data)||(s=this._getOrReturnCtx(e,s),Fp(s,{validation:"cuid2",code:$p.invalid_string,message:r.message}),t.dirty());else if("ulid"===r.kind)rf.test(e.data)||(s=this._getOrReturnCtx(e,s),Fp(s,{validation:"ulid",code:$p.invalid_string,message:r.message}),t.dirty());else if("url"===r.kind)try{new URL(e.data)}catch{s=this._getOrReturnCtx(e,s),Fp(s,{validation:"url",code:$p.invalid_string,message:r.message}),t.dirty()}else if("regex"===r.kind){r.regex.lastIndex=0;r.regex.test(e.data)||(s=this._getOrReturnCtx(e,s),Fp(s,{validation:"regex",code:$p.invalid_string,message:r.message}),t.dirty())}else if("trim"===r.kind)e.data=e.data.trim();else if("includes"===r.kind)e.data.includes(r.value,r.position)||(s=this._getOrReturnCtx(e,s),Fp(s,{code:$p.invalid_string,validation:{includes:r.value,position:r.position},message:r.message}),t.dirty());else if("toLowerCase"===r.kind)e.data=e.data.toLowerCase();else if("toUpperCase"===r.kind)e.data=e.data.toUpperCase();else if("startsWith"===r.kind)e.data.startsWith(r.value)||(s=this._getOrReturnCtx(e,s),Fp(s,{code:$p.invalid_string,validation:{startsWith:r.value},message:r.message}),t.dirty());else if("endsWith"===r.kind)e.data.endsWith(r.value)||(s=this._getOrReturnCtx(e,s),Fp(s,{code:$p.invalid_string,validation:{endsWith:r.value},message:r.message}),t.dirty());else if("datetime"===r.kind){wf(r).test(e.data)||(s=this._getOrReturnCtx(e,s),Fp(s,{code:$p.invalid_string,validation:"datetime",message:r.message}),t.dirty())}else if("date"===r.kind){vf.test(e.data)||(s=this._getOrReturnCtx(e,s),Fp(s,{code:$p.invalid_string,validation:"date",message:r.message}),t.dirty())}else if("time"===r.kind){bf(r).test(e.data)||(s=this._getOrReturnCtx(e,s),Fp(s,{code:$p.invalid_string,validation:"time",message:r.message}),t.dirty())}else"duration"===r.kind?lf.test(e.data)||(s=this._getOrReturnCtx(e,s),Fp(s,{validation:"duration",code:$p.invalid_string,message:r.message}),t.dirty()):"ip"===r.kind?jf(e.data,r.version)||(s=this._getOrReturnCtx(e,s),Fp(s,{validation:"ip",code:$p.invalid_string,message:r.message}),t.dirty()):"jwt"===r.kind?_f(e.data,r.alg)||(s=this._getOrReturnCtx(e,s),Fp(s,{validation:"jwt",code:$p.invalid_string,message:r.message}),t.dirty()):"cidr"===r.kind?Nf(e.data,r.version)||(s=this._getOrReturnCtx(e,s),Fp(s,{validation:"cidr",code:$p.invalid_string,message:r.message}),t.dirty()):"base64"===r.kind?ff.test(e.data)||(s=this._getOrReturnCtx(e,s),Fp(s,{validation:"base64",code:$p.invalid_string,message:r.message}),t.dirty()):"base64url"===r.kind?gf.test(e.data)||(s=this._getOrReturnCtx(e,s),Fp(s,{validation:"base64url",code:$p.invalid_string,message:r.message}),t.dirty()):Op.assertNever(r);return{status:t.value,value:e.data}}_regex(e,t,s){return this.refinement(t=>e.test(t),{validation:t,code:$p.invalid_string,...Zp.errToObj(s)})}_addCheck(e){return new kf({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...Zp.errToObj(e)})}url(e){return this._addCheck({kind:"url",...Zp.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...Zp.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...Zp.errToObj(e)})}nanoid(e){return this._addCheck({kind:"nanoid",...Zp.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...Zp.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...Zp.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...Zp.errToObj(e)})}base64(e){return this._addCheck({kind:"base64",...Zp.errToObj(e)})}base64url(e){return this._addCheck({kind:"base64url",...Zp.errToObj(e)})}jwt(e){return this._addCheck({kind:"jwt",...Zp.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...Zp.errToObj(e)})}cidr(e){return this._addCheck({kind:"cidr",...Zp.errToObj(e)})}datetime(e){return"string"==typeof e?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:e}):this._addCheck({kind:"datetime",precision:void 0===(null==e?void 0:e.precision)?null:null==e?void 0:e.precision,offset:(null==e?void 0:e.offset)??!1,local:(null==e?void 0:e.local)??!1,...Zp.errToObj(null==e?void 0:e.message)})}date(e){return this._addCheck({kind:"date",message:e})}time(e){return"string"==typeof e?this._addCheck({kind:"time",precision:null,message:e}):this._addCheck({kind:"time",precision:void 0===(null==e?void 0:e.precision)?null:null==e?void 0:e.precision,...Zp.errToObj(null==e?void 0:e.message)})}duration(e){return this._addCheck({kind:"duration",...Zp.errToObj(e)})}regex(e,t){return this._addCheck({kind:"regex",regex:e,...Zp.errToObj(t)})}includes(e,t){return this._addCheck({kind:"includes",value:e,position:null==t?void 0:t.position,...Zp.errToObj(null==t?void 0:t.message)})}startsWith(e,t){return this._addCheck({kind:"startsWith",value:e,...Zp.errToObj(t)})}endsWith(e,t){return this._addCheck({kind:"endsWith",value:e,...Zp.errToObj(t)})}min(e,t){return this._addCheck({kind:"min",value:e,...Zp.errToObj(t)})}max(e,t){return this._addCheck({kind:"max",value:e,...Zp.errToObj(t)})}length(e,t){return this._addCheck({kind:"length",value:e,...Zp.errToObj(t)})}nonempty(e){return this.min(1,Zp.errToObj(e))}trim(){return new kf({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new kf({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new kf({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(e=>"datetime"===e.kind)}get isDate(){return!!this._def.checks.find(e=>"date"===e.kind)}get isTime(){return!!this._def.checks.find(e=>"time"===e.kind)}get isDuration(){return!!this._def.checks.find(e=>"duration"===e.kind)}get isEmail(){return!!this._def.checks.find(e=>"email"===e.kind)}get isURL(){return!!this._def.checks.find(e=>"url"===e.kind)}get isEmoji(){return!!this._def.checks.find(e=>"emoji"===e.kind)}get isUUID(){return!!this._def.checks.find(e=>"uuid"===e.kind)}get isNANOID(){return!!this._def.checks.find(e=>"nanoid"===e.kind)}get isCUID(){return!!this._def.checks.find(e=>"cuid"===e.kind)}get isCUID2(){return!!this._def.checks.find(e=>"cuid2"===e.kind)}get isULID(){return!!this._def.checks.find(e=>"ulid"===e.kind)}get isIP(){return!!this._def.checks.find(e=>"ip"===e.kind)}get isCIDR(){return!!this._def.checks.find(e=>"cidr"===e.kind)}get isBase64(){return!!this._def.checks.find(e=>"base64"===e.kind)}get isBase64url(){return!!this._def.checks.find(e=>"base64url"===e.kind)}get minLength(){let e=null;for(const t of this._def.checks)"min"===t.kind&&(null===e||t.value>e)&&(e=t.value);return e}get maxLength(){let e=null;for(const t of this._def.checks)"max"===t.kind&&(null===e||t.value<e)&&(e=t.value);return e}}function Sf(e,t){const s=(e.toString().split(".")[1]||"").length,r=(t.toString().split(".")[1]||"").length,n=s>r?s:r;return Number.parseInt(e.toFixed(n).replace(".",""))%Number.parseInt(t.toFixed(n).replace(".",""))/10**n}kf.create=e=>new kf({checks:[],typeName:lg.ZodString,coerce:(null==e?void 0:e.coerce)??!1,...Xp(e)});class Ef extends ef{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){this._def.coerce&&(e.data=Number(e.data));if(this._getType(e)!==Ip.number){const t=this._getOrReturnCtx(e);return Fp(t,{code:$p.invalid_type,expected:Ip.number,received:t.parsedType}),qp}let t;const s=new Bp;for(const r of this._def.checks)if("int"===r.kind)Op.isInteger(e.data)||(t=this._getOrReturnCtx(e,t),Fp(t,{code:$p.invalid_type,expected:"integer",received:"float",message:r.message}),s.dirty());else if("min"===r.kind){(r.inclusive?e.data<r.value:e.data<=r.value)&&(t=this._getOrReturnCtx(e,t),Fp(t,{code:$p.too_small,minimum:r.value,type:"number",inclusive:r.inclusive,exact:!1,message:r.message}),s.dirty())}else if("max"===r.kind){(r.inclusive?e.data>r.value:e.data>=r.value)&&(t=this._getOrReturnCtx(e,t),Fp(t,{code:$p.too_big,maximum:r.value,type:"number",inclusive:r.inclusive,exact:!1,message:r.message}),s.dirty())}else"multipleOf"===r.kind?0!==Sf(e.data,r.value)&&(t=this._getOrReturnCtx(e,t),Fp(t,{code:$p.not_multiple_of,multipleOf:r.value,message:r.message}),s.dirty()):"finite"===r.kind?Number.isFinite(e.data)||(t=this._getOrReturnCtx(e,t),Fp(t,{code:$p.not_finite,message:r.message}),s.dirty()):Op.assertNever(r);return{status:s.value,value:e.data}}gte(e,t){return this.setLimit("min",e,!0,Zp.toString(t))}gt(e,t){return this.setLimit("min",e,!1,Zp.toString(t))}lte(e,t){return this.setLimit("max",e,!0,Zp.toString(t))}lt(e,t){return this.setLimit("max",e,!1,Zp.toString(t))}setLimit(e,t,s,r){return new Ef({...this._def,checks:[...this._def.checks,{kind:e,value:t,inclusive:s,message:Zp.toString(r)}]})}_addCheck(e){return new Ef({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:Zp.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:Zp.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:Zp.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:Zp.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:Zp.toString(e)})}multipleOf(e,t){return this._addCheck({kind:"multipleOf",value:e,message:Zp.toString(t)})}finite(e){return this._addCheck({kind:"finite",message:Zp.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:Zp.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:Zp.toString(e)})}get minValue(){let e=null;for(const t of this._def.checks)"min"===t.kind&&(null===e||t.value>e)&&(e=t.value);return e}get maxValue(){let e=null;for(const t of this._def.checks)"max"===t.kind&&(null===e||t.value<e)&&(e=t.value);return e}get isInt(){return!!this._def.checks.find(e=>"int"===e.kind||"multipleOf"===e.kind&&Op.isInteger(e.value))}get isFinite(){let e=null,t=null;for(const s of this._def.checks){if("finite"===s.kind||"int"===s.kind||"multipleOf"===s.kind)return!0;"min"===s.kind?(null===t||s.value>t)&&(t=s.value):"max"===s.kind&&(null===e||s.value<e)&&(e=s.value)}return Number.isFinite(t)&&Number.isFinite(e)}}Ef.create=e=>new Ef({checks:[],typeName:lg.ZodNumber,coerce:(null==e?void 0:e.coerce)||!1,...Xp(e)});class Cf extends ef{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce)try{e.data=BigInt(e.data)}catch{return this._getInvalidInput(e)}if(this._getType(e)!==Ip.bigint)return this._getInvalidInput(e);let t;const s=new Bp;for(const r of this._def.checks)if("min"===r.kind){(r.inclusive?e.data<r.value:e.data<=r.value)&&(t=this._getOrReturnCtx(e,t),Fp(t,{code:$p.too_small,type:"bigint",minimum:r.value,inclusive:r.inclusive,message:r.message}),s.dirty())}else if("max"===r.kind){(r.inclusive?e.data>r.value:e.data>=r.value)&&(t=this._getOrReturnCtx(e,t),Fp(t,{code:$p.too_big,type:"bigint",maximum:r.value,inclusive:r.inclusive,message:r.message}),s.dirty())}else"multipleOf"===r.kind?e.data%r.value!==BigInt(0)&&(t=this._getOrReturnCtx(e,t),Fp(t,{code:$p.not_multiple_of,multipleOf:r.value,message:r.message}),s.dirty()):Op.assertNever(r);return{status:s.value,value:e.data}}_getInvalidInput(e){const t=this._getOrReturnCtx(e);return Fp(t,{code:$p.invalid_type,expected:Ip.bigint,received:t.parsedType}),qp}gte(e,t){return this.setLimit("min",e,!0,Zp.toString(t))}gt(e,t){return this.setLimit("min",e,!1,Zp.toString(t))}lte(e,t){return this.setLimit("max",e,!0,Zp.toString(t))}lt(e,t){return this.setLimit("max",e,!1,Zp.toString(t))}setLimit(e,t,s,r){return new Cf({...this._def,checks:[...this._def.checks,{kind:e,value:t,inclusive:s,message:Zp.toString(r)}]})}_addCheck(e){return new Cf({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:Zp.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:Zp.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:Zp.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:Zp.toString(e)})}multipleOf(e,t){return this._addCheck({kind:"multipleOf",value:e,message:Zp.toString(t)})}get minValue(){let e=null;for(const t of this._def.checks)"min"===t.kind&&(null===e||t.value>e)&&(e=t.value);return e}get maxValue(){let e=null;for(const t of this._def.checks)"max"===t.kind&&(null===e||t.value<e)&&(e=t.value);return e}}Cf.create=e=>new Cf({checks:[],typeName:lg.ZodBigInt,coerce:(null==e?void 0:e.coerce)??!1,...Xp(e)});class Tf extends ef{_parse(e){this._def.coerce&&(e.data=Boolean(e.data));if(this._getType(e)!==Ip.boolean){const t=this._getOrReturnCtx(e);return Fp(t,{code:$p.invalid_type,expected:Ip.boolean,received:t.parsedType}),qp}return Wp(e.data)}}Tf.create=e=>new Tf({typeName:lg.ZodBoolean,coerce:(null==e?void 0:e.coerce)||!1,...Xp(e)});class Rf extends ef{_parse(e){this._def.coerce&&(e.data=new Date(e.data));if(this._getType(e)!==Ip.date){const t=this._getOrReturnCtx(e);return Fp(t,{code:$p.invalid_type,expected:Ip.date,received:t.parsedType}),qp}if(Number.isNaN(e.data.getTime())){return Fp(this._getOrReturnCtx(e),{code:$p.invalid_date}),qp}const t=new Bp;let s;for(const r of this._def.checks)"min"===r.kind?e.data.getTime()<r.value&&(s=this._getOrReturnCtx(e,s),Fp(s,{code:$p.too_small,message:r.message,inclusive:!0,exact:!1,minimum:r.value,type:"date"}),t.dirty()):"max"===r.kind?e.data.getTime()>r.value&&(s=this._getOrReturnCtx(e,s),Fp(s,{code:$p.too_big,message:r.message,inclusive:!0,exact:!1,maximum:r.value,type:"date"}),t.dirty()):Op.assertNever(r);return{status:t.value,value:new Date(e.data.getTime())}}_addCheck(e){return new Rf({...this._def,checks:[...this._def.checks,e]})}min(e,t){return this._addCheck({kind:"min",value:e.getTime(),message:Zp.toString(t)})}max(e,t){return this._addCheck({kind:"max",value:e.getTime(),message:Zp.toString(t)})}get minDate(){let e=null;for(const t of this._def.checks)"min"===t.kind&&(null===e||t.value>e)&&(e=t.value);return null!=e?new Date(e):null}get maxDate(){let e=null;for(const t of this._def.checks)"max"===t.kind&&(null===e||t.value<e)&&(e=t.value);return null!=e?new Date(e):null}}Rf.create=e=>new Rf({checks:[],coerce:(null==e?void 0:e.coerce)||!1,typeName:lg.ZodDate,...Xp(e)});class Of extends ef{_parse(e){if(this._getType(e)!==Ip.symbol){const t=this._getOrReturnCtx(e);return Fp(t,{code:$p.invalid_type,expected:Ip.symbol,received:t.parsedType}),qp}return Wp(e.data)}}Of.create=e=>new Of({typeName:lg.ZodSymbol,...Xp(e)});class Af extends ef{_parse(e){if(this._getType(e)!==Ip.undefined){const t=this._getOrReturnCtx(e);return Fp(t,{code:$p.invalid_type,expected:Ip.undefined,received:t.parsedType}),qp}return Wp(e.data)}}Af.create=e=>new Af({typeName:lg.ZodUndefined,...Xp(e)});class Pf extends ef{_parse(e){if(this._getType(e)!==Ip.null){const t=this._getOrReturnCtx(e);return Fp(t,{code:$p.invalid_type,expected:Ip.null,received:t.parsedType}),qp}return Wp(e.data)}}Pf.create=e=>new Pf({typeName:lg.ZodNull,...Xp(e)});class If extends ef{constructor(){super(...arguments),this._any=!0}_parse(e){return Wp(e.data)}}If.create=e=>new If({typeName:lg.ZodAny,...Xp(e)});class Mf extends ef{constructor(){super(...arguments),this._unknown=!0}_parse(e){return Wp(e.data)}}Mf.create=e=>new Mf({typeName:lg.ZodUnknown,...Xp(e)});class $f extends ef{_parse(e){const t=this._getOrReturnCtx(e);return Fp(t,{code:$p.invalid_type,expected:Ip.never,received:t.parsedType}),qp}}$f.create=e=>new $f({typeName:lg.ZodNever,...Xp(e)});class Df extends ef{_parse(e){if(this._getType(e)!==Ip.undefined){const t=this._getOrReturnCtx(e);return Fp(t,{code:$p.invalid_type,expected:Ip.void,received:t.parsedType}),qp}return Wp(e.data)}}Df.create=e=>new Df({typeName:lg.ZodVoid,...Xp(e)});class Lf extends ef{_parse(e){const{ctx:t,status:s}=this._processInputParams(e),r=this._def;if(t.parsedType!==Ip.array)return Fp(t,{code:$p.invalid_type,expected:Ip.array,received:t.parsedType}),qp;if(null!==r.exactLength){const e=t.data.length>r.exactLength.value,n=t.data.length<r.exactLength.value;(e||n)&&(Fp(t,{code:e?$p.too_big:$p.too_small,minimum:n?r.exactLength.value:void 0,maximum:e?r.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:r.exactLength.message}),s.dirty())}if(null!==r.minLength&&t.data.length<r.minLength.value&&(Fp(t,{code:$p.too_small,minimum:r.minLength.value,type:"array",inclusive:!0,exact:!1,message:r.minLength.message}),s.dirty()),null!==r.maxLength&&t.data.length>r.maxLength.value&&(Fp(t,{code:$p.too_big,maximum:r.maxLength.value,type:"array",inclusive:!0,exact:!1,message:r.maxLength.message}),s.dirty()),t.common.async)return Promise.all([...t.data].map((e,s)=>r.type._parseAsync(new Yp(t,e,t.path,s)))).then(e=>Bp.mergeArray(s,e));const n=[...t.data].map((e,s)=>r.type._parseSync(new Yp(t,e,t.path,s)));return Bp.mergeArray(s,n)}get element(){return this._def.type}min(e,t){return new Lf({...this._def,minLength:{value:e,message:Zp.toString(t)}})}max(e,t){return new Lf({...this._def,maxLength:{value:e,message:Zp.toString(t)}})}length(e,t){return new Lf({...this._def,exactLength:{value:e,message:Zp.toString(t)}})}nonempty(e){return this.min(1,e)}}function Uf(e){if(e instanceof Ff){const t={};for(const s in e.shape){const r=e.shape[s];t[s]=eg.create(Uf(r))}return new Ff({...e._def,shape:()=>t})}return e instanceof Lf?new Lf({...e._def,type:Uf(e.element)}):e instanceof eg?eg.create(Uf(e.unwrap())):e instanceof tg?tg.create(Uf(e.unwrap())):e instanceof Wf?Wf.create(e.items.map(e=>Uf(e))):e}Lf.create=(e,t)=>new Lf({type:e,minLength:null,maxLength:null,exactLength:null,typeName:lg.ZodArray,...Xp(t)});class Ff extends ef{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(null!==this._cached)return this._cached;const e=this._def.shape(),t=Op.objectKeys(e);return this._cached={shape:e,keys:t},this._cached}_parse(e){if(this._getType(e)!==Ip.object){const t=this._getOrReturnCtx(e);return Fp(t,{code:$p.invalid_type,expected:Ip.object,received:t.parsedType}),qp}const{status:t,ctx:s}=this._processInputParams(e),{shape:r,keys:n}=this._getCached(),a=[];if(!(this._def.catchall instanceof $f&&"strip"===this._def.unknownKeys))for(const o in s.data)n.includes(o)||a.push(o);const i=[];for(const o of n){const e=r[o],t=s.data[o];i.push({key:{status:"valid",value:o},value:e._parse(new Yp(s,t,s.path,o)),alwaysSet:o in s.data})}if(this._def.catchall instanceof $f){const e=this._def.unknownKeys;if("passthrough"===e)for(const t of a)i.push({key:{status:"valid",value:t},value:{status:"valid",value:s.data[t]}});else if("strict"===e)a.length>0&&(Fp(s,{code:$p.unrecognized_keys,keys:a}),t.dirty());else if("strip"!==e)throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const e=this._def.catchall;for(const t of a){const r=s.data[t];i.push({key:{status:"valid",value:t},value:e._parse(new Yp(s,r,s.path,t)),alwaysSet:t in s.data})}}return s.common.async?Promise.resolve().then(async()=>{const e=[];for(const t of i){const s=await t.key,r=await t.value;e.push({key:s,value:r,alwaysSet:t.alwaysSet})}return e}).then(e=>Bp.mergeObjectSync(t,e)):Bp.mergeObjectSync(t,i)}get shape(){return this._def.shape()}strict(e){return Zp.errToObj,new Ff({...this._def,unknownKeys:"strict",...void 0!==e?{errorMap:(t,s)=>{var r,n;const a=(null==(n=(r=this._def).errorMap)?void 0:n.call(r,t,s).message)??s.defaultError;return"unrecognized_keys"===t.code?{message:Zp.errToObj(e).message??a}:{message:a}}}:{}})}strip(){return new Ff({...this._def,unknownKeys:"strip"})}passthrough(){return new Ff({...this._def,unknownKeys:"passthrough"})}extend(e){return new Ff({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new Ff({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:lg.ZodObject})}setKey(e,t){return this.augment({[e]:t})}catchall(e){return new Ff({...this._def,catchall:e})}pick(e){const t={};for(const s of Op.objectKeys(e))e[s]&&this.shape[s]&&(t[s]=this.shape[s]);return new Ff({...this._def,shape:()=>t})}omit(e){const t={};for(const s of Op.objectKeys(this.shape))e[s]||(t[s]=this.shape[s]);return new Ff({...this._def,shape:()=>t})}deepPartial(){return Uf(this)}partial(e){const t={};for(const s of Op.objectKeys(this.shape)){const r=this.shape[s];e&&!e[s]?t[s]=r:t[s]=r.optional()}return new Ff({...this._def,shape:()=>t})}required(e){const t={};for(const s of Op.objectKeys(this.shape))if(e&&!e[s])t[s]=this.shape[s];else{let e=this.shape[s];for(;e instanceof eg;)e=e._def.innerType;t[s]=e}return new Ff({...this._def,shape:()=>t})}keyof(){return Zf(Op.objectKeys(this.shape))}}Ff.create=(e,t)=>new Ff({shape:()=>e,unknownKeys:"strip",catchall:$f.create(),typeName:lg.ZodObject,...Xp(t)}),Ff.strictCreate=(e,t)=>new Ff({shape:()=>e,unknownKeys:"strict",catchall:$f.create(),typeName:lg.ZodObject,...Xp(t)}),Ff.lazycreate=(e,t)=>new Ff({shape:e,unknownKeys:"strip",catchall:$f.create(),typeName:lg.ZodObject,...Xp(t)});class Bf extends ef{_parse(e){const{ctx:t}=this._processInputParams(e),s=this._def.options;if(t.common.async)return Promise.all(s.map(async e=>{const s={...t,common:{...t.common,issues:[]},parent:null};return{result:await e._parseAsync({data:t.data,path:t.path,parent:s}),ctx:s}})).then(function(e){for(const t of e)if("valid"===t.result.status)return t.result;for(const r of e)if("dirty"===r.result.status)return t.common.issues.push(...r.ctx.common.issues),r.result;const s=e.map(e=>new Dp(e.ctx.common.issues));return Fp(t,{code:$p.invalid_union,unionErrors:s}),qp});{let e;const r=[];for(const a of s){const s={...t,common:{...t.common,issues:[]},parent:null},n=a._parseSync({data:t.data,path:t.path,parent:s});if("valid"===n.status)return n;"dirty"!==n.status||e||(e={result:n,ctx:s}),s.common.issues.length&&r.push(s.common.issues)}if(e)return t.common.issues.push(...e.ctx.common.issues),e.result;const n=r.map(e=>new Dp(e));return Fp(t,{code:$p.invalid_union,unionErrors:n}),qp}}get options(){return this._def.options}}function qf(e,t){const s=Mp(e),r=Mp(t);if(e===t)return{valid:!0,data:e};if(s===Ip.object&&r===Ip.object){const s=Op.objectKeys(t),r=Op.objectKeys(e).filter(e=>-1!==s.indexOf(e)),n={...e,...t};for(const a of r){const s=qf(e[a],t[a]);if(!s.valid)return{valid:!1};n[a]=s.data}return{valid:!0,data:n}}if(s===Ip.array&&r===Ip.array){if(e.length!==t.length)return{valid:!1};const s=[];for(let r=0;r<e.length;r++){const n=qf(e[r],t[r]);if(!n.valid)return{valid:!1};s.push(n.data)}return{valid:!0,data:s}}return s===Ip.date&&r===Ip.date&&+e===+t?{valid:!0,data:e}:{valid:!1}}Bf.create=(e,t)=>new Bf({options:e,typeName:lg.ZodUnion,...Xp(t)});class zf extends ef{_parse(e){const{status:t,ctx:s}=this._processInputParams(e),r=(e,r)=>{if(Hp(e)||Hp(r))return qp;const n=qf(e.value,r.value);return n.valid?((Kp(e)||Kp(r))&&t.dirty(),{status:t.value,value:n.data}):(Fp(s,{code:$p.invalid_intersection_types}),qp)};return s.common.async?Promise.all([this._def.left._parseAsync({data:s.data,path:s.path,parent:s}),this._def.right._parseAsync({data:s.data,path:s.path,parent:s})]).then(([e,t])=>r(e,t)):r(this._def.left._parseSync({data:s.data,path:s.path,parent:s}),this._def.right._parseSync({data:s.data,path:s.path,parent:s}))}}zf.create=(e,t,s)=>new zf({left:e,right:t,typeName:lg.ZodIntersection,...Xp(s)});class Wf extends ef{_parse(e){const{status:t,ctx:s}=this._processInputParams(e);if(s.parsedType!==Ip.array)return Fp(s,{code:$p.invalid_type,expected:Ip.array,received:s.parsedType}),qp;if(s.data.length<this._def.items.length)return Fp(s,{code:$p.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),qp;!this._def.rest&&s.data.length>this._def.items.length&&(Fp(s,{code:$p.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),t.dirty());const r=[...s.data].map((e,t)=>{const r=this._def.items[t]||this._def.rest;return r?r._parse(new Yp(s,e,s.path,t)):null}).filter(e=>!!e);return s.common.async?Promise.all(r).then(e=>Bp.mergeArray(t,e)):Bp.mergeArray(t,r)}get items(){return this._def.items}rest(e){return new Wf({...this._def,rest:e})}}Wf.create=(e,t)=>{if(!Array.isArray(e))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new Wf({items:e,typeName:lg.ZodTuple,rest:null,...Xp(t)})};class Hf extends ef{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:t,ctx:s}=this._processInputParams(e);if(s.parsedType!==Ip.map)return Fp(s,{code:$p.invalid_type,expected:Ip.map,received:s.parsedType}),qp;const r=this._def.keyType,n=this._def.valueType,a=[...s.data.entries()].map(([e,t],a)=>({key:r._parse(new Yp(s,e,s.path,[a,"key"])),value:n._parse(new Yp(s,t,s.path,[a,"value"]))}));if(s.common.async){const e=new Map;return Promise.resolve().then(async()=>{for(const s of a){const r=await s.key,n=await s.value;if("aborted"===r.status||"aborted"===n.status)return qp;"dirty"!==r.status&&"dirty"!==n.status||t.dirty(),e.set(r.value,n.value)}return{status:t.value,value:e}})}{const e=new Map;for(const s of a){const r=s.key,n=s.value;if("aborted"===r.status||"aborted"===n.status)return qp;"dirty"!==r.status&&"dirty"!==n.status||t.dirty(),e.set(r.value,n.value)}return{status:t.value,value:e}}}}Hf.create=(e,t,s)=>new Hf({valueType:t,keyType:e,typeName:lg.ZodMap,...Xp(s)});class Kf extends ef{_parse(e){const{status:t,ctx:s}=this._processInputParams(e);if(s.parsedType!==Ip.set)return Fp(s,{code:$p.invalid_type,expected:Ip.set,received:s.parsedType}),qp;const r=this._def;null!==r.minSize&&s.data.size<r.minSize.value&&(Fp(s,{code:$p.too_small,minimum:r.minSize.value,type:"set",inclusive:!0,exact:!1,message:r.minSize.message}),t.dirty()),null!==r.maxSize&&s.data.size>r.maxSize.value&&(Fp(s,{code:$p.too_big,maximum:r.maxSize.value,type:"set",inclusive:!0,exact:!1,message:r.maxSize.message}),t.dirty());const n=this._def.valueType;function a(e){const s=new Set;for(const r of e){if("aborted"===r.status)return qp;"dirty"===r.status&&t.dirty(),s.add(r.value)}return{status:t.value,value:s}}const i=[...s.data.values()].map((e,t)=>n._parse(new Yp(s,e,s.path,t)));return s.common.async?Promise.all(i).then(e=>a(e)):a(i)}min(e,t){return new Kf({...this._def,minSize:{value:e,message:Zp.toString(t)}})}max(e,t){return new Kf({...this._def,maxSize:{value:e,message:Zp.toString(t)}})}size(e,t){return this.min(e,t).max(e,t)}nonempty(e){return this.min(1,e)}}Kf.create=(e,t)=>new Kf({valueType:e,minSize:null,maxSize:null,typeName:lg.ZodSet,...Xp(t)});class Vf extends ef{get schema(){return this._def.getter()}_parse(e){const{ctx:t}=this._processInputParams(e);return this._def.getter()._parse({data:t.data,path:t.path,parent:t})}}Vf.create=(e,t)=>new Vf({getter:e,typeName:lg.ZodLazy,...Xp(t)});class Gf extends ef{_parse(e){if(e.data!==this._def.value){const t=this._getOrReturnCtx(e);return Fp(t,{received:t.data,code:$p.invalid_literal,expected:this._def.value}),qp}return{status:"valid",value:e.data}}get value(){return this._def.value}}function Zf(e,t){return new Jf({values:e,typeName:lg.ZodEnum,...Xp(t)})}Gf.create=(e,t)=>new Gf({value:e,typeName:lg.ZodLiteral,...Xp(t)});class Jf extends ef{_parse(e){if("string"!=typeof e.data){const t=this._getOrReturnCtx(e),s=this._def.values;return Fp(t,{expected:Op.joinValues(s),received:t.parsedType,code:$p.invalid_type}),qp}if(this._cache||(this._cache=new Set(this._def.values)),!this._cache.has(e.data)){const t=this._getOrReturnCtx(e),s=this._def.values;return Fp(t,{received:t.data,code:$p.invalid_enum_value,options:s}),qp}return Wp(e.data)}get options(){return this._def.values}get enum(){const e={};for(const t of this._def.values)e[t]=t;return e}get Values(){const e={};for(const t of this._def.values)e[t]=t;return e}get Enum(){const e={};for(const t of this._def.values)e[t]=t;return e}extract(e,t=this._def){return Jf.create(e,{...this._def,...t})}exclude(e,t=this._def){return Jf.create(this.options.filter(t=>!e.includes(t)),{...this._def,...t})}}Jf.create=Zf;class Yf extends ef{_parse(e){const t=Op.getValidEnumValues(this._def.values),s=this._getOrReturnCtx(e);if(s.parsedType!==Ip.string&&s.parsedType!==Ip.number){const e=Op.objectValues(t);return Fp(s,{expected:Op.joinValues(e),received:s.parsedType,code:$p.invalid_type}),qp}if(this._cache||(this._cache=new Set(Op.getValidEnumValues(this._def.values))),!this._cache.has(e.data)){const e=Op.objectValues(t);return Fp(s,{received:s.data,code:$p.invalid_enum_value,options:e}),qp}return Wp(e.data)}get enum(){return this._def.values}}Yf.create=(e,t)=>new Yf({values:e,typeName:lg.ZodNativeEnum,...Xp(t)});class Qf extends ef{unwrap(){return this._def.type}_parse(e){const{ctx:t}=this._processInputParams(e);if(t.parsedType!==Ip.promise&&!1===t.common.async)return Fp(t,{code:$p.invalid_type,expected:Ip.promise,received:t.parsedType}),qp;const s=t.parsedType===Ip.promise?t.data:Promise.resolve(t.data);return Wp(s.then(e=>this._def.type.parseAsync(e,{path:t.path,errorMap:t.common.contextualErrorMap})))}}Qf.create=(e,t)=>new Qf({type:e,typeName:lg.ZodPromise,...Xp(t)});class Xf extends ef{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===lg.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){const{status:t,ctx:s}=this._processInputParams(e),r=this._def.effect||null,n={addIssue:e=>{Fp(s,e),e.fatal?t.abort():t.dirty()},get path(){return s.path}};if(n.addIssue=n.addIssue.bind(n),"preprocess"===r.type){const e=r.transform(s.data,n);if(s.common.async)return Promise.resolve(e).then(async e=>{if("aborted"===t.value)return qp;const r=await this._def.schema._parseAsync({data:e,path:s.path,parent:s});return"aborted"===r.status?qp:"dirty"===r.status||"dirty"===t.value?zp(r.value):r});{if("aborted"===t.value)return qp;const r=this._def.schema._parseSync({data:e,path:s.path,parent:s});return"aborted"===r.status?qp:"dirty"===r.status||"dirty"===t.value?zp(r.value):r}}if("refinement"===r.type){const e=e=>{const t=r.refinement(e,n);if(s.common.async)return Promise.resolve(t);if(t instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return e};if(!1===s.common.async){const r=this._def.schema._parseSync({data:s.data,path:s.path,parent:s});return"aborted"===r.status?qp:("dirty"===r.status&&t.dirty(),e(r.value),{status:t.value,value:r.value})}return this._def.schema._parseAsync({data:s.data,path:s.path,parent:s}).then(s=>"aborted"===s.status?qp:("dirty"===s.status&&t.dirty(),e(s.value).then(()=>({status:t.value,value:s.value}))))}if("transform"===r.type){if(!1===s.common.async){const e=this._def.schema._parseSync({data:s.data,path:s.path,parent:s});if(!Vp(e))return qp;const a=r.transform(e.value,n);if(a instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:t.value,value:a}}return this._def.schema._parseAsync({data:s.data,path:s.path,parent:s}).then(e=>Vp(e)?Promise.resolve(r.transform(e.value,n)).then(e=>({status:t.value,value:e})):qp)}Op.assertNever(r)}}Xf.create=(e,t,s)=>new Xf({schema:e,typeName:lg.ZodEffects,effect:t,...Xp(s)}),Xf.createWithPreprocess=(e,t,s)=>new Xf({schema:t,effect:{type:"preprocess",transform:e},typeName:lg.ZodEffects,...Xp(s)});class eg extends ef{_parse(e){return this._getType(e)===Ip.undefined?Wp(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}eg.create=(e,t)=>new eg({innerType:e,typeName:lg.ZodOptional,...Xp(t)});class tg extends ef{_parse(e){return this._getType(e)===Ip.null?Wp(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}tg.create=(e,t)=>new tg({innerType:e,typeName:lg.ZodNullable,...Xp(t)});class sg extends ef{_parse(e){const{ctx:t}=this._processInputParams(e);let s=t.data;return t.parsedType===Ip.undefined&&(s=this._def.defaultValue()),this._def.innerType._parse({data:s,path:t.path,parent:t})}removeDefault(){return this._def.innerType}}sg.create=(e,t)=>new sg({innerType:e,typeName:lg.ZodDefault,defaultValue:"function"==typeof t.default?t.default:()=>t.default,...Xp(t)});class rg extends ef{_parse(e){const{ctx:t}=this._processInputParams(e),s={...t,common:{...t.common,issues:[]}},r=this._def.innerType._parse({data:s.data,path:s.path,parent:{...s}});return Gp(r)?r.then(e=>({status:"valid",value:"valid"===e.status?e.value:this._def.catchValue({get error(){return new Dp(s.common.issues)},input:s.data})})):{status:"valid",value:"valid"===r.status?r.value:this._def.catchValue({get error(){return new Dp(s.common.issues)},input:s.data})}}removeCatch(){return this._def.innerType}}rg.create=(e,t)=>new rg({innerType:e,typeName:lg.ZodCatch,catchValue:"function"==typeof t.catch?t.catch:()=>t.catch,...Xp(t)});class ng extends ef{_parse(e){if(this._getType(e)!==Ip.nan){const t=this._getOrReturnCtx(e);return Fp(t,{code:$p.invalid_type,expected:Ip.nan,received:t.parsedType}),qp}return{status:"valid",value:e.data}}}ng.create=e=>new ng({typeName:lg.ZodNaN,...Xp(e)});class ag extends ef{_parse(e){const{ctx:t}=this._processInputParams(e),s=t.data;return this._def.type._parse({data:s,path:t.path,parent:t})}unwrap(){return this._def.type}}class ig extends ef{_parse(e){const{status:t,ctx:s}=this._processInputParams(e);if(s.common.async){return(async()=>{const e=await this._def.in._parseAsync({data:s.data,path:s.path,parent:s});return"aborted"===e.status?qp:"dirty"===e.status?(t.dirty(),zp(e.value)):this._def.out._parseAsync({data:e.value,path:s.path,parent:s})})()}{const e=this._def.in._parseSync({data:s.data,path:s.path,parent:s});return"aborted"===e.status?qp:"dirty"===e.status?(t.dirty(),{status:"dirty",value:e.value}):this._def.out._parseSync({data:e.value,path:s.path,parent:s})}}static create(e,t){return new ig({in:e,out:t,typeName:lg.ZodPipeline})}}class og extends ef{_parse(e){const t=this._def.innerType._parse(e),s=e=>(Vp(e)&&(e.value=Object.freeze(e.value)),e);return Gp(t)?t.then(e=>s(e)):s(t)}unwrap(){return this._def.innerType}}var lg,cg;og.create=(e,t)=>new og({innerType:e,typeName:lg.ZodReadonly,...Xp(t)}),Ff.lazycreate,(cg=lg||(lg={})).ZodString="ZodString",cg.ZodNumber="ZodNumber",cg.ZodNaN="ZodNaN",cg.ZodBigInt="ZodBigInt",cg.ZodBoolean="ZodBoolean",cg.ZodDate="ZodDate",cg.ZodSymbol="ZodSymbol",cg.ZodUndefined="ZodUndefined",cg.ZodNull="ZodNull",cg.ZodAny="ZodAny",cg.ZodUnknown="ZodUnknown",cg.ZodNever="ZodNever",cg.ZodVoid="ZodVoid",cg.ZodArray="ZodArray",cg.ZodObject="ZodObject",cg.ZodUnion="ZodUnion",cg.ZodDiscriminatedUnion="ZodDiscriminatedUnion",cg.ZodIntersection="ZodIntersection",cg.ZodTuple="ZodTuple",cg.ZodRecord="ZodRecord",cg.ZodMap="ZodMap",cg.ZodSet="ZodSet",cg.ZodFunction="ZodFunction",cg.ZodLazy="ZodLazy",cg.ZodLiteral="ZodLiteral",cg.ZodEnum="ZodEnum",cg.ZodEffects="ZodEffects",cg.ZodNativeEnum="ZodNativeEnum",cg.ZodOptional="ZodOptional",cg.ZodNullable="ZodNullable",cg.ZodDefault="ZodDefault",cg.ZodCatch="ZodCatch",cg.ZodPromise="ZodPromise",cg.ZodBranded="ZodBranded",cg.ZodPipeline="ZodPipeline",cg.ZodReadonly="ZodReadonly";const dg=kf.create,ug=Tf.create;$f.create,Lf.create;const hg=Ff.create;Ff.strictCreate,Bf.create,zf.create,Wf.create;const mg=Gf.create,pg=Jf.create;Qf.create,eg.create,tg.create;const fg=Pt.forwardRef(({className:e,type:t,...s},r)=>Ce.jsx("input",{type:t,className:Aa("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base text-foreground ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:r,...s}));fg.displayName="Input";const gg=hg({email:dg().email("Invalid email address").toLowerCase(),honeypot:dg().max(0,"Invalid submission")});function xg(){const[e,t]=Pt.useState(""),[s,r]=Pt.useState(""),[n,a]=Pt.useState(!1),{toast:i}=Qs();return Ce.jsxs("form",{onSubmit:async r=>{if(r.preventDefault(),!s){a(!0);try{const r=gg.parse({email:e,honeypot:s}),{data:n,error:a}=await ah.functions.invoke("subscribe-newsletter",{body:{email:r.email}});if(a)throw a;i({title:"Success!",description:(null==n?void 0:n.message)||"You've been subscribed to our newsletter"}),t("")}catch(n){i(n instanceof Dp?{title:"Invalid Email",description:n.errors[0].message,variant:"destructive"}:{title:"Error",description:n.message||"Failed to subscribe. Please try again.",variant:"destructive"})}finally{a(!1)}}},className:"flex flex-col sm:flex-row gap-3 max-w-md mx-auto",children:[Ce.jsxs("div",{className:"relative flex-1",children:[Ce.jsx(Nn,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-5 w-5 text-foreground/60"}),Ce.jsx(fg,{type:"email",placeholder:"Enter your email",value:e,onChange:e=>t(e.target.value),className:"pl-10",disabled:n,required:!0,"aria-label":"Email address for newsletter"}),Ce.jsx("input",{type:"text",name:"website",value:s,onChange:e=>r(e.target.value),style:{position:"absolute",left:"-9999px",width:"1px",height:"1px"},tabIndex:-1,autoComplete:"off","aria-hidden":"true"})]}),Ce.jsx(Uo,{type:"submit",disabled:n,className:"min-w-[120px]",children:n?Ce.jsxs(Ce.Fragment,{children:[Ce.jsx(jn,{className:"mr-2 h-4 w-4 animate-spin"}),"Subscribing..."]}):"Subscribe"})]})}const vg=ht,yg=Pt.forwardRef(({className:e,...t},s)=>Ce.jsx(ct,{ref:s,className:Aa("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",e),...t}));yg.displayName=ct.displayName;const bg=Pt.forwardRef(({className:e,...t},s)=>Ce.jsx(dt,{ref:s,className:Aa("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",e),...t}));bg.displayName=dt.displayName;const wg=Pt.forwardRef(({className:e,...t},s)=>Ce.jsx(ut,{ref:s,className:Aa("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",e),...t}));wg.displayName=ut.displayName;const jg=e=>{switch(e){case"video":return Ln;case"article":return Qr;default:return fn}},_g=e=>{switch(e){case"worksheet":return"Worksheet";case"guide":return"Guide";case"video":return"Video";case"article":return"Article";default:return e}},Ng=()=>{const[e,t]=Pt.useState([]),[s,r]=Pt.useState(!0),[n,a]=Pt.useState("all");Pt.useEffect(()=>{i()},[]);const i=async()=>{try{const{data:e,error:s}=await ah.from("resources").select("*").eq("is_active",!0).order("created_at",{ascending:!1});if(s)throw s;t(e||[])}catch(e){}finally{r(!1)}},o=()=>"all"===n?e:e.filter(e=>e.audience===n||"all"===e.audience);return Ce.jsxs(Ce.Fragment,{children:[Ce.jsx(Np,{title:"Mental Wellness Resources - Happy Space World",description:"Access free mental health resources, worksheets, and guides for students"}),Ce.jsxs("div",{className:"min-h-screen flex flex-col",children:[Ce.jsx(jp,{}),Ce.jsxs("main",{className:"flex-1",children:[Ce.jsx("section",{className:"py-20 bg-gradient-to-br from-tertiary to-primary text-white",children:Ce.jsxs("div",{className:"container mx-auto px-4 text-center",children:[Ce.jsx("h1",{className:"text-4xl md:text-5xl font-bold mb-6",children:"Mental Health & Wellness Resources"}),Ce.jsx("p",{className:"text-xl max-w-3xl mx-auto opacity-95",children:"Free tools, guides, and insights to support your mental wellness journey"})]})}),Ce.jsx("section",{className:"py-20 bg-background",children:Ce.jsx("div",{className:"container mx-auto px-4",children:Ce.jsxs(vg,{defaultValue:"all",className:"max-w-6xl mx-auto",onValueChange:a,children:[Ce.jsxs(yg,{className:"grid w-full grid-cols-2 md:grid-cols-4 mb-12",children:[Ce.jsx(bg,{value:"all",children:"All"}),Ce.jsx(bg,{value:"students",children:"For Students"}),Ce.jsx(bg,{value:"parents",children:"For Parents"}),Ce.jsx(bg,{value:"educators",children:"For Educators"})]}),Ce.jsx(wg,{value:"all",className:"space-y-8",children:s?Ce.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:Array.from({length:6}).map((e,t)=>Ce.jsxs(Fo,{children:[Ce.jsxs(Bo,{children:[Ce.jsxs("div",{className:"flex items-start justify-between mb-3",children:[Ce.jsx(Cp,{className:"w-12 h-12 rounded-lg"}),Ce.jsx(Cp,{className:"h-5 w-20 rounded-full"})]}),Ce.jsx(Cp,{className:"h-6 w-3/4"})]}),Ce.jsxs(Wo,{children:[Ce.jsx(Cp,{className:"h-16 w-full mb-4"}),Ce.jsx(Cp,{className:"h-8 w-24"})]})]},t))}):Ce.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:o().map(e=>{const t=jg(e.category);return Ce.jsxs(Fo,{className:"hover:shadow-lg transition-all duration-300 border-border",children:[Ce.jsxs(Bo,{children:[Ce.jsxs("div",{className:"flex items-start justify-between mb-3",children:[Ce.jsx("div",{className:"w-12 h-12 bg-primary/10 rounded-lg flex items-center justify-center",children:Ce.jsx(t,{className:"h-6 w-6 text-primary"})}),Ce.jsx("span",{className:"text-xs px-3 py-1 bg-secondary/10 text-secondary rounded-full font-medium",children:_g(e.category)})]}),Ce.jsx(qo,{className:"text-lg",children:e.title})]}),Ce.jsxs(Wo,{children:[Ce.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:e.description}),Ce.jsxs("div",{className:"flex items-center justify-between",children:[Ce.jsxs("span",{className:"text-xs text-muted-foreground",children:[e.downloads," downloads"]}),Ce.jsx(Uo,{size:"sm",variant:"outline",asChild:!!e.file_url,disabled:!e.file_url,children:e.file_url?Ce.jsxs("a",{href:e.file_url,target:"_blank",rel:"noopener noreferrer",children:[Ce.jsx(hn,{className:"h-4 w-4 mr-2"}),"Access"]}):Ce.jsxs(Ce.Fragment,{children:[Ce.jsx(hn,{className:"h-4 w-4 mr-2"}),"Coming Soon"]})})]})]})]},e.id)})})}),Ce.jsx(wg,{value:"students",className:"space-y-8",children:Ce.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:o().map(e=>{const t=jg(e.category);return Ce.jsxs(Fo,{className:"hover:shadow-lg transition-all duration-300 border-border",children:[Ce.jsxs(Bo,{children:[Ce.jsxs("div",{className:"flex items-start justify-between mb-3",children:[Ce.jsx("div",{className:"w-12 h-12 bg-primary/10 rounded-lg flex items-center justify-center",children:Ce.jsx(t,{className:"h-6 w-6 text-primary"})}),Ce.jsx("span",{className:"text-xs px-3 py-1 bg-secondary/10 text-secondary rounded-full font-medium",children:_g(e.category)})]}),Ce.jsx(qo,{className:"text-lg",children:e.title})]}),Ce.jsxs(Wo,{children:[Ce.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:e.description}),Ce.jsxs("div",{className:"flex items-center justify-between",children:[Ce.jsxs("span",{className:"text-xs text-muted-foreground",children:[e.downloads," downloads"]}),Ce.jsx(Uo,{size:"sm",variant:"outline",asChild:!!e.file_url,disabled:!e.file_url,children:e.file_url?Ce.jsxs("a",{href:e.file_url,target:"_blank",rel:"noopener noreferrer",children:[Ce.jsx(hn,{className:"h-4 w-4 mr-2"}),"Access"]}):Ce.jsxs(Ce.Fragment,{children:[Ce.jsx(hn,{className:"h-4 w-4 mr-2"}),"Coming Soon"]})})]})]})]},e.id)})})}),Ce.jsx(wg,{value:"parents",className:"space-y-8",children:Ce.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:o().map(e=>{const t=jg(e.category);return Ce.jsxs(Fo,{className:"hover:shadow-lg transition-all duration-300 border-border",children:[Ce.jsxs(Bo,{children:[Ce.jsxs("div",{className:"flex items-start justify-between mb-3",children:[Ce.jsx("div",{className:"w-12 h-12 bg-primary/10 rounded-lg flex items-center justify-center",children:Ce.jsx(t,{className:"h-6 w-6 text-primary"})}),Ce.jsx("span",{className:"text-xs px-3 py-1 bg-secondary/10 text-secondary rounded-full font-medium",children:_g(e.category)})]}),Ce.jsx(qo,{className:"text-lg",children:e.title})]}),Ce.jsxs(Wo,{children:[Ce.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:e.description}),Ce.jsxs("div",{className:"flex items-center justify-between",children:[Ce.jsxs("span",{className:"text-xs text-muted-foreground",children:[e.downloads," downloads"]}),Ce.jsx(Uo,{size:"sm",variant:"outline",asChild:!!e.file_url,disabled:!e.file_url,children:e.file_url?Ce.jsxs("a",{href:e.file_url,target:"_blank",rel:"noopener noreferrer",children:[Ce.jsx(hn,{className:"h-4 w-4 mr-2"}),"Access"]}):Ce.jsxs(Ce.Fragment,{children:[Ce.jsx(hn,{className:"h-4 w-4 mr-2"}),"Coming Soon"]})})]})]})]},e.id)})})}),Ce.jsx(wg,{value:"educators",className:"space-y-8",children:Ce.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:o().map(e=>{const t=jg(e.category);return Ce.jsxs(Fo,{className:"hover:shadow-lg transition-all duration-300 border-border",children:[Ce.jsxs(Bo,{children:[Ce.jsxs("div",{className:"flex items-start justify-between mb-3",children:[Ce.jsx("div",{className:"w-12 h-12 bg-primary/10 rounded-lg flex items-center justify-center",children:Ce.jsx(t,{className:"h-6 w-6 text-primary"})}),Ce.jsx("span",{className:"text-xs px-3 py-1 bg-secondary/10 text-secondary rounded-full font-medium",children:_g(e.category)})]}),Ce.jsx(qo,{className:"text-lg",children:e.title})]}),Ce.jsxs(Wo,{children:[Ce.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:e.description}),Ce.jsxs("div",{className:"flex items-center justify-between",children:[Ce.jsxs("span",{className:"text-xs text-muted-foreground",children:[e.downloads," downloads"]}),Ce.jsx(Uo,{size:"sm",variant:"outline",asChild:!!e.file_url,disabled:!e.file_url,children:e.file_url?Ce.jsxs("a",{href:e.file_url,target:"_blank",rel:"noopener noreferrer",children:[Ce.jsx(hn,{className:"h-4 w-4 mr-2"}),"Access"]}):Ce.jsxs(Ce.Fragment,{children:[Ce.jsx(hn,{className:"h-4 w-4 mr-2"}),"Coming Soon"]})})]})]})]},e.id)})})})]})})}),Ce.jsx("section",{className:"py-20 bg-primary text-white",children:Ce.jsxs("div",{className:"container mx-auto px-4 text-center",children:[Ce.jsx("h2",{className:"text-3xl md:text-4xl font-bold mb-6",children:"Get Weekly Wellness Tips"}),Ce.jsx("p",{className:"text-xl mb-8 max-w-2xl mx-auto opacity-95",children:"Subscribe to receive helpful mental health resources and updates"}),Ce.jsx(xg,{})]})})]}),Ce.jsx(_p,{})]})]})};var kg=Pt.forwardRef((e,t)=>Ce.jsx(Re.label,{...e,ref:t,onMouseDown:t=>{var s;t.target.closest("button, input, select, textarea")||(null==(s=e.onMouseDown)||s.call(e,t),!t.defaultPrevented&&t.detail>1&&t.preventDefault())}}));kg.displayName="Label";var Sg=kg;const Eg=zr("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),Cg=Pt.forwardRef(({className:e,...t},s)=>Ce.jsx(Sg,{ref:s,className:Aa(Eg(),e),...t}));Cg.displayName=Sg.displayName;const Tg=Pt.forwardRef(({className:e,...t},s)=>Ce.jsx("textarea",{className:Aa("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:s,...t}));Tg.displayName="Textarea";const Rg=kt,Og=St,Ag=Pt.forwardRef(({className:e,children:t,...s},r)=>Ce.jsxs(mt,{ref:r,className:Aa("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...s,children:[t,Ce.jsx(pt,{asChild:!0,children:Ce.jsx(rn,{className:"h-4 w-4 opacity-50"})})]}));Ag.displayName=mt.displayName;const Pg=Pt.forwardRef(({className:e,...t},s)=>Ce.jsx(ft,{ref:s,className:Aa("flex cursor-default items-center justify-center py-1",e),...t,children:Ce.jsx(on,{className:"h-4 w-4"})}));Pg.displayName=ft.displayName;const Ig=Pt.forwardRef(({className:e,...t},s)=>Ce.jsx(gt,{ref:s,className:Aa("flex cursor-default items-center justify-center py-1",e),...t,children:Ce.jsx(rn,{className:"h-4 w-4"})}));Ig.displayName=gt.displayName;const Mg=Pt.forwardRef(({className:e,children:t,position:s="popper",...r},n)=>Ce.jsx(xt,{children:Ce.jsxs(vt,{ref:n,className:Aa("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2","popper"===s&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:s,...r,children:[Ce.jsx(Pg,{}),Ce.jsx(yt,{className:Aa("p-1","popper"===s&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t}),Ce.jsx(Ig,{})]})}));Mg.displayName=vt.displayName;Pt.forwardRef(({className:e,...t},s)=>Ce.jsx(bt,{ref:s,className:Aa("py-1.5 pl-8 pr-2 text-sm font-semibold",e),...t})).displayName=bt.displayName;const $g=Pt.forwardRef(({className:e,children:t,...s},r)=>Ce.jsxs(wt,{ref:r,className:Aa("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground",e),...s,children:[Ce.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:Ce.jsx(jt,{children:Ce.jsx(sn,{className:"h-4 w-4"})})}),Ce.jsx(_t,{children:t})]}));$g.displayName=wt.displayName;Pt.forwardRef(({className:e,...t},s)=>Ce.jsx(Nt,{ref:s,className:Aa("-mx-1 my-1 h-px bg-muted",e),...t})).displayName=Nt.displayName;var Dg="Checkbox",[Lg,Ug]=Se(Dg),[Fg,Bg]=Lg(Dg);function qg(e){const{__scopeCheckbox:t,checked:s,children:r,defaultChecked:n,disabled:a,form:i,name:o,onCheckedChange:l,required:c,value:d="on",internal_do_not_use_render:u}=e,[h,m]=Ae({prop:s,defaultProp:n??!1,onChange:l,caller:Dg}),[p,f]=Pt.useState(null),[g,x]=Pt.useState(null),v=Pt.useRef(!1),y=!p||(!!i||!!p.closest("form")),b={checked:h,disabled:a,setChecked:m,control:p,setControl:f,name:o,form:i,value:d,hasConsumerStoppedPropagationRef:v,required:c,defaultChecked:!Yg(n)&&n,isFormControl:y,bubbleInput:g,setBubbleInput:x};return Ce.jsx(Fg,{scope:t,...b,children:Jg(u)?u(b):r})}var zg="CheckboxTrigger",Wg=Pt.forwardRef(({__scopeCheckbox:e,onKeyDown:t,onClick:s,...r},n)=>{const{control:a,value:i,disabled:o,checked:l,required:c,setControl:d,setChecked:u,hasConsumerStoppedPropagationRef:h,isFormControl:m,bubbleInput:p}=Bg(zg,e),f=Ee(n,d),g=Pt.useRef(l);return Pt.useEffect(()=>{const e=null==a?void 0:a.form;if(e){const t=()=>u(g.current);return e.addEventListener("reset",t),()=>e.removeEventListener("reset",t)}},[a,u]),Ce.jsx(Re.button,{type:"button",role:"checkbox","aria-checked":Yg(l)?"mixed":l,"aria-required":c,"data-state":Qg(l),"data-disabled":o?"":void 0,disabled:o,value:i,...r,ref:f,onKeyDown:Me(t,e=>{"Enter"===e.key&&e.preventDefault()}),onClick:Me(s,e=>{u(e=>!!Yg(e)||!e),p&&m&&(h.current=e.isPropagationStopped(),h.current||e.stopPropagation())})})});Wg.displayName=zg;var Hg=Pt.forwardRef((e,t)=>{const{__scopeCheckbox:s,name:r,checked:n,defaultChecked:a,required:i,disabled:o,value:l,onCheckedChange:c,form:d,...u}=e;return Ce.jsx(qg,{__scopeCheckbox:s,checked:n,defaultChecked:a,disabled:o,required:i,onCheckedChange:c,name:r,form:d,value:l,internal_do_not_use_render:({isFormControl:e})=>Ce.jsxs(Ce.Fragment,{children:[Ce.jsx(Wg,{...u,ref:t,__scopeCheckbox:s}),e&&Ce.jsx(Zg,{__scopeCheckbox:s})]})})});Hg.displayName=Dg;var Kg="CheckboxIndicator",Vg=Pt.forwardRef((e,t)=>{const{__scopeCheckbox:s,forceMount:r,...n}=e,a=Bg(Kg,s);return Ce.jsx(Pe,{present:r||Yg(a.checked)||!0===a.checked,children:Ce.jsx(Re.span,{"data-state":Qg(a.checked),"data-disabled":a.disabled?"":void 0,...n,ref:t,style:{pointerEvents:"none",...e.style}})})});Vg.displayName=Kg;var Gg="CheckboxBubbleInput",Zg=Pt.forwardRef(({__scopeCheckbox:e,...t},s)=>{const{control:r,hasConsumerStoppedPropagationRef:n,checked:a,defaultChecked:i,required:o,disabled:l,name:c,value:d,form:u,bubbleInput:h,setBubbleInput:m}=Bg(Gg,e),p=Ee(s,m),f=ot(a),g=Et(r);Pt.useEffect(()=>{const e=h;if(!e)return;const t=window.HTMLInputElement.prototype,s=Object.getOwnPropertyDescriptor(t,"checked").set,r=!n.current;if(f!==a&&s){const t=new Event("click",{bubbles:r});e.indeterminate=Yg(a),s.call(e,!Yg(a)&&a),e.dispatchEvent(t)}},[h,f,a,n]);const x=Pt.useRef(!Yg(a)&&a);return Ce.jsx(Re.input,{type:"checkbox","aria-hidden":!0,defaultChecked:i??x.current,required:o,disabled:l,name:c,value:d,form:u,...t,tabIndex:-1,ref:p,style:{...t.style,...g,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});function Jg(e){return"function"==typeof e}function Yg(e){return"indeterminate"===e}function Qg(e){return Yg(e)?"indeterminate":e?"checked":"unchecked"}Zg.displayName=Gg;const Xg=Pt.forwardRef(({className:e,...t},s)=>Ce.jsx(Hg,{ref:s,className:Aa("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),...t,children:Ce.jsx(Vg,{className:Aa("flex items-center justify-center text-current"),children:Ce.jsx(sn,{className:"h-4 w-4"})})}));Xg.displayName=Hg.displayName;const ex=hg({name:dg().trim().min(2,"Name must be at least 2 characters").max(100,"Name must be less than 100 characters").regex(/^[a-zA-Z\s'-]+$/,"Name contains invalid characters"),email:dg().trim().email("Invalid email address").max(255,"Email too long").toLowerCase(),phone:dg().trim().min(1,"Phone number is required").max(20,"Phone number too long").regex(/^[+]?[0-9\s()-]+$/,"Invalid phone format"),inquiryType:pg(["general","student","school","partnership"],{errorMap:()=>({message:"Please select a valid inquiry type"})}),message:dg().trim().min(10,"Message must be at least 10 characters").max(2e3,"Message must be less than 2000 characters"),privacyAccepted:ug().refine(e=>!0===e,"You must accept the privacy policy")}),tx=hg({bookingType:pg(["student","school"]),name:dg().trim().min(2,"Name must be at least 2 characters").max(100,"Name must be less than 100 characters").regex(/^[a-zA-Z\s'-]+$/,"Name contains invalid characters"),email:dg().trim().email("Invalid email address").max(255,"Email too long").toLowerCase(),phone:dg().trim().min(1,"Phone number is required").max(20,"Phone number too long").regex(/^[+]?[0-9\s()-]+$/,"Invalid phone format"),message:dg().trim().max(2e3,"Message must be less than 2000 characters").optional().or(mg("")),organizationName:dg().trim().max(200,"Organization name must be less than 200 characters").optional().or(mg(""))}),sx=()=>{const{toast:e}=Qs(),[t]=Ut(),[s,r]=Pt.useState(!1),[n,a]=Pt.useState({name:"",email:"",phone:"",inquiryType:"",message:"",privacyAccepted:!1,organizationName:""});Pt.useEffect(()=>{const e=t.get("type"),s=t.get("source"),r=t.get("planId");e&&a(t=>({...t,inquiryType:"student"===e||"school"===e?e:"general"}));(async()=>{if(r)try{const{data:e,error:t}=await ah.from("plans").select("contact_message").eq("id",r).maybeSingle();if(!t&&(null==e?void 0:e.contact_message))return void a(t=>({...t,message:e.contact_message}))}catch(t){}if(s&&e){const t={"student-booking":"I would like to book a student counseling session.","student-plan":"I would like to enroll in your student wellness program.","school-demo":"I would like to request a demo of your school programs.","school-pricing":"I would like more information about school program pricing.","school-quote":"I would like to request a custom quote for my school.",resources:"I have a question about your resources.",testimonials:"I would like to share my experience or ask about testimonials."},r=t[`${e}-${s}`]||t[s]||"";r&&a(e=>({...e,message:r}))}})()},[t]);const i=(e,t)=>{a(s=>({...s,[e]:t}))},o=async t=>{r(!0);const s={student:"I'm interested in 1-on-1 Expert Counseling. I would like personalized guidance from Sivaram Raghavan's network of trained counselors for weekly or bi-weekly sessions.",school:"I'm interested in Group Wellness Programs. I would like to arrange pet therapy, icebreakers, and group discussions for my school students."};try{const r=tx.parse({bookingType:t,name:n.name,email:n.email,phone:n.phone,message:s[t],organizationName:n.organizationName}),{error:i}=await ah.from("booking_requests").insert({booking_type:r.bookingType,name:r.name,email:r.email,phone:r.phone||null,message:r.message||null,organization_name:r.organizationName||null});if(i)throw i;const{error:o}=await ah.functions.invoke("send-notification-email",{body:{type:"booking",data:{...r,booking_type:t}}});e({title:"Booking Request Sent!",description:"We've received your booking request and will contact you soon."}),a({name:"",email:"",phone:"",inquiryType:"",message:"",privacyAccepted:!1,organizationName:""})}catch(i){e(i instanceof Dp?{title:"Validation Error",description:i.errors[0].message,variant:"destructive"}:{title:"Error",description:"There was a problem sending your booking request. Please try again.",variant:"destructive"})}finally{r(!1)}};return Ce.jsxs(Ce.Fragment,{children:[Ce.jsx(Np,{title:"Contact Us - Happy Space World",description:"Get in touch with us for counseling sessions, school programs, or general inquiries. We're here to help support student mental wellness."}),Ce.jsxs("div",{className:"min-h-screen flex flex-col",children:[Ce.jsx(jp,{}),Ce.jsxs("main",{className:"flex-1",children:[Ce.jsx("section",{className:"bg-gradient-to-b from-purple-50 to-white py-20",children:Ce.jsx("div",{className:"container mx-auto px-4",children:Ce.jsxs("div",{className:"max-w-2xl mx-auto text-center",children:[Ce.jsx("h1",{className:"text-4xl md:text-5xl font-bold text-gray-900 mb-6",children:"Get In Touch"}),Ce.jsx("p",{className:"text-xl text-gray-600",children:"Have questions? We're here to help! Reach out to us anytime."})]})})}),Ce.jsx("section",{className:"py-16 bg-white",children:Ce.jsx("div",{className:"container mx-auto px-4",children:Ce.jsxs("div",{className:"grid md:grid-cols-3 gap-8 max-w-4xl mx-auto",children:[Ce.jsxs(Fo,{className:"text-center",children:[Ce.jsxs(Bo,{children:[Ce.jsx("div",{className:"mx-auto w-12 h-12 bg-purple-100 rounded-full flex items-center justify-center mb-4",children:Ce.jsx(En,{className:"h-6 w-6 text-purple-600"})}),Ce.jsx(qo,{children:"Phone"})]}),Ce.jsx(Wo,{children:Ce.jsx("a",{href:"tel:+918937915125",className:"text-purple-600 hover:underline",children:"+918937915125"})})]}),Ce.jsxs(Fo,{className:"text-center",children:[Ce.jsxs(Bo,{children:[Ce.jsx("div",{className:"mx-auto w-12 h-12 bg-purple-100 rounded-full flex items-center justify-center mb-4",children:Ce.jsx(Nn,{className:"h-6 w-6 text-purple-600"})}),Ce.jsx(qo,{children:"Email"})]}),Ce.jsx(Wo,{children:Ce.jsx("a",{href:"mailto:happyspaceschool@gmail.com",className:"text-purple-600 hover:underline",children:"happyspaceschool@gmail.com"})})]}),Ce.jsxs(Fo,{className:"text-center",children:[Ce.jsxs(Bo,{children:[Ce.jsx("div",{className:"mx-auto w-12 h-12 bg-purple-100 rounded-full flex items-center justify-center mb-4",children:Ce.jsx(cn,{className:"h-6 w-6 text-purple-600"})}),Ce.jsx(qo,{children:"Hours"})]}),Ce.jsx(Wo,{children:Ce.jsx("p",{className:"text-purple-600",children:"Mon-Fri: 9AM-5PM EST"})})]})]})})}),Ce.jsx("section",{id:"contact-form",className:"py-16 bg-gray-50",children:Ce.jsx("div",{className:"container mx-auto px-4",children:Ce.jsxs(Fo,{className:"max-w-2xl mx-auto",children:[Ce.jsxs(Bo,{children:[Ce.jsx(qo,{children:"Send Us a Message"}),Ce.jsx(zo,{children:"Fill out the form below and we'll get back to you as soon as possible."})]}),Ce.jsx(Wo,{children:Ce.jsxs("form",{onSubmit:async t=>{if(t.preventDefault(),n.privacyAccepted){r(!0);try{const t=ex.parse(n),{error:s}=await ah.from("contact_submissions").insert({name:t.name,email:t.email,phone:t.phone||null,inquiry_type:t.inquiryType,message:t.message,privacy_accepted:t.privacyAccepted});if(s)throw s;const{error:r}=await ah.functions.invoke("send-notification-email",{body:{type:"contact",data:t}});e({title:"Message Sent!",description:"We've received your message and will get back to you within 24-48 hours."}),a({name:"",email:"",phone:"",inquiryType:"",message:"",privacyAccepted:!1,organizationName:""})}catch(s){e(s instanceof Dp?{title:"Validation Error",description:s.errors[0].message,variant:"destructive"}:{title:"Error",description:"There was a problem sending your message. Please try again.",variant:"destructive"})}finally{r(!1)}}else e({title:"Privacy Policy Required",description:"Please accept our privacy policy to continue.",variant:"destructive"})},className:"space-y-6",children:[Ce.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[Ce.jsxs("div",{className:"space-y-2",children:[Ce.jsx(Cg,{htmlFor:"name",children:"Full Name *"}),Ce.jsx(fg,{id:"name",placeholder:"John Doe",value:n.name,onChange:e=>i("name",e.target.value),required:!0,disabled:s})]}),Ce.jsxs("div",{className:"space-y-2",children:[Ce.jsx(Cg,{htmlFor:"email",children:"Email *"}),Ce.jsx(fg,{id:"email",type:"email",placeholder:"john@example.com",value:n.email,onChange:e=>i("email",e.target.value),required:!0,disabled:s})]})]}),Ce.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[Ce.jsxs("div",{className:"space-y-2",children:[Ce.jsx(Cg,{htmlFor:"phone",children:"Phone"}),Ce.jsx(fg,{id:"phone",type:"tel",placeholder:"(555) 123-4567",value:n.phone,onChange:e=>i("phone",e.target.value),disabled:s})]}),Ce.jsxs("div",{className:"space-y-2",children:[Ce.jsx(Cg,{htmlFor:"inquiryType",children:"Inquiry Type *"}),Ce.jsxs(Rg,{value:n.inquiryType,onValueChange:e=>i("inquiryType",e),disabled:s,required:!0,children:[Ce.jsx(Ag,{children:Ce.jsx(Og,{placeholder:"Select type"})}),Ce.jsxs(Mg,{children:[Ce.jsx($g,{value:"general",children:"General Inquiry"}),Ce.jsx($g,{value:"student",children:"Student Services"}),Ce.jsx($g,{value:"school",children:"School Partnership"}),Ce.jsx($g,{value:"partnership",children:"Other Partnership"})]})]})]})]}),Ce.jsxs("div",{className:"space-y-2",children:[Ce.jsx(Cg,{htmlFor:"message",children:"Message *"}),Ce.jsx(Tg,{id:"message",placeholder:"Tell us about your inquiry...",rows:5,value:n.message,onChange:e=>i("message",e.target.value),required:!0,disabled:s})]}),Ce.jsxs("div",{className:"flex items-start space-x-2",children:[Ce.jsx(Xg,{id:"privacy",checked:n.privacyAccepted,onCheckedChange:e=>i("privacyAccepted",e),disabled:s}),Ce.jsx(Cg,{htmlFor:"privacy",className:"text-sm text-gray-600 leading-tight",children:"I agree to the privacy policy and terms of service *"})]}),Ce.jsx(Uo,{type:"submit",className:"w-full",disabled:s,children:s?"Sending...":"Send Message"})]})})]})})}),Ce.jsx("section",{className:"py-16 bg-white",children:Ce.jsx("div",{className:"container mx-auto px-4",children:Ce.jsxs("div",{className:"grid md:grid-cols-2 gap-8 max-w-5xl mx-auto",children:[Ce.jsxs(Fo,{children:[Ce.jsxs(Bo,{children:[Ce.jsx(qo,{children:"I'm a Student"}),Ce.jsx(zo,{children:"Book your personal counseling or pet therapy session"})]}),Ce.jsxs(Wo,{className:"space-y-4",children:[Ce.jsxs("ul",{className:"space-y-2 text-sm text-gray-600",children:[Ce.jsx("li",{children:" One-on-one counseling sessions"}),Ce.jsx("li",{children:" Pet therapy sessions with certified therapy animals"}),Ce.jsx("li",{children:" Flexible scheduling to fit your needs"}),Ce.jsx("li",{children:" Safe, confidential environment"})]}),Ce.jsx(Uo,{className:"w-full",onClick:()=>o("student"),disabled:s,children:"Book Student Session"})]})]}),Ce.jsxs(Fo,{children:[Ce.jsxs(Bo,{children:[Ce.jsx(qo,{children:"I'm a School"}),Ce.jsx(zo,{children:"Request information about our school programs"})]}),Ce.jsxs(Wo,{className:"space-y-4",children:[Ce.jsxs("ul",{className:"space-y-2 text-sm text-gray-600",children:[Ce.jsx("li",{children:" On-campus counseling programs"}),Ce.jsx("li",{children:" Group pet therapy sessions"}),Ce.jsx("li",{children:" Professional development workshops"}),Ce.jsx("li",{children:" Customized wellness programs"})]}),Ce.jsx(Uo,{className:"w-full",onClick:()=>o("school"),disabled:s,children:"Get School Information"})]})]})]})})})]}),Ce.jsx(_p,{})]})]})},rx=()=>{const[e,t]=Pt.useState([]),[s,r]=Pt.useState(!0),[n,a]=Pt.useState(0),[i,o]=Pt.useState(null);Pt.useEffect(()=>{l()},[]);const l=async()=>{try{const{data:e,error:s}=await ah.from("gallery_items").select("*").eq("is_active",!0).order("display_order",{ascending:!0});if(s)throw s;t(e||[])}catch(e){}finally{r(!1)}},c=Array.from(new Set(e.map(e=>e.collection).filter(Boolean))),d=i?e.filter(e=>e.collection===i):e,u=Math.ceil(d.length/9),h=d.slice(9*n,9*(n+1));return Ce.jsxs(Ce.Fragment,{children:[Ce.jsx(Np,{title:"Gallery - Happy Space World",description:"Explore our gallery of student wellness activities, events, and therapy pet sessions."}),Ce.jsxs("div",{className:"min-h-screen flex flex-col",children:[Ce.jsx(jp,{}),Ce.jsxs("main",{className:"flex-1",children:[Ce.jsx("section",{className:"py-20 bg-gradient-to-br from-primary to-tertiary text-white",children:Ce.jsxs("div",{className:"container mx-auto px-4 text-center",children:[Ce.jsx("h1",{className:"text-4xl md:text-5xl font-bold mb-6",children:"Our Gallery"}),Ce.jsx("p",{className:"text-xl max-w-2xl mx-auto opacity-95",children:"Explore moments of joy, growth, and transformation from our programs"})]})}),Ce.jsx("section",{className:"py-20 bg-background",children:Ce.jsxs("div",{className:"container mx-auto px-4",children:[c.length>0&&Ce.jsxs("div",{className:"flex flex-wrap justify-center gap-2 mb-8",children:[Ce.jsx(Uo,{variant:i?"outline":"default",onClick:()=>o(null),children:"All"}),c.map(e=>Ce.jsx(Uo,{variant:i===e?"default":"outline",onClick:()=>{o(e),a(0)},children:e},e))]}),s?Ce.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[...Array(9)].map((e,t)=>Ce.jsx(Cp,{className:"h-64 rounded-lg"},t))}):0===h.length?Ce.jsx("div",{className:"text-center py-16",children:Ce.jsx("p",{className:"text-muted-foreground",children:"No gallery items found."})}):Ce.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 animate-fade-in",children:h.map((e,t)=>Ce.jsx(Fo,{className:"overflow-hidden hover:shadow-lg transition-all duration-300 group cursor-pointer animate-scale-in",style:{animationDelay:.1*t+"s"},children:Ce.jsxs("div",{className:"relative h-64 overflow-hidden",children:[Ce.jsx("img",{src:e.image_url,alt:e.alt_text,loading:"lazy",className:"w-full h-full object-cover transition-transform duration-300 group-hover:scale-110"}),Ce.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-foreground/80 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300 flex items-end",children:Ce.jsx("p",{className:"text-white p-4 font-semibold",children:e.title})})]})},e.id))}),u>1&&Ce.jsxs("div",{className:"flex items-center justify-center gap-4 mt-12",children:[Ce.jsx(Uo,{variant:"outline",size:"icon",onClick:()=>a(e=>Math.max(0,e-1)),disabled:0===n,className:"hover-scale",children:Ce.jsx(nn,{className:"h-4 w-4"})}),Ce.jsxs("span",{className:"text-sm text-muted-foreground",children:["Page ",n+1," of ",u]}),Ce.jsx(Uo,{variant:"outline",size:"icon",onClick:()=>a(e=>Math.min(u-1,e+1)),disabled:n===u-1,className:"hover-scale",children:Ce.jsx(an,{className:"h-4 w-4"})})]})]})}),Ce.jsx("section",{className:"py-20 bg-gradient-to-br from-primary/10 to-tertiary/10",children:Ce.jsxs("div",{className:"container mx-auto px-4 text-center",children:[Ce.jsx("h2",{className:"text-3xl md:text-4xl font-bold mb-6 text-foreground",children:"Want to Be Part of Our Story?"}),Ce.jsx("p",{className:"text-muted-foreground mb-8 max-w-2xl mx-auto",children:"Join our programs and create your own moments of growth and happiness"}),Ce.jsx(Uo,{asChild:!0,size:"lg",children:Ce.jsx("a",{href:"/contact#booking",children:"Book Your Session"})})]})})]}),Ce.jsx(_p,{})]})]})},nx=["bg-primary/20 text-primary","bg-secondary/20 text-secondary","bg-tertiary/20 text-tertiary"],ax=()=>{const[e,t]=Pt.useState(0),[s,r]=Pt.useState([]),[n,a]=Pt.useState(!0);Pt.useEffect(()=>{i()},[]);const i=async()=>{try{const{data:e,error:t}=await ah.from("testimonials").select("*").order("created_at",{ascending:!1});if(t)throw t;r(e||[])}catch(e){}finally{a(!1)}},o=Math.ceil(s.length/6),l=s.slice(6*e,6*(e+1));return Ce.jsxs(Ce.Fragment,{children:[Ce.jsx(Np,{title:"Testimonials - Happy Space World",description:"Read what students, parents, and educators say about our mental wellness programs and therapy pet sessions."}),Ce.jsxs("div",{className:"min-h-screen flex flex-col",children:[Ce.jsx(jp,{}),Ce.jsxs("main",{className:"flex-1",children:[Ce.jsx("section",{className:"py-20 bg-gradient-to-br from-primary to-tertiary text-white",children:Ce.jsxs("div",{className:"container mx-auto px-4 text-center",children:[Ce.jsx("h1",{className:"text-4xl md:text-5xl font-bold mb-6",children:"What People Say About Us"}),Ce.jsx("p",{className:"text-xl max-w-2xl mx-auto opacity-95",children:"Real stories from students, parents, and educators who've experienced transformation"})]})}),Ce.jsx("section",{className:"py-20 bg-background",children:Ce.jsxs("div",{className:"container mx-auto px-4",children:[n?Ce.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:Array.from({length:6}).map((e,t)=>Ce.jsx(Fo,{children:Ce.jsxs(Wo,{className:"pt-6",children:[Ce.jsxs("div",{className:"flex items-start gap-4 mb-4",children:[Ce.jsx(Cp,{className:"w-12 h-12 rounded-full"}),Ce.jsxs("div",{className:"flex-1 space-y-2",children:[Ce.jsx(Cp,{className:"h-4 w-32"}),Ce.jsx(Cp,{className:"h-3 w-24"})]})]}),Ce.jsx(Cp,{className:"h-3 w-20 mb-3"}),Ce.jsx(Cp,{className:"h-16 w-full"})]})},t))}):Ce.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 animate-fade-in",children:l.map((e,t)=>{const s=e.name.charAt(0).toUpperCase(),r=nx[t%nx.length],n=e.rating||5;return Ce.jsx(Fo,{className:"hover:shadow-lg transition-all duration-300 animate-scale-in",style:{animationDelay:.1*t+"s"},children:Ce.jsxs(Wo,{className:"pt-6",children:[Ce.jsxs("div",{className:"flex items-start gap-4 mb-4",children:[e.image_url?Ce.jsx("img",{src:e.image_url,alt:e.name,className:"w-12 h-12 rounded-full object-cover"}):Ce.jsx("div",{className:`w-12 h-12 rounded-full flex items-center justify-center font-bold text-lg ${r}`,children:s}),Ce.jsxs("div",{className:"flex-1",children:[Ce.jsx("h4",{className:"font-semibold text-foreground",children:e.name}),Ce.jsx("p",{className:"text-sm text-muted-foreground",children:e.role})]})]}),Ce.jsx("div",{className:"flex mb-3",children:Array.from({length:n}).map((e,t)=>Ce.jsx(Tn,{className:"h-4 w-4 fill-amber text-amber"},t))}),Ce.jsxs("p",{className:"text-muted-foreground leading-relaxed",children:['"',e.content,'"']})]})},e.id)})}),o>1&&Ce.jsxs("div",{className:"flex items-center justify-center gap-4 mt-12",children:[Ce.jsx(Uo,{variant:"outline",size:"icon",onClick:()=>t(e=>Math.max(0,e-1)),disabled:0===e,className:"hover-scale",children:Ce.jsx(nn,{className:"h-4 w-4"})}),Ce.jsxs("span",{className:"text-sm text-muted-foreground",children:["Page ",e+1," of ",o]}),Ce.jsx(Uo,{variant:"outline",size:"icon",onClick:()=>t(e=>Math.min(o-1,e+1)),disabled:e===o-1,className:"hover-scale",children:Ce.jsx(an,{className:"h-4 w-4"})})]})]})}),Ce.jsx("section",{className:"py-20 bg-gradient-to-br from-primary/10 to-tertiary/10",children:Ce.jsxs("div",{className:"container mx-auto px-4 text-center",children:[Ce.jsx("h2",{className:"text-3xl md:text-4xl font-bold mb-6 text-foreground",children:"Ready to Start Your Journey?"}),Ce.jsx("p",{className:"text-muted-foreground mb-8 max-w-2xl mx-auto",children:"Join hundreds of students who have transformed their lives with our programs"}),Ce.jsx(Uo,{asChild:!0,size:"lg",children:Ce.jsx(Dt,{to:"/contact",children:"Get Started Today"})}),Ce.jsx(Uo,{asChild:!0,size:"lg",variant:"outline",className:"ml-4",children:Ce.jsx(Dt,{to:"/contact",children:"Book Your Session"})})]})})]}),Ce.jsx(_p,{})]})]})};var ix=Object.defineProperty,ox=Object.defineProperties,lx=Object.getOwnPropertyDescriptors,cx=Object.getOwnPropertySymbols,dx=Object.prototype.hasOwnProperty,ux=Object.prototype.propertyIsEnumerable,hx=(e,t,s)=>t in e?ix(e,t,{enumerable:!0,configurable:!0,writable:!0,value:s}):e[t]=s;var mx=["[data-lastpass-icon-root]","com-1password-button","[data-dashlanecreated]",'[style$="2147483647 !important;"]'].join(",");var px=Pt.createContext({}),fx=Pt.forwardRef((e,t)=>{var s,r,n,a,i,o=e,{value:l,onChange:c,maxLength:d,textAlign:u="left",pattern:h,placeholder:m,inputMode:p="numeric",onComplete:f,pushPasswordManagerStrategy:g="increase-width",pasteTransformer:x,containerClassName:v,noScriptCSSFallback:y=xx,render:b,children:w}=o,j=((e,t)=>{var s={};for(var r in e)dx.call(e,r)&&t.indexOf(r)<0&&(s[r]=e[r]);if(null!=e&&cx)for(var r of cx(e))t.indexOf(r)<0&&ux.call(e,r)&&(s[r]=e[r]);return s})(o,["value","onChange","maxLength","textAlign","pattern","placeholder","inputMode","onComplete","pushPasswordManagerStrategy","pasteTransformer","containerClassName","noScriptCSSFallback","render","children"]);let[_,N]=Pt.useState("string"==typeof j.defaultValue?j.defaultValue:""),k=null!=l?l:_,S=function(e){let t=Pt.useRef();return Pt.useEffect(()=>{t.current=e}),t.current}(k),E=Pt.useCallback(e=>{null==c||c(e),N(e)},[c]),C=Pt.useMemo(()=>h?"string"==typeof h?new RegExp(h):h:null,[h]),T=Pt.useRef(null),R=Pt.useRef(null),O=Pt.useRef({value:k,onChange:E,isIOS:"undefined"!=typeof window&&(null==(r=null==(s=null==window?void 0:window.CSS)?void 0:s.supports)?void 0:r.call(s,"-webkit-touch-callout","none"))}),A=Pt.useRef({prev:[null==(n=T.current)?void 0:n.selectionStart,null==(a=T.current)?void 0:a.selectionEnd,null==(i=T.current)?void 0:i.selectionDirection]});Pt.useImperativeHandle(t,()=>T.current,[]),Pt.useEffect(()=>{let e=T.current,t=R.current;if(!e||!t)return;function s(){if(document.activeElement!==e)return L(null),void F(null);let t,s=e.selectionStart,r=e.selectionEnd,n=e.selectionDirection,a=e.maxLength,i=e.value,o=A.current.prev,l=-1,c=-1;if(0!==i.length&&null!==s&&null!==r){let e=s===r,n=s===i.length&&i.length<a;if(e&&!n){let e=s;if(0===e)l=0,c=1,t="forward";else if(e===a)l=e-1,c=e,t="backward";else if(a>1&&i.length>1){let s=0;if(null!==o[0]&&null!==o[1]){t=e<o[1]?"backward":"forward";let r=o[0]===o[1]&&o[0]<a;"backward"===t&&!r&&(s=-1)}l=s+e,c=s+e+1}}-1!==l&&-1!==c&&l!==c&&T.current.setSelectionRange(l,c,t)}let d=-1!==l?l:s,u=-1!==c?c:r,h=null!=t?t:n;L(d),F(u),A.current.prev=[d,u,h]}if(O.current.value!==e.value&&O.current.onChange(e.value),A.current.prev=[e.selectionStart,e.selectionEnd,e.selectionDirection],document.addEventListener("selectionchange",s,{capture:!0}),s(),document.activeElement===e&&$(!0),!document.getElementById("input-otp-style")){let e=document.createElement("style");if(e.id="input-otp-style",document.head.appendChild(e),e.sheet){let t="background: transparent !important; color: transparent !important; border-color: transparent !important; opacity: 0 !important; box-shadow: none !important; -webkit-box-shadow: none !important; -webkit-text-fill-color: transparent !important;";gx(e.sheet,"[data-input-otp]::selection { background: transparent !important; color: transparent !important; }"),gx(e.sheet,`[data-input-otp]:autofill { ${t} }`),gx(e.sheet,`[data-input-otp]:-webkit-autofill { ${t} }`),gx(e.sheet,"@supports (-webkit-touch-callout: none) { [data-input-otp] { letter-spacing: -.6em !important; font-weight: 100 !important; font-stretch: ultra-condensed; font-optical-sizing: none !important; left: -1px !important; right: 1px !important; } }"),gx(e.sheet,"[data-input-otp] + * { pointer-events: all !important; }")}}let r=()=>{t&&t.style.setProperty("--root-height",`${e.clientHeight}px`)};r();let n=new ResizeObserver(r);return n.observe(e),()=>{document.removeEventListener("selectionchange",s,{capture:!0}),n.disconnect()}},[]);let[P,I]=Pt.useState(!1),[M,$]=Pt.useState(!1),[D,L]=Pt.useState(null),[U,F]=Pt.useState(null);Pt.useEffect(()=>{!function(e){setTimeout(e,0),setTimeout(e,10),setTimeout(e,50)}(()=>{var e,t,s,r;null==(e=T.current)||e.dispatchEvent(new Event("input"));let n=null==(t=T.current)?void 0:t.selectionStart,a=null==(s=T.current)?void 0:s.selectionEnd,i=null==(r=T.current)?void 0:r.selectionDirection;null!==n&&null!==a&&(L(n),F(a),A.current.prev=[n,a,i])})},[k,M]),Pt.useEffect(()=>{void 0!==S&&k!==S&&S.length<d&&k.length===d&&(null==f||f(k))},[d,f,S,k]);let B=function({containerRef:e,inputRef:t,pushPasswordManagerStrategy:s,isFocused:r}){let[n,a]=Pt.useState(!1),[i,o]=Pt.useState(!1),[l,c]=Pt.useState(!1),d=Pt.useMemo(()=>"none"!==s&&("increase-width"===s||"experimental-no-flickering"===s)&&n&&i,[n,i,s]),u=Pt.useCallback(()=>{let r=e.current,n=t.current;if(!r||!n||l||"none"===s)return;let i=r,o=i.getBoundingClientRect().left+i.offsetWidth-18,d=i.getBoundingClientRect().top+i.offsetHeight/2;0===document.querySelectorAll(mx).length&&document.elementFromPoint(o,d)===r||(a(!0),c(!0))},[e,t,l,s]);return Pt.useEffect(()=>{let t=e.current;if(!t||"none"===s)return;function r(){let e=window.innerWidth-t.getBoundingClientRect().right;o(e>=40)}r();let n=setInterval(r,1e3);return()=>{clearInterval(n)}},[e,s]),Pt.useEffect(()=>{let e=r||document.activeElement===t.current;if("none"===s||!e)return;let n=setTimeout(u,0),a=setTimeout(u,2e3),i=setTimeout(u,5e3),o=setTimeout(()=>{c(!0)},6e3);return()=>{clearTimeout(n),clearTimeout(a),clearTimeout(i),clearTimeout(o)}},[t,r,s,u]),{hasPWMBadge:n,willPushPWMBadge:d,PWM_BADGE_SPACE_WIDTH:"40px"}}({containerRef:R,inputRef:T,pushPasswordManagerStrategy:g,isFocused:M}),q=Pt.useCallback(e=>{let t=e.currentTarget.value.slice(0,d);t.length>0&&C&&!C.test(t)?e.preventDefault():("string"==typeof S&&t.length<S.length&&document.dispatchEvent(new Event("selectionchange")),E(t))},[d,E,S,C]),z=Pt.useCallback(()=>{var e;if(T.current){let t=Math.min(T.current.value.length,d-1),s=T.current.value.length;null==(e=T.current)||e.setSelectionRange(t,s),L(t),F(s)}$(!0)},[d]),W=Pt.useCallback(e=>{var t,s;let r=T.current;if(!(x||O.current.isIOS&&e.clipboardData&&r))return;let n=e.clipboardData.getData("text/plain"),a=x?x(n):n;e.preventDefault();let i=null==(t=T.current)?void 0:t.selectionStart,o=null==(s=T.current)?void 0:s.selectionEnd,l=(i!==o?k.slice(0,i)+a+k.slice(o):k.slice(0,i)+a+k.slice(i)).slice(0,d);if(l.length>0&&C&&!C.test(l))return;r.value=l,E(l);let c=Math.min(l.length,d-1),u=l.length;r.setSelectionRange(c,u),L(c),F(u)},[d,E,C,k]),H=Pt.useMemo(()=>({position:"relative",cursor:j.disabled?"default":"text",userSelect:"none",WebkitUserSelect:"none",pointerEvents:"none"}),[j.disabled]),K=Pt.useMemo(()=>({position:"absolute",inset:0,width:B.willPushPWMBadge?`calc(100% + ${B.PWM_BADGE_SPACE_WIDTH})`:"100%",clipPath:B.willPushPWMBadge?`inset(0 ${B.PWM_BADGE_SPACE_WIDTH} 0 0)`:void 0,height:"100%",display:"flex",textAlign:u,opacity:"1",color:"transparent",pointerEvents:"all",background:"transparent",caretColor:"transparent",border:"0 solid transparent",outline:"0 solid transparent",boxShadow:"none",lineHeight:"1",letterSpacing:"-.5em",fontSize:"var(--root-height)",fontFamily:"monospace",fontVariantNumeric:"tabular-nums"}),[B.PWM_BADGE_SPACE_WIDTH,B.willPushPWMBadge,u]),V=Pt.useMemo(()=>Pt.createElement("input",((e,t)=>ox(e,lx(t)))(((e,t)=>{for(var s in t||(t={}))dx.call(t,s)&&hx(e,s,t[s]);if(cx)for(var s of cx(t))ux.call(t,s)&&hx(e,s,t[s]);return e})({autoComplete:j.autoComplete||"one-time-code"},j),{"data-input-otp":!0,"data-input-otp-placeholder-shown":0===k.length||void 0,"data-input-otp-mss":D,"data-input-otp-mse":U,inputMode:p,pattern:null==C?void 0:C.source,"aria-placeholder":m,style:K,maxLength:d,value:k,ref:T,onPaste:e=>{var t;W(e),null==(t=j.onPaste)||t.call(j,e)},onChange:q,onMouseOver:e=>{var t;I(!0),null==(t=j.onMouseOver)||t.call(j,e)},onMouseLeave:e=>{var t;I(!1),null==(t=j.onMouseLeave)||t.call(j,e)},onFocus:e=>{var t;z(),null==(t=j.onFocus)||t.call(j,e)},onBlur:e=>{var t;$(!1),null==(t=j.onBlur)||t.call(j,e)}})),[q,z,W,p,K,d,U,D,j,null==C?void 0:C.source,k]),G=Pt.useMemo(()=>({slots:Array.from({length:d}).map((e,t)=>{var s;let r=M&&null!==D&&null!==U&&(D===U&&t===D||t>=D&&t<U),n=void 0!==k[t]?k[t]:null;return{char:n,placeholderChar:void 0!==k[0]?null:null!=(s=null==m?void 0:m[t])?s:null,isActive:r,hasFakeCaret:r&&null===n}}),isFocused:M,isHovering:!j.disabled&&P}),[M,P,d,U,D,j.disabled,k]),Z=Pt.useMemo(()=>b?b(G):Pt.createElement(px.Provider,{value:G},w),[w,G,b]);return Pt.createElement(Pt.Fragment,null,null!==y&&Pt.createElement("noscript",null,Pt.createElement("style",null,y)),Pt.createElement("div",{ref:R,"data-input-otp-container":!0,style:H,className:v},Z,Pt.createElement("div",{style:{position:"absolute",inset:0,pointerEvents:"none"}},V)))});function gx(e,t){try{e.insertRule(t)}catch(s){}}fx.displayName="Input";var xx="\n[data-input-otp] {\n  --nojs-bg: white !important;\n  --nojs-fg: black !important;\n\n  background-color: var(--nojs-bg) !important;\n  color: var(--nojs-fg) !important;\n  caret-color: var(--nojs-fg) !important;\n  letter-spacing: .25em !important;\n  text-align: center !important;\n  border: 1px solid var(--nojs-fg) !important;\n  border-radius: 4px !important;\n  width: 100% !important;\n}\n@media (prefers-color-scheme: dark) {\n  [data-input-otp] {\n    --nojs-bg: black !important;\n    --nojs-fg: white !important;\n  }\n}";const vx=Pt.forwardRef(({className:e,containerClassName:t,...s},r)=>Ce.jsx(fx,{ref:r,containerClassName:Aa("flex items-center gap-2 has-[:disabled]:opacity-50",t),className:Aa("disabled:cursor-not-allowed",e),...s}));vx.displayName="InputOTP";const yx=Pt.forwardRef(({className:e,...t},s)=>Ce.jsx("div",{ref:s,className:Aa("flex items-center",e),...t}));yx.displayName="InputOTPGroup";const bx=Pt.forwardRef(({index:e,className:t,...s},r)=>{const n=Pt.useContext(px),{char:a,hasFakeCaret:i,isActive:o}=n.slots[e];return Ce.jsxs("div",{ref:r,className:Aa("relative flex h-10 w-10 items-center justify-center border-y border-r border-input text-sm transition-all first:rounded-l-md first:border-l last:rounded-r-md",o&&"z-10 ring-2 ring-ring ring-offset-background",t),...s,children:[a,i&&Ce.jsx("div",{className:"pointer-events-none absolute inset-0 flex items-center justify-center",children:Ce.jsx("div",{className:"animate-caret-blink h-4 w-px bg-foreground duration-1000"})})]})});bx.displayName="InputOTPSlot";function wx(){const e=$t(),{toast:t}=Qs(),[s,r]=Pt.useState(!1),[n,a]=Pt.useState(""),[i,o]=Pt.useState(!1),[l,c]=Pt.useState(""),[d,u]=Pt.useState(null),[h,m]=Pt.useState(null),[p,f]=Pt.useState(!1),[g,x]=Pt.useState("");Pt.useEffect(()=>{const t="recovery"===new URLSearchParams(window.location.hash.substring(1)).get("type");t&&f(!0);const{data:{subscription:s}}=ah.auth.onAuthStateChange((t,s)=>{m(s),u((null==s?void 0:s.user)??null),"PASSWORD_RECOVERY"!==t?(null==s?void 0:s.user)&&e("/admin"):f(!0)});return t||ah.auth.getSession().then(({data:{session:t}})=>{m(t),u((null==t?void 0:t.user)??null),(null==t?void 0:t.user)&&e("/admin")}),()=>s.unsubscribe()},[e]);return Ce.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-blue-50 to-indigo-100 px-4",children:Ce.jsxs(Fo,{className:"w-full max-w-md",children:[Ce.jsxs(Bo,{children:[Ce.jsx(qo,{children:p?"Set New Password":i?"Enter Code":"Admin Login"}),Ce.jsx(zo,{children:p?"Enter your new password below":i?"Enter the 6-digit code sent to your admin email":"Secure admin access with one-time code"})]}),Ce.jsx(Wo,{children:p?Ce.jsxs("form",{onSubmit:async s=>{s.preventDefault(),r(!0);try{const{error:s}=await ah.auth.updateUser({password:g});if(s)throw s;t({title:"Password updated!",description:"Your password has been successfully reset."}),f(!1),x(""),e("/admin")}catch(n){t({title:"Error",description:n.message||"Failed to update password",variant:"destructive"})}finally{r(!1)}},className:"space-y-4",children:[Ce.jsxs("div",{className:"space-y-2",children:[Ce.jsx(Cg,{htmlFor:"newPassword",children:"New Password"}),Ce.jsx(fg,{id:"newPassword",type:"password",placeholder:"",value:g,onChange:e=>x(e.target.value),required:!0,disabled:s,minLength:6})]}),Ce.jsx(Uo,{type:"submit",className:"w-full",disabled:s,children:s?"Updating...":"Update Password"})]}):i?Ce.jsxs("form",{onSubmit:async e=>{if(e.preventDefault(),6===n.length){r(!0);try{const{error:e}=await ah.auth.verifyOtp({email:l,token:n,type:"email"});if(e)throw e;t({title:"Welcome!",description:"You've successfully logged in."})}catch(s){t({title:"Error",description:s.message||"Invalid OTP code",variant:"destructive"})}finally{r(!1)}}else t({title:"Invalid OTP",description:"Please enter a 6-digit code",variant:"destructive"})},className:"space-y-4",children:[Ce.jsxs("div",{className:"space-y-2",children:[Ce.jsx(Cg,{htmlFor:"otp",children:"One-Time Code"}),Ce.jsx(vx,{maxLength:6,value:n,onChange:e=>a(e),disabled:s,children:Ce.jsxs(yx,{className:"w-full justify-center",children:[Ce.jsx(bx,{index:0}),Ce.jsx(bx,{index:1}),Ce.jsx(bx,{index:2}),Ce.jsx(bx,{index:3}),Ce.jsx(bx,{index:4}),Ce.jsx(bx,{index:5})]})})]}),Ce.jsx(Uo,{type:"submit",className:"w-full",disabled:s||6!==n.length,children:s?"Verifying...":"Verify Code"}),Ce.jsx("div",{className:"text-center",children:Ce.jsx("button",{type:"button",onClick:()=>{o(!1),a("")},className:"text-sm text-primary hover:underline",disabled:s,children:"Request new code"})})]}):Ce.jsxs("form",{onSubmit:async e=>{e.preventDefault(),r(!0);try{const{data:e,error:s}=await ah.functions.invoke("send-admin-otp");if(s)throw s;c(e.adminEmail),o(!0),t({title:"OTP sent!",description:"Check your admin email for the 6-digit code."})}catch(s){t({title:"Error",description:s.message||"Failed to send OTP",variant:"destructive"})}finally{r(!1)}},className:"space-y-4",children:[Ce.jsx("p",{className:"text-center text-muted-foreground text-sm",children:"Click below to receive a one-time login code"}),Ce.jsx(Uo,{type:"submit",className:"w-full",disabled:s,children:s?"Sending...":"Send Login Code"})]})})]})})}Pt.forwardRef(({...e},t)=>Ce.jsx("div",{ref:t,role:"separator",...e,children:Ce.jsx(un,{})})).displayName="InputOTPSeparator";const jx=zr("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function _x({className:e,variant:t,...s}){return Ce.jsx("div",{className:Aa(jx({variant:t}),e),...s})}function Nx(){const[e,t]=Pt.useState([]),[s,r]=Pt.useState(!0),{toast:n}=Qs();Pt.useEffect(()=>{a()},[]);const a=async()=>{try{const{data:e,error:s}=await ah.from("contact_submissions").select("*").order("created_at",{ascending:!1});if(s)throw s;t(e||[])}catch(e){n({title:"Error",description:e.message,variant:"destructive"})}finally{r(!1)}};return s?Ce.jsx("div",{className:"text-center py-8",children:"Loading contacts..."}):Ce.jsxs("div",{className:"space-y-4",children:[Ce.jsxs("div",{className:"flex justify-between items-center mb-6",children:[Ce.jsx("h2",{className:"text-2xl font-bold",children:"Contact Submissions"}),Ce.jsxs(_x,{variant:"secondary",children:[e.length," Total"]})]}),0===e.length?Ce.jsx(Fo,{children:Ce.jsx(Wo,{className:"py-8 text-center text-muted-foreground",children:"No contact submissions yet."})}):Ce.jsx("div",{className:"grid gap-4",children:e.map(e=>Ce.jsxs(Fo,{className:"hover:shadow-md transition-shadow",children:[Ce.jsx(Bo,{children:Ce.jsxs("div",{className:"flex justify-between items-start",children:[Ce.jsxs("div",{className:"flex items-center gap-3",children:[Ce.jsx($n,{className:"h-5 w-5 text-primary"}),Ce.jsxs("div",{children:[Ce.jsx(qo,{className:"text-lg",children:e.name}),Ce.jsx(_x,{className:"mt-1",children:e.inquiry_type})]})]}),Ce.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[Ce.jsx(cn,{className:"h-4 w-4"}),new Date(e.created_at).toLocaleDateString()]})]})}),Ce.jsx(Wo,{children:Ce.jsxs("div",{className:"space-y-3",children:[Ce.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[Ce.jsx(Nn,{className:"h-4 w-4 text-muted-foreground"}),Ce.jsx("a",{href:`mailto:${e.email}`,className:"text-primary hover:underline",children:e.email})]}),e.phone&&Ce.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[Ce.jsx(En,{className:"h-4 w-4 text-muted-foreground"}),Ce.jsx("a",{href:`tel:${e.phone}`,className:"text-primary hover:underline",children:e.phone})]}),Ce.jsxs("div",{className:"mt-4 p-4 bg-muted rounded-lg",children:[Ce.jsx("p",{className:"text-sm font-semibold mb-2",children:"Message:"}),Ce.jsx("p",{className:"text-sm whitespace-pre-wrap",children:e.message})]})]})})]},e.id))})]})}function kx(){const[e,t]=Pt.useState([]),[s,r]=Pt.useState(!0),{toast:n}=Qs();Pt.useEffect(()=>{a()},[]);const a=async()=>{try{const{data:e,error:s}=await ah.from("booking_requests").select("*").order("created_at",{ascending:!1});if(s)throw s;t(e||[])}catch(e){n({title:"Error",description:e.message,variant:"destructive"})}finally{r(!1)}};return s?Ce.jsx("div",{className:"text-center py-8",children:"Loading bookings..."}):Ce.jsxs("div",{className:"space-y-4",children:[Ce.jsxs("div",{className:"flex justify-between items-center mb-6",children:[Ce.jsx("h2",{className:"text-2xl font-bold",children:"Booking Requests"}),Ce.jsxs(_x,{variant:"secondary",children:[e.length," Total"]})]}),0===e.length?Ce.jsx(Fo,{children:Ce.jsx(Wo,{className:"py-8 text-center text-muted-foreground",children:"No booking requests yet."})}):Ce.jsx("div",{className:"grid gap-4",children:e.map(e=>{return Ce.jsxs(Fo,{className:"hover:shadow-md transition-shadow",children:[Ce.jsx(Bo,{children:Ce.jsxs("div",{className:"flex justify-between items-start",children:[Ce.jsxs("div",{className:"flex items-center gap-3",children:[Ce.jsx($n,{className:"h-5 w-5 text-primary"}),Ce.jsxs("div",{children:[Ce.jsx(qo,{className:"text-lg",children:e.name}),Ce.jsxs("div",{className:"flex gap-2 mt-1",children:[Ce.jsx(_x,{children:e.booking_type}),(t=e.status,Ce.jsx(_x,{variant:{pending:"outline",confirmed:"default",completed:"secondary",cancelled:"destructive"}[t]||"outline",children:t}))]})]})]}),Ce.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[Ce.jsx(cn,{className:"h-4 w-4"}),new Date(e.created_at).toLocaleDateString()]})]})}),Ce.jsx(Wo,{children:Ce.jsxs("div",{className:"space-y-3",children:[Ce.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[Ce.jsx(Nn,{className:"h-4 w-4 text-muted-foreground"}),Ce.jsx("a",{href:`mailto:${e.email}`,className:"text-primary hover:underline",children:e.email})]}),e.phone&&Ce.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[Ce.jsx(En,{className:"h-4 w-4 text-muted-foreground"}),Ce.jsx("a",{href:`tel:${e.phone}`,className:"text-primary hover:underline",children:e.phone})]}),e.organization_name&&Ce.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[Ce.jsx(en,{className:"h-4 w-4 text-muted-foreground"}),Ce.jsx("span",{children:e.organization_name})]}),e.message&&Ce.jsxs("div",{className:"mt-4 p-4 bg-muted rounded-lg",children:[Ce.jsx("p",{className:"text-sm font-semibold mb-2",children:"Message:"}),Ce.jsx("p",{className:"text-sm whitespace-pre-wrap",children:e.message})]}),Ce.jsxs("div",{className:"mt-4 flex items-center gap-3",children:[Ce.jsx("span",{className:"text-sm font-semibold",children:"Update Status:"}),Ce.jsxs(Rg,{value:e.status,onValueChange:t=>(async(e,t)=>{try{const{error:s}=await ah.from("booking_requests").update({status:t}).eq("id",e);if(s)throw s;n({title:"Success",description:"Booking status updated"}),a()}catch(s){n({title:"Error",description:s.message,variant:"destructive"})}})(e.id,t),children:[Ce.jsx(Ag,{className:"w-[180px]",children:Ce.jsx(Og,{})}),Ce.jsxs(Mg,{children:[Ce.jsx($g,{value:"pending",children:"Pending"}),Ce.jsx($g,{value:"confirmed",children:"Confirmed"}),Ce.jsx($g,{value:"completed",children:"Completed"}),Ce.jsx($g,{value:"cancelled",children:"Cancelled"})]})]})]})]})})]},e.id);var t})})]})}function Sx({bucket:e,currentUrl:t,onUploadComplete:s,onRemove:r,label:n="Image",accept:a="image/*",fallbackUrl:i}){const[o,l]=Pt.useState(!1),[c,d]=Pt.useState(t||null),[u,h]=Pt.useState(""),m=Pt.useRef(null),{toast:p}=Qs(),f=()=>{if(u.trim())try{new URL(u),d(u),s(u),h(""),p({title:"Success",description:"Image URL added successfully"})}catch{p({title:"Error",description:"Invalid URL format",variant:"destructive"})}else p({title:"Error",description:"Please enter a valid URL",variant:"destructive"})};return Ce.jsxs("div",{className:"space-y-2",children:[Ce.jsx(Cg,{children:n}),c?Ce.jsxs("div",{className:"relative inline-block",children:[Ce.jsx("img",{src:c,alt:"Preview",className:"w-32 h-32 object-cover rounded-lg border",onError:e=>{i&&e.currentTarget.src!==i&&(e.currentTarget.src=i)}}),Ce.jsx(Uo,{type:"button",size:"icon",variant:"destructive",className:"absolute -top-2 -right-2 h-6 w-6 rounded-full",onClick:()=>{d(null),r&&r(),m.current&&(m.current.value="")},children:Ce.jsx(Un,{className:"h-4 w-4"})})]}):Ce.jsxs(vg,{defaultValue:"upload",className:"w-full",children:[Ce.jsxs(yg,{className:"grid w-full grid-cols-2",children:[Ce.jsx(bg,{value:"upload",children:"Upload"}),Ce.jsx(bg,{value:"url",children:"URL"})]}),Ce.jsxs(wg,{value:"upload",className:"border-2 border-dashed rounded-lg p-6 text-center",children:[Ce.jsx("input",{ref:m,type:"file",accept:a,onChange:async t=>{var r;const n=null==(r=t.target.files)?void 0:r[0];if(n)if(n.size>5242880)p({title:"Error",description:"File size must be less than 5MB",variant:"destructive"});else if(n.type.startsWith("image/")){l(!0);try{let t=n;if(0===document.createElement("canvas").toDataURL("image/webp").indexOf("data:image/webp")&&n.type.startsWith("image/"))try{t=await async function(e,t=.85){return new Promise((s,r)=>{const n=new FileReader;n.onload=n=>{var a;const i=new Image;i.onload=()=>{const n=document.createElement("canvas");n.width=i.width,n.height=i.height;const a=n.getContext("2d");a?(a.drawImage(i,0,0),n.toBlob(t=>{if(!t)return void r(new Error("Conversion to WebP failed"));const n=new File([t],e.name.replace(/\.[^/.]+$/,".webp"),{type:"image/webp"});s(n)},"image/webp",t)):r(new Error("Could not get canvas context"))},i.onerror=()=>r(new Error("Failed to load image")),i.src=null==(a=n.target)?void 0:a.result},n.onerror=()=>r(new Error("Failed to read file")),n.readAsDataURL(e)})}(n,.85),p({title:"Optimizing",description:"Converting image to WebP format..."})}catch(a){}const r=t.name.split(".").pop(),i=`${`${Math.random().toString(36).substring(2)}-${Date.now()}.${r}`}`,{error:o}=await ah.storage.from(e).upload(i,t,{cacheControl:"3600",upsert:!1});if(o)throw o;const{data:{publicUrl:l}}=ah.storage.from(e).getPublicUrl(i);d(l),s(l),p({title:"Success",description:"Image uploaded successfully"})}catch(i){p({title:"Error",description:i.message,variant:"destructive"})}finally{l(!1),m.current&&(m.current.value="")}}else p({title:"Error",description:"Please upload an image file",variant:"destructive"})},className:"hidden",disabled:o}),Ce.jsx(Uo,{type:"button",variant:"outline",onClick:()=>{var e;return null==(e=m.current)?void 0:e.click()},disabled:o,children:o?Ce.jsxs(Ce.Fragment,{children:[Ce.jsx(jn,{className:"mr-2 h-4 w-4 animate-spin"}),"Uploading..."]}):Ce.jsxs(Ce.Fragment,{children:[Ce.jsx(Mn,{className:"mr-2 h-4 w-4"}),"Upload ",n]})}),Ce.jsxs("p",{className:"text-xs text-muted-foreground mt-2",children:["Max 5MB, ",a.split("/")[0]," files only"]})]}),Ce.jsxs(wg,{value:"url",className:"space-y-2",children:[Ce.jsxs("div",{className:"flex gap-2",children:[Ce.jsx(fg,{placeholder:"https://example.com/image.jpg",value:u,onChange:e=>h(e.target.value),onKeyPress:e=>"Enter"===e.key&&f()}),Ce.jsxs(Uo,{type:"button",onClick:f,children:[Ce.jsx(yn,{className:"mr-2 h-4 w-4"}),"Add"]})]}),Ce.jsx("p",{className:"text-xs text-muted-foreground",children:"Enter a direct image URL"})]})]})]})}function Ex(){const[e,t]=Pt.useState([]),[s,r]=Pt.useState(!0),[n,a]=Pt.useState(!1),[i,o]=Pt.useState(null),[l,c]=Pt.useState({name:"",role:"",content:"",rating:5,is_featured:!1,image_url:null}),{toast:d}=Qs();Pt.useEffect(()=>{u()},[]);const u=async()=>{try{const{data:e,error:s}=await ah.from("testimonials").select("*").order("created_at",{ascending:!1});if(s)throw s;t(e||[])}catch(e){d({title:"Error",description:e.message,variant:"destructive"})}finally{r(!1)}};return s?Ce.jsx("div",{className:"text-center py-8",children:"Loading testimonials..."}):Ce.jsxs("div",{className:"space-y-4",children:[Ce.jsxs("div",{className:"flex justify-between items-center mb-6",children:[Ce.jsx("h2",{className:"text-2xl font-bold",children:"Testimonials"}),Ce.jsxs(oh,{open:n,onOpenChange:a,children:[Ce.jsx(lh,{asChild:!0,children:Ce.jsxs(Uo,{onClick:()=>{o(null),c({name:"",role:"",content:"",rating:5,is_featured:!1,image_url:null})},children:[Ce.jsx(Cn,{className:"mr-2 h-4 w-4"}),"Add Testimonial"]})}),Ce.jsxs(uh,{className:"max-w-2xl",children:[Ce.jsx(hh,{children:Ce.jsxs(mh,{children:[i?"Edit":"Add"," Testimonial"]})}),Ce.jsxs("form",{onSubmit:async e=>{e.preventDefault();try{if(i){const{error:e}=await ah.from("testimonials").update(l).eq("id",i);if(e)throw e;d({title:"Success",description:"Testimonial updated"})}else{const{error:e}=await ah.from("testimonials").insert([l]);if(e)throw e;d({title:"Success",description:"Testimonial added"})}a(!1),o(null),c({name:"",role:"",content:"",rating:5,is_featured:!1,image_url:null}),u()}catch(t){d({title:"Error",description:t.message,variant:"destructive"})}},className:"space-y-4",children:[Ce.jsx(Sx,{bucket:"testimonial-images",currentUrl:l.image_url,onUploadComplete:e=>c({...l,image_url:e}),onRemove:()=>c({...l,image_url:null}),label:"Profile Image"}),Ce.jsxs("div",{children:[Ce.jsx(Cg,{htmlFor:"name",children:"Name (Max 60 chars - Layout Safety)"}),Ce.jsx(fg,{id:"name",value:l.name,onChange:e=>c({...l,name:e.target.value.slice(0,60)}),required:!0,maxLength:60,placeholder:"Full Name"}),Ce.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:[l.name.length,"/60 characters"]})]}),Ce.jsxs("div",{children:[Ce.jsx(Cg,{htmlFor:"role",children:"Role (Max 50 chars)"}),Ce.jsx(fg,{id:"role",value:l.role,onChange:e=>c({...l,role:e.target.value.slice(0,50)}),placeholder:"e.g., Student, Parent, Teacher",maxLength:50}),Ce.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:[l.role.length,"/50 characters"]})]}),Ce.jsxs("div",{children:[Ce.jsx(Cg,{htmlFor:"content",children:"Testimonial (Max 300 chars - Layout Safety)"}),Ce.jsx(Tg,{id:"content",value:l.content,onChange:e=>c({...l,content:e.target.value.slice(0,300)}),required:!0,rows:4,maxLength:300,placeholder:"Share your experience..."}),Ce.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:[l.content.length,"/300 characters"]})]}),Ce.jsxs("div",{children:[Ce.jsx(Cg,{htmlFor:"rating",children:"Rating (1-5)"}),Ce.jsx(fg,{id:"rating",type:"number",min:"1",max:"5",value:l.rating,onChange:e=>c({...l,rating:parseInt(e.target.value)}),required:!0})]}),Ce.jsxs("div",{className:"flex items-center gap-2",children:[Ce.jsx("input",{type:"checkbox",id:"featured",checked:l.is_featured,onChange:e=>c({...l,is_featured:e.target.checked}),className:"h-4 w-4"}),Ce.jsx(Cg,{htmlFor:"featured",children:"Featured Testimonial"})]}),Ce.jsxs(Uo,{type:"submit",className:"w-full",children:[i?"Update":"Add"," Testimonial"]})]})]})]})]}),0===e.length?Ce.jsx(Fo,{children:Ce.jsx(Wo,{className:"py-8 text-center text-muted-foreground",children:"No testimonials yet. Add your first one!"})}):Ce.jsx("div",{className:"grid gap-4",children:e.map(e=>Ce.jsxs(Fo,{className:"hover:shadow-md transition-shadow",children:[Ce.jsx(Bo,{children:Ce.jsxs("div",{className:"flex justify-between items-start",children:[Ce.jsxs("div",{children:[Ce.jsx(qo,{className:"text-lg",children:e.name}),e.role&&Ce.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:e.role}),Ce.jsxs("div",{className:"flex gap-2 mt-2",children:[e.rating&&Ce.jsx("div",{className:"flex items-center gap-1",children:Array.from({length:e.rating}).map((e,t)=>Ce.jsx(Tn,{className:"h-4 w-4 fill-primary text-primary"},t))}),e.is_featured&&Ce.jsx(_x,{variant:"secondary",children:"Featured"})]})]}),Ce.jsxs("div",{className:"flex gap-2",children:[Ce.jsx(Uo,{size:"sm",variant:"outline",onClick:()=>(e=>{o(e.id),c({name:e.name,role:e.role||"",content:e.content,rating:e.rating||5,is_featured:e.is_featured,image_url:e.image_url}),a(!0)})(e),children:"Edit"}),Ce.jsx(Uo,{size:"sm",variant:"destructive",onClick:()=>(async e=>{if(confirm("Are you sure you want to delete this testimonial?"))try{const{error:t}=await ah.from("testimonials").delete().eq("id",e);if(t)throw t;d({title:"Success",description:"Testimonial deleted"}),u()}catch(t){d({title:"Error",description:t.message,variant:"destructive"})}})(e.id),children:Ce.jsx(On,{className:"h-4 w-4"})})]})]})}),Ce.jsx(Wo,{children:Ce.jsx("p",{className:"text-sm",children:e.content})})]},e.id))})]})}function Cx({bucket:e,currentUrl:t,onUploadComplete:s,onRemove:r,label:n="File",accept:a="*/*",maxSizeMB:i=10}){const[o,l]=Pt.useState(!1),[c,d]=Pt.useState(t&&t.split("/").pop()||null),u=Pt.useRef(null),{toast:h}=Qs();return Ce.jsxs("div",{className:"space-y-2",children:[Ce.jsx(Cg,{children:n}),c?Ce.jsxs("div",{className:"flex items-center gap-2 p-3 border rounded-lg bg-muted/50",children:[Ce.jsx(gn,{className:"h-5 w-5 text-primary"}),Ce.jsx("span",{className:"flex-1 text-sm truncate",children:c}),Ce.jsx(Uo,{type:"button",size:"icon",variant:"ghost",className:"h-6 w-6",onClick:()=>{d(null),r&&r(),u.current&&(u.current.value="")},children:Ce.jsx(Un,{className:"h-4 w-4"})})]}):Ce.jsxs("div",{className:"border-2 border-dashed rounded-lg p-6 text-center",children:[Ce.jsx("input",{ref:u,type:"file",accept:a,onChange:async t=>{var r;const n=null==(r=t.target.files)?void 0:r[0];if(!n)return;const a=1024*i*1024;if(n.size>a)h({title:"Error",description:`File size must be less than ${i}MB`,variant:"destructive"});else{l(!0);try{n.name.split(".").pop();const t=n.name.replace(/[^a-zA-Z0-9.-]/g,"_"),r=`${`${Date.now()}-${t}`}`,{error:a}=await ah.storage.from(e).upload(r,n,{cacheControl:"3600",upsert:!1});if(a)throw a;const{data:{publicUrl:i}}=ah.storage.from(e).getPublicUrl(r);d(n.name),s(i),h({title:"Success",description:"File uploaded successfully"})}catch(o){h({title:"Error",description:o.message,variant:"destructive"})}finally{l(!1),u.current&&(u.current.value="")}}},className:"hidden",disabled:o}),Ce.jsx(Uo,{type:"button",variant:"outline",onClick:()=>{var e;return null==(e=u.current)?void 0:e.click()},disabled:o,children:o?Ce.jsxs(Ce.Fragment,{children:[Ce.jsx(jn,{className:"mr-2 h-4 w-4 animate-spin"}),"Uploading..."]}):Ce.jsxs(Ce.Fragment,{children:[Ce.jsx(Mn,{className:"mr-2 h-4 w-4"}),"Upload ",n]})}),Ce.jsxs("p",{className:"text-xs text-muted-foreground mt-2",children:["Max ",i,"MB"]})]})]})}function Tx(){const[e,t]=Pt.useState([]),[s,r]=Pt.useState(!0),[n,a]=Pt.useState(!1),[i,o]=Pt.useState(null),[l,c]=Pt.useState("upload"),[d,u]=Pt.useState(""),[h,m]=Pt.useState({title:"",description:"",category:"worksheet",audience:"all",file_url:null,thumbnail_url:null,is_active:!0}),{toast:p}=Qs();Pt.useEffect(()=>{f()},[]);const f=async()=>{try{const{data:e,error:s}=await ah.from("resources").select("*").order("created_at",{ascending:!1});if(s)throw s;t(e||[])}catch(e){p({title:"Error",description:e.message,variant:"destructive"})}finally{r(!1)}};return s?Ce.jsx("div",{className:"text-center py-8",children:"Loading resources..."}):Ce.jsxs("div",{className:"space-y-4",children:[Ce.jsxs("div",{className:"flex justify-between items-center mb-6",children:[Ce.jsx("h2",{className:"text-2xl font-bold",children:"Resources"}),Ce.jsxs(oh,{open:n,onOpenChange:a,children:[Ce.jsx(lh,{asChild:!0,children:Ce.jsxs(Uo,{onClick:()=>{o(null),m({title:"",description:"",category:"worksheet",audience:"all",file_url:null,thumbnail_url:null,is_active:!0}),u(""),c("upload")},children:[Ce.jsx(Cn,{className:"mr-2 h-4 w-4"}),"Add Resource"]})}),Ce.jsxs(uh,{className:"max-w-2xl",children:[Ce.jsx(hh,{children:Ce.jsxs(mh,{children:[i?"Edit":"Add"," Resource"]})}),Ce.jsxs("form",{onSubmit:async e=>{e.preventDefault();try{const e="link"===l?d:h.file_url;if(i){const{error:t}=await ah.from("resources").update({...h,file_url:e}).eq("id",i);if(t)throw t;p({title:"Success",description:"Resource updated"})}else{const{error:t}=await ah.from("resources").insert([{...h,file_url:e}]);if(t)throw t;p({title:"Success",description:"Resource added"})}a(!1),o(null),m({title:"",description:"",category:"worksheet",audience:"all",file_url:null,thumbnail_url:null,is_active:!0}),u(""),c("upload"),f()}catch(t){p({title:"Error",description:t.message,variant:"destructive"})}},className:"space-y-4",children:[Ce.jsxs("div",{children:[Ce.jsx(Cg,{htmlFor:"title",children:"Title"}),Ce.jsx(fg,{id:"title",value:h.title,onChange:e=>m({...h,title:e.target.value}),required:!0,maxLength:200})]}),Ce.jsxs("div",{children:[Ce.jsx(Cg,{htmlFor:"description",children:"Description"}),Ce.jsx(Tg,{id:"description",value:h.description,onChange:e=>m({...h,description:e.target.value}),rows:3,maxLength:500}),Ce.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:[h.description.length,"/500 characters"]})]}),Ce.jsxs("div",{children:[Ce.jsx(Cg,{htmlFor:"category",children:"Category"}),Ce.jsxs(Rg,{value:h.category,onValueChange:e=>m({...h,category:e}),children:[Ce.jsx(Ag,{children:Ce.jsx(Og,{})}),Ce.jsxs(Mg,{children:[Ce.jsx($g,{value:"worksheet",children:"Worksheet"}),Ce.jsx($g,{value:"guide",children:"Guide"}),Ce.jsx($g,{value:"video",children:"Video"}),Ce.jsx($g,{value:"article",children:"Article"}),Ce.jsx($g,{value:"other",children:"Other"})]})]})]}),Ce.jsxs("div",{children:[Ce.jsx(Cg,{htmlFor:"audience",children:"Target Audience"}),Ce.jsxs(Rg,{value:h.audience,onValueChange:e=>m({...h,audience:e}),children:[Ce.jsx(Ag,{children:Ce.jsx(Og,{})}),Ce.jsxs(Mg,{children:[Ce.jsx($g,{value:"all",children:"All Audiences"}),Ce.jsx($g,{value:"students",children:"Students"}),Ce.jsx($g,{value:"parents",children:"Parents"}),Ce.jsx($g,{value:"educators",children:"Educators"})]})]})]}),Ce.jsx(Sx,{bucket:"resource-files",currentUrl:h.thumbnail_url,onUploadComplete:e=>m({...h,thumbnail_url:e}),onRemove:()=>m({...h,thumbnail_url:null}),label:"Thumbnail Image (Optional)"}),Ce.jsxs("div",{children:[Ce.jsx(Cg,{children:"Resource File"}),Ce.jsxs(vg,{value:l,onValueChange:e=>c(e),className:"mt-2",children:[Ce.jsxs(yg,{className:"grid w-full grid-cols-2",children:[Ce.jsx(bg,{value:"upload",children:"Upload File"}),Ce.jsxs(bg,{value:"link",children:[Ce.jsx(bn,{className:"h-4 w-4 mr-2"}),"Google Drive Link"]})]}),Ce.jsx(wg,{value:"upload",className:"mt-4",children:Ce.jsx(Cx,{bucket:"resource-files",currentUrl:h.file_url,onUploadComplete:e=>m({...h,file_url:e}),onRemove:()=>m({...h,file_url:null}),label:"",accept:".pdf,.doc,.docx,.ppt,.pptx,.xls,.xlsx,.zip",maxSizeMB:10})}),Ce.jsx(wg,{value:"link",className:"mt-4",children:Ce.jsxs("div",{className:"space-y-2",children:[Ce.jsx(fg,{placeholder:"https://drive.google.com/file/d/...",value:d,onChange:e=>u(e.target.value),type:"url"}),Ce.jsx("p",{className:"text-xs text-muted-foreground",children:'Paste a shareable Google Drive link. Make sure the link allows "Anyone with the link" to view.'})]})})]})]}),Ce.jsxs("div",{className:"flex items-center gap-2",children:[Ce.jsx("input",{type:"checkbox",id:"is_active",checked:h.is_active,onChange:e=>m({...h,is_active:e.target.checked}),className:"h-4 w-4"}),Ce.jsx(Cg,{htmlFor:"is_active",children:"Active (visible to users)"})]}),Ce.jsxs(Uo,{type:"submit",className:"w-full",children:[i?"Update":"Add"," Resource"]})]})]})]})]}),0===e.length?Ce.jsx(Fo,{children:Ce.jsx(Wo,{className:"py-8 text-center text-muted-foreground",children:"No resources yet. Add your first one!"})}):Ce.jsx("div",{className:"grid gap-4",children:e.map(e=>Ce.jsxs(Fo,{className:"hover:shadow-md transition-shadow",children:[Ce.jsx(Bo,{children:Ce.jsxs("div",{className:"flex justify-between items-start",children:[Ce.jsxs("div",{children:[Ce.jsx(qo,{className:"text-lg",children:e.title}),Ce.jsxs("div",{className:"flex gap-2 mt-2",children:[Ce.jsx(_x,{children:e.category}),Ce.jsx(_x,{variant:"secondary",children:"all"===e.audience?"All":e.audience}),e.is_active?Ce.jsx(_x,{variant:"secondary",children:"Active"}):Ce.jsx(_x,{variant:"outline",children:"Inactive"}),Ce.jsxs(_x,{variant:"outline",children:[Ce.jsx(hn,{className:"h-3 w-3 mr-1"}),e.downloads," downloads"]})]})]}),Ce.jsxs("div",{className:"flex gap-2",children:[Ce.jsx(Uo,{size:"sm",variant:"outline",onClick:()=>(e=>{o(e.id),m({title:e.title,description:e.description||"",category:e.category,audience:e.audience||"all",file_url:e.file_url,thumbnail_url:e.thumbnail_url,is_active:e.is_active}),e.file_url&&(e.file_url.includes("drive.google.com")||e.file_url.includes("docs.google.com"))?(c("link"),u(e.file_url)):(c("upload"),u("")),a(!0)})(e),children:"Edit"}),Ce.jsx(Uo,{size:"sm",variant:"destructive",onClick:()=>(async e=>{if(confirm("Are you sure you want to delete this resource?"))try{const{error:t}=await ah.from("resources").delete().eq("id",e);if(t)throw t;p({title:"Success",description:"Resource deleted"}),f()}catch(t){p({title:"Error",description:t.message,variant:"destructive"})}})(e.id),children:Ce.jsx(On,{className:"h-4 w-4"})})]})]})}),Ce.jsxs(Wo,{children:[e.description&&Ce.jsx("p",{className:"text-sm text-muted-foreground mb-3",children:e.description}),e.file_url&&Ce.jsx("a",{href:e.file_url,target:"_blank",rel:"noopener noreferrer",className:"text-sm text-primary hover:underline",children:"View File "})]})]},e.id))})]})}function Rx(){const[e,t]=Pt.useState([]),[s,r]=Pt.useState(!0),[n,a]=Pt.useState(!1),[i,o]=Pt.useState(null),[l,c]=Pt.useState({name:"",description:"",price:0,duration_weeks:4,features:"",plan_type:"student",is_active:!0,display_order:0,contact_message:""}),{toast:d}=Qs(),u=Oo();Pt.useEffect(()=>{h()},[]);const h=async()=>{try{const{data:e,error:s}=await ah.from("plans").select("*").order("display_order",{ascending:!0});if(s)throw s;const r=(e||[]).map(e=>({...e,features:Array.isArray(e.features)?e.features:"string"==typeof e.features?JSON.parse(e.features):[]}));t(r)}catch(e){d({title:"Error",description:e.message,variant:"destructive"})}finally{r(!1)}};return s?Ce.jsx("div",{className:"text-center py-8",children:"Loading plans..."}):Ce.jsxs("div",{className:"space-y-4",children:[Ce.jsxs("div",{className:"flex justify-between items-center mb-6",children:[Ce.jsx("h2",{className:"text-2xl font-bold",children:"Plans"}),Ce.jsxs(oh,{open:n,onOpenChange:a,children:[Ce.jsx(lh,{asChild:!0,children:Ce.jsxs(Uo,{onClick:()=>{o(null),c({name:"",description:"",price:0,duration_weeks:4,features:"",plan_type:"student",is_active:!0,display_order:0,contact_message:""})},children:[Ce.jsx(Cn,{className:"mr-2 h-4 w-4"}),"Add Plan"]})}),Ce.jsxs(uh,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[Ce.jsx(hh,{children:Ce.jsxs(mh,{children:[i?"Edit":"Add"," Plan"]})}),Ce.jsxs("form",{onSubmit:async e=>{e.preventDefault();try{const e=l.features.split("\n").filter(e=>e.trim()).map(e=>e.trim()),t={...l,features:e};if(i){const{error:e}=await ah.from("plans").update(t).eq("id",i);if(e)throw e;d({title:"Success",description:"Plan updated"})}else{const{error:e}=await ah.from("plans").insert([t]);if(e)throw e;d({title:"Success",description:"Plan added"})}a(!1),o(null),c({name:"",description:"",price:0,duration_weeks:4,features:"",plan_type:"student",is_active:!0,display_order:0,contact_message:""}),h(),u.invalidateQueries({queryKey:["student-plan"]}),u.invalidateQueries({queryKey:["school-plans"]})}catch(t){d({title:"Error",description:t.message,variant:"destructive"})}},className:"space-y-4",children:[Ce.jsxs("div",{children:[Ce.jsx(Cg,{htmlFor:"name",children:"Plan Name"}),Ce.jsx(fg,{id:"name",value:l.name,onChange:e=>c({...l,name:e.target.value}),required:!0})]}),Ce.jsxs("div",{children:[Ce.jsx(Cg,{htmlFor:"description",children:"Description"}),Ce.jsx(Tg,{id:"description",value:l.description,onChange:e=>c({...l,description:e.target.value}),rows:2})]}),Ce.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[Ce.jsxs("div",{children:[Ce.jsx(Cg,{htmlFor:"price",children:"Price ($)"}),Ce.jsx(fg,{id:"price",type:"number",step:"0.01",value:l.price,onChange:e=>c({...l,price:parseFloat(e.target.value)}),required:!0})]}),Ce.jsxs("div",{children:[Ce.jsx(Cg,{htmlFor:"duration",children:"Duration (weeks)"}),Ce.jsx(fg,{id:"duration",type:"number",value:l.duration_weeks,onChange:e=>c({...l,duration_weeks:parseInt(e.target.value)})})]})]}),Ce.jsxs("div",{children:[Ce.jsx(Cg,{htmlFor:"plan_type",children:"Plan Type"}),Ce.jsxs(Rg,{value:l.plan_type,onValueChange:e=>c({...l,plan_type:e}),children:[Ce.jsx(Ag,{children:Ce.jsx(Og,{})}),Ce.jsxs(Mg,{children:[Ce.jsx($g,{value:"student",children:"Student"}),Ce.jsx($g,{value:"school",children:"School"}),Ce.jsx($g,{value:"both",children:"Both"})]})]})]}),Ce.jsxs("div",{children:[Ce.jsx(Cg,{htmlFor:"features",children:"Features (one per line)"}),Ce.jsx(Tg,{id:"features",value:l.features,onChange:e=>c({...l,features:e.target.value}),rows:6,placeholder:"Weekly counseling sessions\nPet therapy access\nProgress tracking"})]}),Ce.jsxs("div",{children:[Ce.jsx(Cg,{htmlFor:"contact_message",children:"Contact Form Message (Optional)"}),Ce.jsx(Tg,{id:"contact_message",value:l.contact_message,onChange:e=>c({...l,contact_message:e.target.value}),rows:3,placeholder:"Custom message that will appear in the contact form when users click to book this plan..."}),Ce.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"This message will pre-fill the contact form when students/schools click to book this plan"})]}),Ce.jsxs("div",{children:[Ce.jsx(Cg,{htmlFor:"display_order",children:"Display Order"}),Ce.jsx(fg,{id:"display_order",type:"number",value:l.display_order,onChange:e=>c({...l,display_order:parseInt(e.target.value)})})]}),Ce.jsxs("div",{className:"flex items-center gap-2",children:[Ce.jsx("input",{type:"checkbox",id:"is_active",checked:l.is_active,onChange:e=>c({...l,is_active:e.target.checked}),className:"h-4 w-4"}),Ce.jsx(Cg,{htmlFor:"is_active",children:"Active (visible to users)"})]}),Ce.jsxs(Uo,{type:"submit",className:"w-full",children:[i?"Update":"Add"," Plan"]})]})]})]})]}),0===e.length?Ce.jsx(Fo,{children:Ce.jsx(Wo,{className:"py-8 text-center text-muted-foreground",children:"No plans yet. Add your first one!"})}):Ce.jsx("div",{className:"grid gap-4",children:e.map(e=>Ce.jsxs(Fo,{className:"hover:shadow-md transition-shadow",children:[Ce.jsx(Bo,{children:Ce.jsxs("div",{className:"flex justify-between items-start",children:[Ce.jsxs("div",{children:[Ce.jsx(qo,{className:"text-lg",children:e.name}),Ce.jsxs("div",{className:"flex gap-2 mt-2",children:[Ce.jsx(_x,{children:e.plan_type}),e.is_active?Ce.jsx(_x,{variant:"secondary",children:"Active"}):Ce.jsx(_x,{variant:"outline",children:"Inactive"}),Ce.jsxs(_x,{variant:"outline",children:["Order: ",e.display_order]})]})]}),Ce.jsxs("div",{className:"flex gap-2",children:[Ce.jsx(Uo,{size:"sm",variant:"outline",onClick:()=>(e=>{o(e.id),c({name:e.name,description:e.description||"",price:e.price,duration_weeks:e.duration_weeks||4,features:Array.isArray(e.features)?e.features.join("\n"):"",plan_type:e.plan_type,is_active:e.is_active,display_order:e.display_order,contact_message:e.contact_message||""}),a(!0)})(e),children:"Edit"}),Ce.jsx(Uo,{size:"sm",variant:"destructive",onClick:()=>(async e=>{if(confirm("Are you sure you want to delete this plan?"))try{const{error:t}=await ah.from("plans").delete().eq("id",e);if(t)throw t;d({title:"Success",description:"Plan deleted"}),h(),u.invalidateQueries({queryKey:["student-plan"]}),u.invalidateQueries({queryKey:["school-plans"]})}catch(t){d({title:"Error",description:t.message,variant:"destructive"})}})(e.id),children:Ce.jsx(On,{className:"h-4 w-4"})})]})]})}),Ce.jsx(Wo,{children:Ce.jsxs("div",{className:"space-y-3",children:[Ce.jsxs("div",{className:"flex items-center gap-2",children:[Ce.jsx(dn,{className:"h-5 w-5 text-primary"}),Ce.jsxs("span",{className:"text-2xl font-bold",children:["$",e.price]}),e.duration_weeks&&Ce.jsxs("span",{className:"text-sm text-muted-foreground",children:["/ ",e.duration_weeks," weeks"]})]}),e.description&&Ce.jsx("p",{className:"text-sm text-muted-foreground",children:e.description}),Array.isArray(e.features)&&e.features.length>0&&Ce.jsxs("div",{children:[Ce.jsx("p",{className:"text-sm font-semibold mb-2",children:"Features:"}),Ce.jsx("ul",{className:"list-disc list-inside space-y-1",children:e.features.map((e,t)=>Ce.jsx("li",{className:"text-sm",children:e},t))})]})]})})]},e.id))})]})}const Ox=Pt.forwardRef(({className:e,...t},s)=>Ce.jsx("div",{className:"relative w-full overflow-auto",children:Ce.jsx("table",{ref:s,className:Aa("w-full caption-bottom text-sm",e),...t})}));Ox.displayName="Table";const Ax=Pt.forwardRef(({className:e,...t},s)=>Ce.jsx("thead",{ref:s,className:Aa("[&_tr]:border-b",e),...t}));Ax.displayName="TableHeader";const Px=Pt.forwardRef(({className:e,...t},s)=>Ce.jsx("tbody",{ref:s,className:Aa("[&_tr:last-child]:border-0",e),...t}));Px.displayName="TableBody";Pt.forwardRef(({className:e,...t},s)=>Ce.jsx("tfoot",{ref:s,className:Aa("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",e),...t})).displayName="TableFooter";const Ix=Pt.forwardRef(({className:e,...t},s)=>Ce.jsx("tr",{ref:s,className:Aa("border-b transition-colors data-[state=selected]:bg-muted hover:bg-muted/50",e),...t}));Ix.displayName="TableRow";const Mx=Pt.forwardRef(({className:e,...t},s)=>Ce.jsx("th",{ref:s,className:Aa("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",e),...t}));Mx.displayName="TableHead";const $x=Pt.forwardRef(({className:e,...t},s)=>Ce.jsx("td",{ref:s,className:Aa("p-4 align-middle [&:has([role=checkbox])]:pr-0",e),...t}));$x.displayName="TableCell";Pt.forwardRef(({className:e,...t},s)=>Ce.jsx("caption",{ref:s,className:Aa("mt-4 text-sm text-muted-foreground",e),...t})).displayName="TableCaption";var Dx="Switch",[Lx,Ux]=Se(Dx),[Fx,Bx]=Lx(Dx),qx=Pt.forwardRef((e,t)=>{const{__scopeSwitch:s,name:r,checked:n,defaultChecked:a,required:i,disabled:o,value:l="on",onCheckedChange:c,form:d,...u}=e,[h,m]=Pt.useState(null),p=Ee(t,e=>m(e)),f=Pt.useRef(!1),g=!h||(d||!!h.closest("form")),[x,v]=Ae({prop:n,defaultProp:a??!1,onChange:c,caller:Dx});return Ce.jsxs(Fx,{scope:s,checked:x,disabled:o,children:[Ce.jsx(Re.button,{type:"button",role:"switch","aria-checked":x,"aria-required":i,"data-state":Kx(x),"data-disabled":o?"":void 0,disabled:o,value:l,...u,ref:p,onClick:Me(e.onClick,e=>{v(e=>!e),g&&(f.current=e.isPropagationStopped(),f.current||e.stopPropagation())})}),g&&Ce.jsx(Hx,{control:h,bubbles:!f.current,name:r,value:l,checked:x,required:i,disabled:o,form:d,style:{transform:"translateX(-100%)"}})]})});qx.displayName=Dx;var zx="SwitchThumb",Wx=Pt.forwardRef((e,t)=>{const{__scopeSwitch:s,...r}=e,n=Bx(zx,s);return Ce.jsx(Re.span,{"data-state":Kx(n.checked),"data-disabled":n.disabled?"":void 0,...r,ref:t})});Wx.displayName=zx;var Hx=Pt.forwardRef(({__scopeSwitch:e,control:t,checked:s,bubbles:r=!0,...n},a)=>{const i=Pt.useRef(null),o=Ee(i,a),l=ot(s),c=Et(t);return Pt.useEffect(()=>{const e=i.current;if(!e)return;const t=window.HTMLInputElement.prototype,n=Object.getOwnPropertyDescriptor(t,"checked").set;if(l!==s&&n){const t=new Event("click",{bubbles:r});n.call(e,s),e.dispatchEvent(t)}},[l,s,r]),Ce.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:s,...n,tabIndex:-1,ref:o,style:{...n.style,...c,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});function Kx(e){return e?"checked":"unchecked"}Hx.displayName="SwitchBubbleInput";var Vx=qx,Gx=Wx;const Zx=Pt.forwardRef(({className:e,...t},s)=>Ce.jsx(Vx,{className:Aa("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors data-[state=checked]:bg-primary data-[state=unchecked]:bg-input focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50",e),...t,ref:s,children:Ce.jsx(Gx,{className:Aa("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));function Jx(){const[e,t]=Pt.useState([]),[s,r]=Pt.useState(!0),[n,a]=Pt.useState(!1),[i,o]=Pt.useState(null),[l,c]=Pt.useState({title:"",slug:"",content:"",excerpt:"",cover_image_url:null,tags:"",is_published:!1,meta_title:"",meta_description:"",og_title:"",og_description:"",og_image:null}),{toast:d}=Qs();Pt.useEffect(()=>{u()},[]);const u=async()=>{try{const{data:e,error:s}=await ah.from("blog_posts").select("*").order("created_at",{ascending:!1});if(s)throw s;t(e||[])}catch(e){d({title:"Error",description:e.message,variant:"destructive"})}finally{r(!1)}},h=()=>{o(null),c({title:"",slug:"",content:"",excerpt:"",cover_image_url:null,tags:"",is_published:!1,meta_title:"",meta_description:"",og_title:"",og_description:"",og_image:null})};return s?Ce.jsx("div",{className:"flex justify-center p-8",children:"Loading..."}):Ce.jsxs("div",{className:"space-y-4",children:[Ce.jsxs("div",{className:"flex justify-between items-center",children:[Ce.jsx("h2",{className:"text-2xl font-bold",children:"Blog Posts"}),Ce.jsxs(oh,{open:n,onOpenChange:a,children:[Ce.jsx(lh,{asChild:!0,children:Ce.jsxs(Uo,{onClick:h,children:[Ce.jsx(Cn,{className:"mr-2 h-4 w-4"}),"Add Blog Post"]})}),Ce.jsxs(uh,{className:"max-w-3xl max-h-[90vh] overflow-y-auto",children:[Ce.jsx(hh,{children:Ce.jsx(mh,{children:i?"Edit Blog Post":"Add New Blog Post"})}),Ce.jsxs("form",{onSubmit:async e=>{e.preventDefault();try{const e={...l,slug:l.slug||(t=l.title,t.toLowerCase().replace(/[^a-z0-9]+/g,"-").replace(/^-|-$/g,"")),tags:l.tags?l.tags.split(",").map(e=>e.trim()):[],published_at:l.is_published?(new Date).toISOString():null};if(i){const{error:t}=await ah.from("blog_posts").update(e).eq("id",i.id);if(t)throw t;d({title:"Success",description:"Blog post updated"})}else{const{error:t}=await ah.from("blog_posts").insert([e]);if(t)throw t;d({title:"Success",description:"Blog post created"})}u(),a(!1),h()}catch(s){d({title:"Error",description:s.message,variant:"destructive"})}var t},className:"space-y-4",children:[Ce.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[Ce.jsxs("div",{children:[Ce.jsx(Cg,{children:"Title (Max 60 chars)"}),Ce.jsx(fg,{value:l.title,onChange:e=>c({...l,title:e.target.value}),maxLength:60,required:!0}),Ce.jsxs("span",{className:"text-xs text-muted-foreground",children:[l.title.length,"/60"]})]}),Ce.jsxs("div",{children:[Ce.jsx(Cg,{children:"Slug (URL)"}),Ce.jsx(fg,{value:l.slug,onChange:e=>c({...l,slug:e.target.value}),placeholder:"auto-generated"})]})]}),Ce.jsxs("div",{children:[Ce.jsx(Cg,{children:"Excerpt (Max 200 chars)"}),Ce.jsx(Tg,{value:l.excerpt,onChange:e=>c({...l,excerpt:e.target.value}),maxLength:200,rows:2}),Ce.jsxs("span",{className:"text-xs text-muted-foreground",children:[l.excerpt.length,"/200"]})]}),Ce.jsxs("div",{children:[Ce.jsx(Cg,{children:"Content"}),Ce.jsx(Tg,{value:l.content,onChange:e=>c({...l,content:e.target.value}),rows:10,required:!0})]}),Ce.jsx(Sx,{bucket:"blog-images",currentUrl:l.cover_image_url,onUploadComplete:e=>c({...l,cover_image_url:e}),onRemove:()=>c({...l,cover_image_url:null}),label:"Cover Image"}),Ce.jsxs("div",{children:[Ce.jsx(Cg,{children:"Tags (comma-separated)"}),Ce.jsx(fg,{value:l.tags,onChange:e=>c({...l,tags:e.target.value}),placeholder:"wellness, mental health, tips"})]}),Ce.jsxs("div",{className:"flex items-center space-x-2",children:[Ce.jsx(Zx,{checked:l.is_published,onCheckedChange:e=>c({...l,is_published:e})}),Ce.jsx(Cg,{children:"Published"})]}),Ce.jsxs("div",{className:"border-t pt-4 mt-4",children:[Ce.jsx("h3",{className:"font-semibold mb-3",children:"SEO Metadata"}),Ce.jsxs("div",{className:"space-y-3",children:[Ce.jsxs("div",{children:[Ce.jsx(Cg,{children:"Meta Title (Max 60 chars)"}),Ce.jsx(fg,{value:l.meta_title,onChange:e=>c({...l,meta_title:e.target.value}),maxLength:60})]}),Ce.jsxs("div",{children:[Ce.jsx(Cg,{children:"Meta Description (Max 160 chars)"}),Ce.jsx(Tg,{value:l.meta_description,onChange:e=>c({...l,meta_description:e.target.value}),maxLength:160,rows:2})]}),Ce.jsxs("div",{children:[Ce.jsx(Cg,{children:"OG Title"}),Ce.jsx(fg,{value:l.og_title,onChange:e=>c({...l,og_title:e.target.value}),maxLength:60})]}),Ce.jsxs("div",{children:[Ce.jsx(Cg,{children:"OG Description"}),Ce.jsx(Tg,{value:l.og_description,onChange:e=>c({...l,og_description:e.target.value}),maxLength:160,rows:2})]}),Ce.jsx(Sx,{bucket:"blog-images",currentUrl:l.og_image,onUploadComplete:e=>c({...l,og_image:e}),onRemove:()=>c({...l,og_image:null}),label:"OG Image (1200x630px)"})]})]}),Ce.jsxs("div",{className:"flex justify-end gap-2",children:[Ce.jsx(Uo,{type:"button",variant:"outline",onClick:()=>a(!1),children:"Cancel"}),Ce.jsx(Uo,{type:"submit",children:i?"Update":"Create"})]})]})]})]})]}),Ce.jsxs(Ox,{children:[Ce.jsx(Ax,{children:Ce.jsxs(Ix,{children:[Ce.jsx(Mx,{children:"Title"}),Ce.jsx(Mx,{children:"Slug"}),Ce.jsx(Mx,{children:"Status"}),Ce.jsx(Mx,{children:"Published"}),Ce.jsx(Mx,{className:"text-right",children:"Actions"})]})}),Ce.jsx(Px,{children:e.map(e=>Ce.jsxs(Ix,{children:[Ce.jsx($x,{className:"font-medium",children:e.title}),Ce.jsx($x,{className:"text-sm text-muted-foreground",children:e.slug}),Ce.jsx($x,{children:Ce.jsx("span",{className:"px-2 py-1 rounded text-xs "+(e.is_published?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"),children:e.is_published?"Published":"Draft"})}),Ce.jsx($x,{className:"text-sm",children:e.published_at?new Date(e.published_at).toLocaleDateString():"-"}),Ce.jsx($x,{className:"text-right",children:Ce.jsxs("div",{className:"flex justify-end gap-2",children:[Ce.jsx(Uo,{size:"icon",variant:"ghost",onClick:()=>(e=>{var t;o(e),c({title:e.title,slug:e.slug,content:e.content,excerpt:e.excerpt||"",cover_image_url:e.cover_image_url,tags:(null==(t=e.tags)?void 0:t.join(", "))||"",is_published:e.is_published,meta_title:e.meta_title||"",meta_description:e.meta_description||"",og_title:e.og_title||"",og_description:e.og_description||"",og_image:e.og_image}),a(!0)})(e),children:Ce.jsx(Sn,{className:"h-4 w-4"})}),Ce.jsx(Uo,{size:"icon",variant:"ghost",onClick:()=>(async e=>{if(confirm("Are you sure you want to delete this blog post?"))try{const{error:t}=await ah.from("blog_posts").delete().eq("id",e);if(t)throw t;d({title:"Success",description:"Blog post deleted"}),u()}catch(t){d({title:"Error",description:t.message,variant:"destructive"})}})(e.id),children:Ce.jsx(On,{className:"h-4 w-4"})})]})})]},e.id))})]})]})}function Yx(){const[e,t]=Pt.useState([]),[s,r]=Pt.useState(!0),[n,a]=Pt.useState(!1),[i,o]=Pt.useState(null),[l,c]=Pt.useState({title:"",alt_text:"",image_url:null,collection:"",display_order:0,is_active:!0}),{toast:d}=Qs();Pt.useEffect(()=>{u()},[]);const u=async()=>{try{const{data:e,error:s}=await ah.from("gallery_items").select("*").order("display_order",{ascending:!0});if(s)throw s;t(e||[])}catch(e){d({title:"Error",description:e.message,variant:"destructive"})}finally{r(!1)}},h=()=>{o(null),c({title:"",alt_text:"",image_url:null,collection:"",display_order:0,is_active:!0})};return s?Ce.jsx("div",{className:"flex justify-center p-8",children:"Loading..."}):Ce.jsxs("div",{className:"space-y-4",children:[Ce.jsxs("div",{className:"flex justify-between items-center",children:[Ce.jsx("h2",{className:"text-2xl font-bold",children:"Gallery"}),Ce.jsxs(oh,{open:n,onOpenChange:a,children:[Ce.jsx(lh,{asChild:!0,children:Ce.jsxs(Uo,{onClick:h,children:[Ce.jsx(Cn,{className:"mr-2 h-4 w-4"}),"Add Gallery Item"]})}),Ce.jsxs(uh,{children:[Ce.jsx(hh,{children:Ce.jsx(mh,{children:i?"Edit Gallery Item":"Add New Gallery Item"})}),Ce.jsxs("form",{onSubmit:async e=>{if(e.preventDefault(),l.image_url)try{if(i){const{error:e}=await ah.from("gallery_items").update(l).eq("id",i.id);if(e)throw e;d({title:"Success",description:"Gallery item updated"})}else{const{error:e}=await ah.from("gallery_items").insert([l]);if(e)throw e;d({title:"Success",description:"Gallery item added"})}u(),a(!1),h()}catch(t){d({title:"Error",description:t.message,variant:"destructive"})}else d({title:"Error",description:"Please upload an image",variant:"destructive"})},className:"space-y-4",children:[Ce.jsxs("div",{children:[Ce.jsx(Cg,{children:"Title (Max 100 chars)"}),Ce.jsx(fg,{value:l.title,onChange:e=>c({...l,title:e.target.value}),maxLength:100,required:!0})]}),Ce.jsxs("div",{children:[Ce.jsx(Cg,{children:"Alt Text (Max 150 chars)"}),Ce.jsx(fg,{value:l.alt_text,onChange:e=>c({...l,alt_text:e.target.value}),maxLength:150,required:!0})]}),Ce.jsx(Sx,{bucket:"gallery-images",currentUrl:l.image_url,onUploadComplete:e=>c({...l,image_url:e}),onRemove:()=>c({...l,image_url:null}),label:"Gallery Image"}),Ce.jsxs("div",{children:[Ce.jsx(Cg,{children:"Collection (Optional)"}),Ce.jsx(fg,{value:l.collection,onChange:e=>c({...l,collection:e.target.value}),placeholder:"e.g., Events, Activities"})]}),Ce.jsxs("div",{children:[Ce.jsx(Cg,{children:"Display Order"}),Ce.jsx(fg,{type:"number",value:l.display_order,onChange:e=>c({...l,display_order:parseInt(e.target.value)||0})})]}),Ce.jsxs("div",{className:"flex items-center space-x-2",children:[Ce.jsx(Zx,{checked:l.is_active,onCheckedChange:e=>c({...l,is_active:e})}),Ce.jsx(Cg,{children:"Active"})]}),Ce.jsxs("div",{className:"flex justify-end gap-2",children:[Ce.jsx(Uo,{type:"button",variant:"outline",onClick:()=>a(!1),children:"Cancel"}),Ce.jsx(Uo,{type:"submit",children:i?"Update":"Create"})]})]})]})]})]}),Ce.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4",children:e.map(e=>Ce.jsxs("div",{className:"relative group",children:[Ce.jsx("img",{src:e.image_url,alt:e.alt_text,className:"w-full h-48 object-cover rounded-lg"}),Ce.jsxs("div",{className:"absolute inset-0 bg-black/50 opacity-0 group-hover:opacity-100 transition-opacity rounded-lg flex items-center justify-center gap-2",children:[Ce.jsx(Uo,{size:"icon",variant:"secondary",onClick:()=>(e=>{o(e),c({title:e.title,alt_text:e.alt_text,image_url:e.image_url,collection:e.collection||"",display_order:e.display_order,is_active:e.is_active}),a(!0)})(e),children:Ce.jsx(Sn,{className:"h-4 w-4"})}),Ce.jsx(Uo,{size:"icon",variant:"destructive",onClick:()=>(async e=>{if(confirm("Are you sure you want to delete this gallery item?"))try{const{error:t}=await ah.from("gallery_items").delete().eq("id",e);if(t)throw t;d({title:"Success",description:"Gallery item deleted"}),u()}catch(t){d({title:"Error",description:t.message,variant:"destructive"})}})(e.id),children:Ce.jsx(On,{className:"h-4 w-4"})})]}),Ce.jsx("p",{className:"mt-2 text-sm font-medium",children:e.title}),e.collection&&Ce.jsx("p",{className:"text-xs text-muted-foreground",children:e.collection})]},e.id))})]})}function Qx(){const[e,t]=Pt.useState([]),[s,r]=Pt.useState(!0),[n,a]=Pt.useState(""),{toast:i}=Qs();Pt.useEffect(()=>{o()},[]);const o=async()=>{try{const{data:e,error:s}=await ah.from("newsletter_subscriptions").select("*").order("subscribed_at",{ascending:!1});if(s)throw s;t(e||[])}catch(e){i({title:"Error",description:e.message,variant:"destructive"})}finally{r(!1)}},l=e.filter(e=>e.email.toLowerCase().includes(n.toLowerCase()));return s?Ce.jsx("div",{className:"flex justify-center p-8",children:"Loading..."}):Ce.jsxs("div",{className:"space-y-4",children:[Ce.jsxs("div",{className:"flex justify-between items-center",children:[Ce.jsx("h2",{className:"text-2xl font-bold",children:"Newsletter Subscribers"}),Ce.jsx("button",{onClick:()=>{const e=[["Email","Status","Subscribed At","IP Address"],...l.map(e=>[e.email,e.status,new Date(e.subscribed_at).toLocaleString(),e.ip_address||"N/A"])].map(e=>e.join(",")).join("\n"),t=new Blob([e],{type:"text/csv"}),s=window.URL.createObjectURL(t),r=document.createElement("a");r.href=s,r.download=`newsletter-subscribers-${(new Date).toISOString().split("T")[0]}.csv`,r.click()},className:"px-4 py-2 bg-primary text-primary-foreground rounded-md hover:bg-primary/90",children:"Export to CSV"})]}),Ce.jsx(fg,{placeholder:"Search by email...",value:n,onChange:e=>a(e.target.value),className:"max-w-md"}),Ce.jsxs("div",{className:"text-sm text-muted-foreground",children:["Total subscribers: ",l.length]}),Ce.jsxs(Ox,{children:[Ce.jsx(Ax,{children:Ce.jsxs(Ix,{children:[Ce.jsx(Mx,{children:"Email"}),Ce.jsx(Mx,{children:"Status"}),Ce.jsx(Mx,{children:"Subscribed At"}),Ce.jsx(Mx,{children:"IP Address"})]})}),Ce.jsx(Px,{children:l.map(e=>Ce.jsxs(Ix,{children:[Ce.jsx($x,{className:"font-medium",children:e.email}),Ce.jsx($x,{children:Ce.jsx("span",{className:"px-2 py-1 rounded text-xs "+("active"===e.status?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"),children:e.status})}),Ce.jsx($x,{children:new Date(e.subscribed_at).toLocaleString()}),Ce.jsx($x,{className:"text-sm text-muted-foreground",children:e.ip_address||"N/A"})]},e.id))})]})]})}function Xx(){const[e,t]=Pt.useState([]),[s,r]=Pt.useState(!0),[n,a]=Pt.useState(!1),[i,o]=Pt.useState(null),[l,c]=Pt.useState({page_path:"",meta_title:"",meta_description:"",og_title:"",og_description:"",og_image:null,canonical_url:"",robots:"index, follow"}),{toast:d}=Qs();Pt.useEffect(()=>{u()},[]);const u=async()=>{try{const{data:e,error:s}=await ah.from("page_metadata").select("*").order("page_path",{ascending:!0});if(s)throw s;t(e||[])}catch(e){d({title:"Error",description:e.message,variant:"destructive"})}finally{r(!1)}},h=()=>{o(null),c({page_path:"",meta_title:"",meta_description:"",og_title:"",og_description:"",og_image:null,canonical_url:"",robots:"index, follow"})};return s?Ce.jsx("div",{className:"flex justify-center p-8",children:"Loading..."}):Ce.jsxs("div",{className:"space-y-4",children:[Ce.jsxs("div",{className:"flex justify-between items-center",children:[Ce.jsx("h2",{className:"text-2xl font-bold",children:"SEO & Page Metadata"}),Ce.jsxs(oh,{open:n,onOpenChange:a,children:[Ce.jsx(lh,{asChild:!0,children:Ce.jsxs(Uo,{onClick:h,children:[Ce.jsx(Cn,{className:"mr-2 h-4 w-4"}),"Add Page Metadata"]})}),Ce.jsxs(uh,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[Ce.jsx(hh,{children:Ce.jsx(mh,{children:i?"Edit Page Metadata":"Add Page Metadata"})}),Ce.jsxs("form",{onSubmit:async e=>{e.preventDefault();try{if(i){const{error:e}=await ah.from("page_metadata").update(l).eq("id",i.id);if(e)throw e;d({title:"Success",description:"Page metadata updated"})}else{const{error:e}=await ah.from("page_metadata").insert([l]);if(e)throw e;d({title:"Success",description:"Page metadata added"})}u(),a(!1),h()}catch(t){d({title:"Error",description:t.message,variant:"destructive"})}},className:"space-y-4",children:[Ce.jsxs("div",{children:[Ce.jsx(Cg,{children:"Page Path"}),Ce.jsx(fg,{value:l.page_path,onChange:e=>c({...l,page_path:e.target.value}),placeholder:"/about, /contact, etc.",required:!0,disabled:!!i})]}),Ce.jsxs("div",{children:[Ce.jsx(Cg,{children:"Meta Title (Max 60 chars)"}),Ce.jsx(fg,{value:l.meta_title,onChange:e=>c({...l,meta_title:e.target.value}),maxLength:60}),Ce.jsxs("span",{className:"text-xs text-muted-foreground",children:[l.meta_title.length,"/60"]})]}),Ce.jsxs("div",{children:[Ce.jsx(Cg,{children:"Meta Description (Max 160 chars)"}),Ce.jsx(Tg,{value:l.meta_description,onChange:e=>c({...l,meta_description:e.target.value}),maxLength:160,rows:3}),Ce.jsxs("span",{className:"text-xs text-muted-foreground",children:[l.meta_description.length,"/160"]})]}),Ce.jsxs("div",{children:[Ce.jsx(Cg,{children:"OG Title"}),Ce.jsx(fg,{value:l.og_title,onChange:e=>c({...l,og_title:e.target.value}),maxLength:60})]}),Ce.jsxs("div",{children:[Ce.jsx(Cg,{children:"OG Description"}),Ce.jsx(Tg,{value:l.og_description,onChange:e=>c({...l,og_description:e.target.value}),maxLength:160,rows:3})]}),Ce.jsx(Sx,{bucket:"resource-files",currentUrl:l.og_image,onUploadComplete:e=>c({...l,og_image:e}),onRemove:()=>c({...l,og_image:null}),label:"OG Image (1200x630px recommended)"}),Ce.jsxs("div",{children:[Ce.jsx(Cg,{children:"Canonical URL"}),Ce.jsx(fg,{value:l.canonical_url,onChange:e=>c({...l,canonical_url:e.target.value}),placeholder:"https://example.com/page"})]}),Ce.jsxs("div",{children:[Ce.jsx(Cg,{children:"Robots"}),Ce.jsx(fg,{value:l.robots,onChange:e=>c({...l,robots:e.target.value}),placeholder:"index, follow"})]}),Ce.jsxs("div",{className:"flex justify-end gap-2",children:[Ce.jsx(Uo,{type:"button",variant:"outline",onClick:()=>a(!1),children:"Cancel"}),Ce.jsx(Uo,{type:"submit",children:i?"Update":"Create"})]})]})]})]})]}),Ce.jsxs(Ox,{children:[Ce.jsx(Ax,{children:Ce.jsxs(Ix,{children:[Ce.jsx(Mx,{children:"Page Path"}),Ce.jsx(Mx,{children:"Meta Title"}),Ce.jsx(Mx,{children:"Meta Description"}),Ce.jsx(Mx,{className:"text-right",children:"Actions"})]})}),Ce.jsx(Px,{children:e.map(e=>Ce.jsxs(Ix,{children:[Ce.jsx($x,{className:"font-medium",children:e.page_path}),Ce.jsx($x,{className:"text-sm",children:e.meta_title||"-"}),Ce.jsx($x,{className:"text-sm max-w-md truncate",children:e.meta_description||"-"}),Ce.jsx($x,{className:"text-right",children:Ce.jsx(Uo,{size:"icon",variant:"ghost",onClick:()=>(e=>{o(e),c({page_path:e.page_path,meta_title:e.meta_title||"",meta_description:e.meta_description||"",og_title:e.og_title||"",og_description:e.og_description||"",og_image:e.og_image,canonical_url:e.canonical_url||"",robots:e.robots||"index, follow"}),a(!0)})(e),children:Ce.jsx(Sn,{className:"h-4 w-4"})})})]},e.id))})]})]})}function ev(){const{toast:e}=Qs(),[t,s]=Pt.useState(!1),[r,n]=Pt.useState(null),[a,i]=Pt.useState(""),[o,l]=Pt.useState(""),[c,d]=Pt.useState(""),[u,h]=Pt.useState(!1);Pt.useEffect(()=>{m()},[]);const m=async()=>{try{const{data:e,error:t}=await ah.from("announcements").select("*").order("created_at",{ascending:!1}).limit(1).maybeSingle();if(t)throw t;e&&(n(e),i(e.title),l(e.message),d(e.image_url||""),h(!!e.is_active))}catch(e){}};return Ce.jsxs(Fo,{children:[Ce.jsx(Bo,{children:Ce.jsx(qo,{children:"Site Announcement"})}),Ce.jsxs(Wo,{className:"space-y-6",children:[Ce.jsxs("div",{className:"space-y-2",children:[Ce.jsx(Cg,{htmlFor:"title",children:"Title"}),Ce.jsx(fg,{id:"title",value:a,onChange:e=>i(e.target.value),placeholder:"Announcement title"})]}),Ce.jsxs("div",{className:"space-y-2",children:[Ce.jsx(Cg,{htmlFor:"message",children:"Message"}),Ce.jsx(Tg,{id:"message",value:o,onChange:e=>l(e.target.value),placeholder:"Announcement message",rows:5})]}),Ce.jsxs("div",{className:"space-y-2",children:[Ce.jsx(Cg,{children:"Banner Image (Optional)"}),Ce.jsx(Sx,{bucket:"gallery-images",onUploadComplete:e=>d(e),currentUrl:c})]}),Ce.jsxs("div",{className:"flex items-center space-x-2",children:[Ce.jsx(Zx,{id:"is-active",checked:u,onCheckedChange:h}),Ce.jsx(Cg,{htmlFor:"is-active",children:u?"Announcement is Active":"Announcement is Inactive"})]}),Ce.jsxs(Uo,{onClick:async()=>{if(a.trim()&&o.trim()){s(!0);try{const t={title:a.trim(),message:o.trim(),image_url:c||null,is_active:u};if(r){const{error:e}=await ah.from("announcements").update(t).eq("id",r.id);if(e)throw e}else{const{error:e}=await ah.from("announcements").insert([t]);if(e)throw e}e({title:"Success",description:"Announcement saved successfully"}),m()}catch(t){e({title:"Error",description:"Failed to save announcement",variant:"destructive"})}finally{s(!1)}}else e({title:"Error",description:"Title and message are required",variant:"destructive"})},disabled:t,children:[t&&Ce.jsx(jn,{className:"mr-2 h-4 w-4 animate-spin"}),"Save Announcement"]})]})]})}Zx.displayName=Vx.displayName;var tv="AlertDialog",[sv,rv]=Se(tv,[Ct]),nv=Ct(),av=e=>{const{__scopeAlertDialog:t,...s}=e,r=nv(t);return Ce.jsx(rt,{...r,...s,modal:!0})};av.displayName=tv;Pt.forwardRef((e,t)=>{const{__scopeAlertDialog:s,...r}=e,n=nv(s);return Ce.jsx(nt,{...n,...r,ref:t})}).displayName="AlertDialogTrigger";var iv=e=>{const{__scopeAlertDialog:t,...s}=e,r=nv(t);return Ce.jsx(st,{...r,...s})};iv.displayName="AlertDialogPortal";var ov=Pt.forwardRef((e,t)=>{const{__scopeAlertDialog:s,...r}=e,n=nv(s);return Ce.jsx(Ye,{...n,...r,ref:t})});ov.displayName="AlertDialogOverlay";var lv="AlertDialogContent",[cv,dv]=sv(lv),uv=Ke("AlertDialogContent"),hv=Pt.forwardRef((e,t)=>{const{__scopeAlertDialog:s,children:r,...n}=e,a=nv(s),i=Pt.useRef(null),o=Ee(t,i),l=Pt.useRef(null);return Ce.jsx(Tt,{contentName:lv,titleName:mv,docsSlug:"alert-dialog",children:Ce.jsx(cv,{scope:s,cancelRef:l,children:Ce.jsxs(Qe,{role:"alertdialog",...a,...n,ref:o,onOpenAutoFocus:Me(n.onOpenAutoFocus,e=>{var t;e.preventDefault(),null==(t=l.current)||t.focus({preventScroll:!0})}),onPointerDownOutside:e=>e.preventDefault(),onInteractOutside:e=>e.preventDefault(),children:[Ce.jsx(uv,{children:r}),Ce.jsx(bv,{contentRef:i})]})})})});hv.displayName=lv;var mv="AlertDialogTitle",pv=Pt.forwardRef((e,t)=>{const{__scopeAlertDialog:s,...r}=e,n=nv(s);return Ce.jsx(et,{...n,...r,ref:t})});pv.displayName=mv;var fv="AlertDialogDescription",gv=Pt.forwardRef((e,t)=>{const{__scopeAlertDialog:s,...r}=e,n=nv(s);return Ce.jsx(tt,{...n,...r,ref:t})});gv.displayName=fv;var xv=Pt.forwardRef((e,t)=>{const{__scopeAlertDialog:s,...r}=e,n=nv(s);return Ce.jsx(Xe,{...n,...r,ref:t})});xv.displayName="AlertDialogAction";var vv="AlertDialogCancel",yv=Pt.forwardRef((e,t)=>{const{__scopeAlertDialog:s,...r}=e,{cancelRef:n}=dv(vv,s),a=nv(s),i=Ee(t,n);return Ce.jsx(Xe,{...a,...r,ref:i})});yv.displayName=vv;var bv=({contentRef:e})=>{const t=`\`${lv}\` requires a description for the component to be accessible for screen reader users.\n\nYou can add a description to the \`${lv}\` by passing a \`${fv}\` component as a child, which also benefits sighted users by adding visible context to the dialog.\n\nAlternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${lv}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.\n\nFor more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return Pt.useEffect(()=>{var t;document.getElementById(null==(t=e.current)?void 0:t.getAttribute("aria-describedby"))},[t,e]),null},wv=ov,jv=hv,_v=xv,Nv=yv,kv=pv,Sv=gv;const Ev=av,Cv=iv,Tv=Pt.forwardRef(({className:e,...t},s)=>Ce.jsx(wv,{className:Aa("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t,ref:s}));Tv.displayName=wv.displayName;const Rv=Pt.forwardRef(({className:e,...t},s)=>Ce.jsxs(Cv,{children:[Ce.jsx(Tv,{}),Ce.jsx(jv,{ref:s,className:Aa("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...t})]}));Rv.displayName=jv.displayName;const Ov=({className:e,...t})=>Ce.jsx("div",{className:Aa("flex flex-col space-y-2 text-center sm:text-left",e),...t});Ov.displayName="AlertDialogHeader";const Av=({className:e,...t})=>Ce.jsx("div",{className:Aa("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});Av.displayName="AlertDialogFooter";const Pv=Pt.forwardRef(({className:e,...t},s)=>Ce.jsx(kv,{ref:s,className:Aa("text-lg font-semibold",e),...t}));Pv.displayName=kv.displayName;const Iv=Pt.forwardRef(({className:e,...t},s)=>Ce.jsx(Sv,{ref:s,className:Aa("text-sm text-muted-foreground",e),...t}));Iv.displayName=Sv.displayName;const Mv=Pt.forwardRef(({className:e,...t},s)=>Ce.jsx(_v,{ref:s,className:Aa(Lo(),e),...t}));Mv.displayName=_v.displayName;const $v=Pt.forwardRef(({className:e,...t},s)=>Ce.jsx(Nv,{ref:s,className:Aa(Lo({variant:"outline"}),"mt-2 sm:mt-0",e),...t}));$v.displayName=Nv.displayName;const Dv=3e5;function Lv(){const e=$t(),{toast:t}=Qs(),[s,r]=Pt.useState(null),[n,a]=Pt.useState(!1),[i,o]=Pt.useState(!0),l=(()=>{const e=$t(),{toast:t}=Qs(),s=Pt.useRef(),r=Pt.useRef(),[n,a]=Pt.useState(!1),i=async()=>{const{data:{session:s}}=await ah.auth.getSession();s&&(await ah.auth.signOut(),t({title:"Signed out",description:"You've been automatically signed out due to inactivity"}),e("/auth"))},o=()=>{s.current&&clearTimeout(s.current),r.current&&clearTimeout(r.current),a(!1),r.current=setTimeout(()=>{a(!0)},18e4),s.current=setTimeout(i,Dv)};return Pt.useEffect(()=>{const e=["mousedown","mousemove","keypress","scroll","touchstart","click"];return e.forEach(e=>{document.addEventListener(e,o)}),o(),()=>{s.current&&clearTimeout(s.current),r.current&&clearTimeout(r.current),e.forEach(e=>{document.removeEventListener(e,o)})}},[]),Ce.jsx(Ev,{open:n,onOpenChange:a,children:Ce.jsxs(Rv,{children:[Ce.jsxs(Ov,{children:[Ce.jsx(Pv,{children:"Session Expiring Soon"}),Ce.jsx(Iv,{children:"Your session will expire in 2 minutes due to inactivity. Would you like to extend your session?"})]}),Ce.jsxs(Av,{children:[Ce.jsx($v,{onClick:i,children:"Sign Out Now"}),Ce.jsx(Mv,{onClick:()=>{a(!1),o(),t({title:"Session extended",description:"Your session has been extended"})},children:"Extend Session"})]})]})})})();Pt.useEffect(()=>{c()},[]);const c=async()=>{try{const{data:{user:s}}=await ah.auth.getUser();if(!s)return t({title:"Access Denied",description:"Please log in to access the admin panel.",variant:"destructive"}),void e("/auth");r(s);const{data:n,error:i}=await ah.rpc("has_role",{_user_id:s.id,_role:"admin"});if(i)throw i;if(!n)return t({title:"Access Denied",description:"You don't have admin privileges.",variant:"destructive"}),void e("/");a(!0)}catch(s){e("/auth")}finally{o(!1)}};return i?Ce.jsx("div",{className:"min-h-screen flex items-center justify-center",children:Ce.jsxs("div",{className:"text-center",children:[Ce.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary mx-auto mb-4"}),Ce.jsx("p",{className:"text-muted-foreground",children:"Loading admin panel..."})]})}):n?Ce.jsxs("div",{className:"min-h-screen flex flex-col",children:[l,Ce.jsx(jp,{}),Ce.jsxs("main",{className:"flex-1 container mx-auto px-4 py-8",children:[Ce.jsxs("div",{className:"mb-8",children:[Ce.jsx("h1",{className:"text-4xl font-bold text-foreground mb-2",children:"Admin Panel"}),Ce.jsx("p",{className:"text-muted-foreground",children:"Manage your Happy Space World content"})]}),Ce.jsxs(vg,{defaultValue:"contacts",className:"w-full",children:[Ce.jsxs(yg,{className:"grid w-full grid-cols-10 mb-8",children:[Ce.jsx(bg,{value:"contacts",children:"Contacts"}),Ce.jsx(bg,{value:"bookings",children:"Bookings"}),Ce.jsx(bg,{value:"testimonials",children:"Testimonials"}),Ce.jsx(bg,{value:"resources",children:"Resources"}),Ce.jsx(bg,{value:"plans",children:"Plans"}),Ce.jsx(bg,{value:"blog",children:"Blog"}),Ce.jsx(bg,{value:"gallery",children:"Gallery"}),Ce.jsx(bg,{value:"newsletter",children:"Newsletter"}),Ce.jsx(bg,{value:"seo",children:"SEO"}),Ce.jsx(bg,{value:"announcements",children:"Announcements"})]}),Ce.jsx(wg,{value:"contacts",children:Ce.jsx(Nx,{})}),Ce.jsx(wg,{value:"bookings",children:Ce.jsx(kx,{})}),Ce.jsx(wg,{value:"testimonials",children:Ce.jsx(Ex,{})}),Ce.jsx(wg,{value:"resources",children:Ce.jsx(Tx,{})}),Ce.jsx(wg,{value:"plans",children:Ce.jsx(Rx,{})}),Ce.jsx(wg,{value:"blog",children:Ce.jsx(Jx,{})}),Ce.jsx(wg,{value:"gallery",children:Ce.jsx(Yx,{})}),Ce.jsx(wg,{value:"newsletter",children:Ce.jsx(Qx,{})}),Ce.jsx(wg,{value:"seo",children:Ce.jsx(Xx,{})}),Ce.jsx(wg,{value:"announcements",children:Ce.jsx(ev,{})})]})]}),Ce.jsx(_p,{})]}):null}function Uv(){const[e,t]=Pt.useState([]),[s,r]=Pt.useState(!0);Pt.useEffect(()=>{n()},[]);const n=async()=>{try{const{data:e,error:s}=await ah.from("blog_posts").select("id, title, slug, excerpt, cover_image_url, tags, published_at").eq("is_published",!0).lte("published_at",(new Date).toISOString()).order("published_at",{ascending:!1});if(s)throw s;t(e||[])}catch(e){}finally{r(!1)}};return Ce.jsxs(Ce.Fragment,{children:[Ce.jsx(Np,{title:"Blog - Happy Space World",description:"Read our latest articles on student mental wellness, tips, and resources"}),Ce.jsxs("div",{className:"min-h-screen flex flex-col",children:[Ce.jsx(jp,{}),Ce.jsx("main",{className:"flex-1 container mx-auto px-4 py-12",children:Ce.jsxs("div",{className:"max-w-4xl mx-auto",children:[Ce.jsx("h1",{className:"text-4xl font-bold mb-4",children:"Blog"}),Ce.jsx("p",{className:"text-lg text-muted-foreground mb-12",children:"Insights, tips, and stories about student mental wellness"}),s?Ce.jsx("div",{className:"space-y-8",children:[1,2,3].map(e=>Ce.jsxs("div",{className:"border rounded-lg overflow-hidden",children:[Ce.jsx(Cp,{className:"w-full h-48"}),Ce.jsxs("div",{className:"p-6 space-y-3",children:[Ce.jsx(Cp,{className:"h-6 w-3/4"}),Ce.jsx(Cp,{className:"h-4 w-full"}),Ce.jsx(Cp,{className:"h-4 w-2/3"})]})]},e))}):0===e.length?Ce.jsx("div",{className:"text-center py-12",children:Ce.jsx("p",{className:"text-muted-foreground",children:"No blog posts yet. Check back soon!"})}):Ce.jsx("div",{className:"space-y-8",children:e.map(e=>Ce.jsxs(Dt,{to:`/blog/${e.slug}`,className:"block border rounded-lg overflow-hidden hover:shadow-lg transition-shadow",children:[e.cover_image_url&&Ce.jsx("img",{src:e.cover_image_url,alt:e.title,className:"w-full h-48 object-cover",loading:"lazy"}),Ce.jsxs("div",{className:"p-6",children:[Ce.jsx("h2",{className:"text-2xl font-bold mb-2 hover:text-primary transition-colors",children:e.title}),e.excerpt&&Ce.jsx("p",{className:"text-muted-foreground mb-4",children:e.excerpt}),Ce.jsxs("div",{className:"flex items-center gap-4 text-sm text-muted-foreground",children:[Ce.jsxs("div",{className:"flex items-center gap-1",children:[Ce.jsx(tn,{className:"h-4 w-4"}),new Date(e.published_at).toLocaleDateString()]}),e.tags&&e.tags.length>0&&Ce.jsxs("div",{className:"flex items-center gap-1",children:[Ce.jsx(Rn,{className:"h-4 w-4"}),e.tags.slice(0,3).join(", ")]})]})]})]},e.id))})]})}),Ce.jsx(_p,{})]})]})}function Fv(){const{slug:e}=Ft(),[t,s]=Pt.useState(null),[r,n]=Pt.useState(!0);Pt.useEffect(()=>{e&&a()},[e]);const a=async()=>{try{const{data:t,error:r}=await ah.from("blog_posts").select("*").eq("slug",e).eq("is_published",!0).maybeSingle();if(r)throw r;s(t)}catch(t){}finally{n(!1)}};return r?Ce.jsxs(Ce.Fragment,{children:[Ce.jsx(jp,{}),Ce.jsx("div",{className:"container mx-auto px-4 py-12 flex justify-center",children:Ce.jsx("div",{className:"animate-pulse",children:"Loading..."})}),Ce.jsx(_p,{})]}):t?Ce.jsxs(Ce.Fragment,{children:[Ce.jsx(Np,{title:t.meta_title||t.title,description:t.meta_description||t.content.substring(0,160),image:t.og_image||t.cover_image_url||void 0,type:"article"}),Ce.jsxs("div",{className:"min-h-screen flex flex-col",children:[Ce.jsx(jp,{}),Ce.jsx("main",{className:"flex-1 container mx-auto px-4 py-12",children:Ce.jsxs("article",{className:"max-w-3xl mx-auto",children:[Ce.jsx(Uo,{variant:"ghost",asChild:!0,className:"mb-6",children:Ce.jsxs(Dt,{to:"/blog",children:[Ce.jsx(Zr,{className:"mr-2 h-4 w-4"}),"Back to Blog"]})}),Ce.jsx("h1",{className:"text-4xl font-bold mb-4",children:t.title}),Ce.jsxs("div",{className:"flex items-center gap-4 text-sm text-muted-foreground mb-8",children:[Ce.jsxs("div",{className:"flex items-center gap-1",children:[Ce.jsx(tn,{className:"h-4 w-4"}),new Date(t.published_at).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"})]}),t.tags&&t.tags.length>0&&Ce.jsxs("div",{className:"flex items-center gap-1",children:[Ce.jsx(Rn,{className:"h-4 w-4"}),t.tags.join(", ")]})]}),t.cover_image_url&&Ce.jsx("img",{src:t.cover_image_url,alt:t.title,className:"w-full h-96 object-cover rounded-lg mb-8",loading:"eager"}),Ce.jsx("div",{className:"prose prose-lg max-w-none",style:{whiteSpace:"pre-wrap"},children:t.content})]})}),Ce.jsx(_p,{})]})]}):Ce.jsxs(Ce.Fragment,{children:[Ce.jsx(jp,{}),Ce.jsxs("div",{className:"container mx-auto px-4 py-12 text-center",children:[Ce.jsx("h1",{className:"text-3xl font-bold mb-4",children:"Post Not Found"}),Ce.jsx("p",{className:"text-muted-foreground mb-8",children:"The blog post you're looking for doesn't exist."}),Ce.jsx(Uo,{asChild:!0,children:Ce.jsxs(Dt,{to:"/blog",children:[Ce.jsx(Zr,{className:"mr-2 h-4 w-4"}),"Back to Blog"]})})]}),Ce.jsx(_p,{})]})}const Bv=()=>{const e=Lt();return Pt.useEffect(()=>{},[e.pathname]),Ce.jsx("div",{className:"flex min-h-screen items-center justify-center bg-muted",children:Ce.jsxs("div",{className:"text-center",children:[Ce.jsx("h1",{className:"mb-4 text-4xl font-bold",children:"404"}),Ce.jsx("p",{className:"mb-4 text-xl text-muted-foreground",children:"Oops! Page not found"}),Ce.jsx("a",{href:"/",className:"text-primary underline hover:text-primary/90",children:"Return to Home"})]})})},qv=new No,zv=()=>Ce.jsx(Ho,{children:Ce.jsx(Ao,{client:qv,children:Ce.jsxs(Ii,{children:[Ce.jsx(Fa,{}),Ce.jsx(ci,{}),Ce.jsxs(Bt,{children:[Ce.jsx(ph,{}),Ce.jsxs(qt,{children:[Ce.jsx(zt,{path:"/",element:Ce.jsx(Sp,{})}),Ce.jsx(zt,{path:"/about",element:Ce.jsx(Ep,{})}),Ce.jsx(zt,{path:"/students",element:Ce.jsx(Tp,{})}),Ce.jsx(zt,{path:"/schools",element:Ce.jsx(Rp,{})}),Ce.jsx(zt,{path:"/resources",element:Ce.jsx(Ng,{})}),Ce.jsx(zt,{path:"/contact",element:Ce.jsx(sx,{})}),Ce.jsx(zt,{path:"/gallery",element:Ce.jsx(rx,{})}),Ce.jsx(zt,{path:"/testimonials",element:Ce.jsx(ax,{})}),Ce.jsx(zt,{path:"/blog",element:Ce.jsx(Uv,{})}),Ce.jsx(zt,{path:"/blog/:slug",element:Ce.jsx(Fv,{})}),Ce.jsx(zt,{path:"/auth",element:Ce.jsx(wx,{})}),Ce.jsx(zt,{path:"/admin",element:Ce.jsx(Lv,{})}),Ce.jsx(zt,{path:"*",element:Ce.jsx(Bv,{})})]})]})]})})});fe(document.getElementById("root")).render(Ce.jsx(At.StrictMode,{children:Ce.jsx($s,{children:Ce.jsx(Wt,{children:Ce.jsx(zv,{})})})}));
//# sourceMappingURL=index-DmqsgAT7.js.map
